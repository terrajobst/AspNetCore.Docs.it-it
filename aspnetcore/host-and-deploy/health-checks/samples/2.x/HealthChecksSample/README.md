# <a name="aspnet-core-health-check-sample"></a><span data-ttu-id="8d9bf-101">Esempio di controllo integrità di ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="8d9bf-101">ASP.NET Core Health Check Sample</span></span>

<span data-ttu-id="8d9bf-102">In questo esempio viene illustrato l'uso del middleware e dei servizi del controllo integrità.</span><span class="sxs-lookup"><span data-stu-id="8d9bf-102">This sample illustrates the use of Health Check Middleware and services.</span></span> <span data-ttu-id="8d9bf-103">Questo esempio è una dimostrazione dello scenario descritto nell'argomento [Health checks in ASP.NET Core](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks) (Controlli integrità in ASP.NET Core).</span><span class="sxs-lookup"><span data-stu-id="8d9bf-103">This sample demonstrates the scenario described in the [Health checks in ASP.NET Core](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks) topic.</span></span>

<span data-ttu-id="8d9bf-104">Per eseguire l'app di esempio per uno scenario descritto nell'argomento, usare il comando [dotnet run](https://docs.microsoft.com/dotnet/core/tools/dotnet-run) dalla cartella del progetto in una shell dei comandi.</span><span class="sxs-lookup"><span data-stu-id="8d9bf-104">To run the sample app for a scenario described in the topic, use the [dotnet run](https://docs.microsoft.com/dotnet/core/tools/dotnet-run) command from the project's folder in a command shell.</span></span> <span data-ttu-id="8d9bf-105">Inserire un'opzione per lo scenario che si sta esplorando.</span><span class="sxs-lookup"><span data-stu-id="8d9bf-105">Pass a switch for the scenario that you're exploring.</span></span> <span data-ttu-id="8d9bf-106">Per impostazione predefinita, la configurazione dell'app diventa `basic` se non si specifica un'opzione in `dotnet run`.</span><span class="sxs-lookup"><span data-stu-id="8d9bf-106">The app defaults to the `basic` configuration when a switch isn't provided to `dotnet run`.</span></span>

| <span data-ttu-id="8d9bf-107">Scenario</span><span class="sxs-lookup"><span data-stu-id="8d9bf-107">Scenario</span></span>                                               | <span data-ttu-id="8d9bf-108">Comando app di esempio</span><span class="sxs-lookup"><span data-stu-id="8d9bf-108">Sample app command</span></span>               | <span data-ttu-id="8d9bf-109">Description</span><span class="sxs-lookup"><span data-stu-id="8d9bf-109">Description</span></span> |
| ------------------------------------------------------ | -------------------------------- | ----------- |
| <span data-ttu-id="8d9bf-110">Probe di integrità di base (valore predefinito)</span><span class="sxs-lookup"><span data-stu-id="8d9bf-110">Basic health probe (default)</span></span>                           | `dotnet run --scenario basic`    | <span data-ttu-id="8d9bf-111">Conferma che l'app può elaborare le richieste HTTP.</span><span class="sxs-lookup"><span data-stu-id="8d9bf-111">Confirms that the app can process HTTP requests.</span></span> |
| <span data-ttu-id="8d9bf-112">Probe del database</span><span class="sxs-lookup"><span data-stu-id="8d9bf-112">Database probe</span></span>                                         | `dotnet run --scenario db`       | <span data-ttu-id="8d9bf-113">Controlla una connessione al database SQL Server.</span><span class="sxs-lookup"><span data-stu-id="8d9bf-113">Checks a SQL Server database connection.</span></span> <span data-ttu-id="8d9bf-114">Per istruzioni, vedere la sezione [Database probe](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks#database-probe) (Probe del database) dell'argomento.</span><span class="sxs-lookup"><span data-stu-id="8d9bf-114">See the [Database probe](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks#database-probe) section of the topic for instructions.</span></span> |
| <span data-ttu-id="8d9bf-115">Probe di idoneità/attività</span><span class="sxs-lookup"><span data-stu-id="8d9bf-115">Readiness/liveness probes</span></span>                              | `dotnet run --scenario liveness` | <span data-ttu-id="8d9bf-116">Esegue i controlli dello stato dell'app attiva (*attività*) o della preparazione dell'app a diventare attiva (*idoneità*).</span><span class="sxs-lookup"><span data-stu-id="8d9bf-116">Performs checks for a live app status (*liveness*) versus the app preparing to become live (*readiness*).</span></span> |
| <span data-ttu-id="8d9bf-117">Probe basato su metrica (memoria)/</span><span class="sxs-lookup"><span data-stu-id="8d9bf-117">Metric-based probe (memory)/</span></span><br><span data-ttu-id="8d9bf-118">writer di risposta personalizzata</span><span class="sxs-lookup"><span data-stu-id="8d9bf-118">custom response writer</span></span> | `dotnet run --scenario writer`   | <span data-ttu-id="8d9bf-119">Esegue controlli sull'utilizzo della memoria e scrive codice JSON personalizzato quando viene controllato l'endpoint di integrità.</span><span class="sxs-lookup"><span data-stu-id="8d9bf-119">Checks against memory use and writes out custom JSON when the health endpoint is checked.</span></span> |
| <span data-ttu-id="8d9bf-120">Filtro per porta</span><span class="sxs-lookup"><span data-stu-id="8d9bf-120">Filter by port</span></span>                                         | `dotnet run --scenario port`     | <span data-ttu-id="8d9bf-121">Filtra controlli di integrità per una determinata porta.</span><span class="sxs-lookup"><span data-stu-id="8d9bf-121">Filters health checks to a given port.</span></span> <span data-ttu-id="8d9bf-122">Per istruzioni, vedere la sezione [Filter by port](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks#filter-by-port) (Filtrare per porta) dell'argomento.</span><span class="sxs-lookup"><span data-stu-id="8d9bf-122">See the [Filter by port](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks#filter-by-port) section of the topic for instructions.</span></span> |

<span data-ttu-id="8d9bf-123">Gli scenari relativi al probe del database e al filtro per porta richiedono una configurazione aggiuntiva.</span><span class="sxs-lookup"><span data-stu-id="8d9bf-123">The database probe and port filter scenarios require additional configuration.</span></span> <span data-ttu-id="8d9bf-124">Per informazioni dettagliate, vedere l'argomento [Health checks](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks) (Controlli integrità).</span><span class="sxs-lookup"><span data-stu-id="8d9bf-124">See the [Health checks](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks) topic for details.</span></span>
