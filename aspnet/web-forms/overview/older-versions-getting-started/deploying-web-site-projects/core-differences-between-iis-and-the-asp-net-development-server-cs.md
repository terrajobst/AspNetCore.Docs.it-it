---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/core-differences-between-iis-and-the-asp-net-development-server-cs
title: Principali differenze tra IIS e il Server di sviluppo ASP.NET (c#) | Documenti Microsoft
author: rick-anderson
description: "Durante il test di un'applicazione ASP.NET localmente, probabilità sono che si utilizza il Server Web di sviluppo ASP.NET. Tuttavia, il sito Web di produzione è probabilmente pow..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 04/01/2009
ms.topic: article
ms.assetid: 13a5a423-9235-4dde-b408-2fd10f791d63
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/core-differences-between-iis-and-the-asp-net-development-server-cs
msc.type: authoredcontent
ms.openlocfilehash: 79f06707cadf027baa03652dc722cab31f494b09
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/24/2018
---
<a name="core-differences-between-iis-and-the-aspnet-development-server-c"></a><span data-ttu-id="d5f75-104">Differenze principali tra IIS e il Server di sviluppo ASP.NET (c#)</span><span class="sxs-lookup"><span data-stu-id="d5f75-104">Core Differences Between IIS and the ASP.NET Development Server (C#)</span></span>
====================
<span data-ttu-id="d5f75-105">da [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="d5f75-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="d5f75-106">[Scaricare codice](http://download.microsoft.com/download/4/5/F/45F815EC-8B0E-46D3-9FB8-2DC015CCA306/ASPNET_Hosting_Tutorial_06_CS.zip) o [Scarica il PDF](http://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial06_WebServerDiff_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="d5f75-106">[Download Code](http://download.microsoft.com/download/4/5/F/45F815EC-8B0E-46D3-9FB8-2DC015CCA306/ASPNET_Hosting_Tutorial_06_CS.zip) or [Download PDF](http://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial06_WebServerDiff_cs.pdf)</span></span>

> <span data-ttu-id="d5f75-107">Durante il test di un'applicazione ASP.NET localmente, probabilità sono che si utilizza il Server Web di sviluppo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d5f75-107">When testing an ASP.NET application locally, chances are you are using the ASP.NET Development Web Server.</span></span> <span data-ttu-id="d5f75-108">Tuttavia, il sito Web di produzione è probabilmente IIS spenta.</span><span class="sxs-lookup"><span data-stu-id="d5f75-108">However, the production website is most likely powered IIS.</span></span> <span data-ttu-id="d5f75-109">Esistono alcune differenze tra la modalità di gestire le richieste di questi server web e queste differenze possono avere conseguenze.</span><span class="sxs-lookup"><span data-stu-id="d5f75-109">There are some differences between how these web servers handle requests, and these differences can have important consequences.</span></span> <span data-ttu-id="d5f75-110">In questa esercitazione illustra alcune delle differenze più pertinenti.</span><span class="sxs-lookup"><span data-stu-id="d5f75-110">This tutorial explores some of the more germane differences.</span></span>


## <a name="introduction"></a><span data-ttu-id="d5f75-111">Introduzione</span><span class="sxs-lookup"><span data-stu-id="d5f75-111">Introduction</span></span>

<span data-ttu-id="d5f75-112">Ogni volta che un utente accede a un'applicazione ASP.NET il browser invia una richiesta per il sito Web.</span><span class="sxs-lookup"><span data-stu-id="d5f75-112">Whenever a user visits an ASP.NET application his browser sends a request to the website.</span></span> <span data-ttu-id="d5f75-113">Tale richiesta viene prelevata dal software di server web, che interagisce con il runtime di ASP.NET per generare e restituire il contenuto per la risorsa richiesta.</span><span class="sxs-lookup"><span data-stu-id="d5f75-113">That request is picked up by the web server software, which coordinates with the ASP.NET runtime to generate and return the content for the requested resource.</span></span> <span data-ttu-id="d5f75-114">Il[**si** nternet **si** nformation **S** linea (IIS)](http://en.wikipedia.org/wiki/Internet_Information_Services) sono una suite di servizi che forniscono funzionalità comuni basati su Internet per Server di Windows.</span><span class="sxs-lookup"><span data-stu-id="d5f75-114">The[**I** nternet **I** nformation **S** ervices (IIS)](http://en.wikipedia.org/wiki/Internet_Information_Services) are a suite of services that provide common Internet-based functionality for Windows servers.</span></span> <span data-ttu-id="d5f75-115">IIS è il server web di uso più comune per le applicazioni ASP.NET in ambienti di produzione; è probabile che il software del server web utilizzato dal provider host web per servire l'applicazione ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d5f75-115">IIS is the most commonly used web server for ASP.NET applications in production environments; it's most likely the web server software being used by your web host provider to serve your ASP.NET application.</span></span> <span data-ttu-id="d5f75-116">IIS consente inoltre come il software del server web nell'ambiente di sviluppo, anche se ciò comporta l'installazione di IIS e configurarlo correttamente.</span><span class="sxs-lookup"><span data-stu-id="d5f75-116">IIS can also be used as the web server software in the development environment, although this entails installing IIS and properly configuring it.</span></span>


<span data-ttu-id="d5f75-117">Il Server di sviluppo ASP.NET è un'opzione di server web alternativo per l'ambiente di sviluppo. incluso in ed è integrato in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d5f75-117">The ASP.NET Development Server is an alternative web server option for the development environment; it ships with and is integrated into Visual Studio.</span></span> <span data-ttu-id="d5f75-118">A meno che l'applicazione web è stata configurata per utilizzare IIS, il Server di sviluppo ASP.NET viene automaticamente avviato e utilizzato come server web la prima volta che si visita una pagina web da Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d5f75-118">Unless the web application has been configured to use IIS, the ASP.NET Development Server is automatically started and used as the web server the first time you visit a web page from within Visual Studio.</span></span> <span data-ttu-id="d5f75-119">Le applicazioni web demo creato nuovamente il [ *determinare quali file devono essere distribuiti* ](determining-what-files-need-to-be-deployed-cs.md) esercitazione sono state entrambe le applicazioni web basate sul sistema di file che non sono state configurate per utilizzare IIS.</span><span class="sxs-lookup"><span data-stu-id="d5f75-119">The demo web applications we created back in the [*Determining What Files Need to Be Deployed*](determining-what-files-need-to-be-deployed-cs.md) tutorial were both file system-based web applications that were not configured to use IIS.</span></span> <span data-ttu-id="d5f75-120">Pertanto, durante la visita di questi siti Web da Visual Studio viene utilizzato il Server di sviluppo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d5f75-120">Therefore, when visiting either of these websites from within Visual Studio the ASP.NET Development Server is used.</span></span>

<span data-ttu-id="d5f75-121">In una situazione ideale sarebbe identico gli ambienti di sviluppo e produzione.</span><span class="sxs-lookup"><span data-stu-id="d5f75-121">In a perfect world the development and production environments would be identical.</span></span> <span data-ttu-id="d5f75-122">Tuttavia, come descritto nell'esercitazione precedente non è raro che gli ambienti per le impostazioni di configurazione diversi.</span><span class="sxs-lookup"><span data-stu-id="d5f75-122">However, as we discussed in the preceding tutorial it is not uncommon for the environments to have differing configuration settings.</span></span> <span data-ttu-id="d5f75-123">Utilizzo di software del server web diverso negli ambienti aggiunge un'altra variabile che deve essere prese in considerazione quando si distribuisce un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d5f75-123">Using different web server software in the environments adds another variable that must be taken into consideration when deploying an application.</span></span> <span data-ttu-id="d5f75-124">In questa esercitazione vengono illustrate le differenze principali tra IIS e il Server di sviluppo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d5f75-124">This tutorial covers the key differences between IIS and the ASP.NET Development Server.</span></span> <span data-ttu-id="d5f75-125">A causa di queste differenze esistono scenari in cui il codice eseguito completamente nell'ambiente di sviluppo genera un'eccezione o si comporta in modo diverso quando eseguito nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="d5f75-125">Because of these differences there are scenarios where code that runs flawlessly in the development environment throws an exception or behaves differently when executed in production.</span></span>

## <a name="security-context-differences"></a><span data-ttu-id="d5f75-126">Differenze di contesto di sicurezza</span><span class="sxs-lookup"><span data-stu-id="d5f75-126">Security Context Differences</span></span>

<span data-ttu-id="d5f75-127">Ogni volta che il software del server web gestisce una richiesta in ingresso associa la richiesta a un contesto di sicurezza specifico.</span><span class="sxs-lookup"><span data-stu-id="d5f75-127">Whenever the web server software handles an incoming request it associates that request with a particular security context.</span></span> <span data-ttu-id="d5f75-128">Queste informazioni di contesto di sicurezza utilizzate dal sistema operativo per determinare quali azioni sono consentite dalla richiesta.</span><span class="sxs-lookup"><span data-stu-id="d5f75-128">This security context information is used by the operating system to determine what actions are permissible by the request.</span></span> <span data-ttu-id="d5f75-129">Ad esempio, una pagina ASP.NET potrebbe includere codice che registra un messaggio in un file su disco.</span><span class="sxs-lookup"><span data-stu-id="d5f75-129">For example, an ASP.NET page might include code that logs some message to a file on disk.</span></span> <span data-ttu-id="d5f75-130">Affinché questa pagina ASP.NET viene eseguita senza errori, il contesto di sicurezza necessario appropriate autorizzazioni a livello di sistema del file, vale a dire scrittura autorizzazioni su tale file.</span><span class="sxs-lookup"><span data-stu-id="d5f75-130">In order for this ASP.NET page to execute without error, the security context must have the appropriate file system-level permissions, namely write permissions on that file.</span></span>

<span data-ttu-id="d5f75-131">Il Server di sviluppo ASP.NET associa le richieste in ingresso con il contesto di sicurezza dell'utente attualmente connesso.</span><span class="sxs-lookup"><span data-stu-id="d5f75-131">The ASP.NET Development Server associates incoming requests with the security context of the currently logged on user.</span></span> <span data-ttu-id="d5f75-132">Se è stato effettuato l'accesso al desktop come amministratore, le pagine ASP.NET servite dal Server di sviluppo ASP.NET avranno gli stessi diritti di accesso come amministratore.</span><span class="sxs-lookup"><span data-stu-id="d5f75-132">If you are logged on to your desktop as an administrator, then the ASP.NET pages served by the ASP.NET Development Server will have the same access rights as an administrator.</span></span> <span data-ttu-id="d5f75-133">Tuttavia, le richieste ASP.NET gestite da IIS sono associate a un account di computer specifico.</span><span class="sxs-lookup"><span data-stu-id="d5f75-133">However, ASP.NET requests handled by IIS are associated with a specific machine account.</span></span> <span data-ttu-id="d5f75-134">Per impostazione predefinita, l'account servizio di rete del computer viene utilizzato da IIS versione 6 e 7, anche se il provider di hosting web potrebbe aver configurato un account univoco per ogni cliente.</span><span class="sxs-lookup"><span data-stu-id="d5f75-134">By default, the Network Service machine account is used by IIS versions 6 and 7, although your web host provider may have configured a unique account for each customer.</span></span> <span data-ttu-id="d5f75-135">Inoltre, il provider di hosting web sono probabilmente assegnate autorizzazioni limitate per l'account computer.</span><span class="sxs-lookup"><span data-stu-id="d5f75-135">What's more, your web host provider has likely given limited permissions to this machine account.</span></span> <span data-ttu-id="d5f75-136">Il risultato è che è possibile pagine web che vengono eseguite senza errori nell'ambiente di sviluppo, ma genera eccezioni correlate alle autorizzazioni quando sono ospitati nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="d5f75-136">The net result is that you may have web pages that execute without error in the development environment, but generate authorization-related exceptions when hosted in the production environment.</span></span>

<span data-ttu-id="d5f75-137">Per visualizzare questo tipo di errore nell'azione ho creato una pagina nel sito Web che crea un file su disco che archivia la data e l'ora più recente di un utente recensioni, visualizzare il *insegna manualmente ASP.NET 3.5 nelle 24 ore* esaminare.</span><span class="sxs-lookup"><span data-stu-id="d5f75-137">To show this type of error in action I've created a page in the Book Reviews website that creates a file on disk that stores the most recent date and time someone viewed the *Teach Yourself ASP.NET 3.5 in 24 Hours* review.</span></span> <span data-ttu-id="d5f75-138">Per proseguire, aprire il `~/Tech/TYASP35.aspx` pagina e aggiungere il codice seguente per il `Page_Load` gestore eventi:</span><span class="sxs-lookup"><span data-stu-id="d5f75-138">To follow along, open the `~/Tech/TYASP35.aspx` page and add the following code to the `Page_Load` event handler:</span></span>

[!code-csharp[Main](core-differences-between-iis-and-the-asp-net-development-server-cs/samples/sample1.cs)]

> [!NOTE]
> <span data-ttu-id="d5f75-139">Il [ `File.WriteAllText` metodo](https://msdn.microsoft.com/library/system.io.file.writealltext.aspx) crea un nuovo file se non esiste e quindi scrive il contenuto specificato.</span><span class="sxs-lookup"><span data-stu-id="d5f75-139">The [`File.WriteAllText` method](https://msdn.microsoft.com/library/system.io.file.writealltext.aspx) creates a new file if it does not exist and then writes the specified contents to it.</span></span> <span data-ttu-id="d5f75-140">Se il file esiste già, il contenuto esistente viene sovrascritto.</span><span class="sxs-lookup"><span data-stu-id="d5f75-140">If the file already exists, it's existing content is overwritten.</span></span>


<span data-ttu-id="d5f75-141">Successivamente, visitare il *insegna manualmente ASP.NET 3.5 nelle 24 ore* pagina verifica book in ambiente di sviluppo utilizzando il Server di sviluppo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d5f75-141">Next, visit the *Teach Yourself ASP.NET 3.5 in 24 Hours* book review page in the development environment using the ASP.NET Development Server.</span></span> <span data-ttu-id="d5f75-142">Supponendo che si è connessi al computer con un account che disponga di autorizzazioni adeguate per creare e modificare un file di testo nel sito web viene visualizzato directory radice dell'applicazione la revisione del libro identico al precedente, ma ogni volta che la pagina visitata la data e ora e dell'utente  Indirizzo IP viene archiviato nel `LastTYASP35Access.txt` file.</span><span class="sxs-lookup"><span data-stu-id="d5f75-142">Assuming that you are logged on to your computer with an account that has adequate permissions to create and modify a text file in the web application's root directory the book review appears the same as before, but each time the page is visited the date and time and user's IP address is stored in the `LastTYASP35Access.txt` file.</span></span> <span data-ttu-id="d5f75-143">Puntare il browser in questo file. si verrà visualizzato un messaggio simile a quello illustrato nella figura 1.</span><span class="sxs-lookup"><span data-stu-id="d5f75-143">Point your browser to this file; you should see a message similar to the one shown in Figure 1.</span></span>


<span data-ttu-id="d5f75-144">[![Il File di testo contiene la data e ora ultima revisione del libro è stata visitata](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image2.png)](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="d5f75-144">[![The Text File Contains the Last Date and Time the Book Review was Visited](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image2.png)](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image1.png)</span></span>

<span data-ttu-id="d5f75-145">**Figura 1**: il File di testo contiene la data e ora ultima revisione del libro è stata visitata ([fare clic per visualizzare l'immagine ingrandita](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="d5f75-145">**Figure 1**: The Text File Contains the Last Date and Time the Book Review was Visited ([Click to view full-size image](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image3.png))</span></span>


<span data-ttu-id="d5f75-146">Distribuire l'applicazione web nell'ambiente di produzione e quindi visitare ospitato *insegna manualmente ASP.NET 3.5 nelle 24 ore* pagina verifica manuale.</span><span class="sxs-lookup"><span data-stu-id="d5f75-146">Deploy the web application to production and then visit the hosted *Teach Yourself ASP.NET 3.5 in 24 Hours* book review page.</span></span> <span data-ttu-id="d5f75-147">A questo punto la pagina di revisione del libro è visualizzato come normale o il messaggio di errore illustrato nella figura 2.</span><span class="sxs-lookup"><span data-stu-id="d5f75-147">At this point you should either see the book review page as normal or the error message shown in Figure 2.</span></span> <span data-ttu-id="d5f75-148">Alcuni provider host web concedere autorizzazioni di scrittura per l'account del computer ASP.NET anonimo, in cui la pagina di case funzionerà senza errori.</span><span class="sxs-lookup"><span data-stu-id="d5f75-148">Some web host providers grant write permissions to the anonymous ASP.NET machine account, in which case the page will work without error.</span></span> <span data-ttu-id="d5f75-149">Se, tuttavia, il provider di hosting web impedisce l'accesso in scrittura per l'account anonimo una [ `UnauthorizedAccessException` eccezione](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx) viene generato quando il `TYASP35.aspx` pagina tenta di scrivere la data e ora correnti per il `LastTYASP35Access.txt` file.</span><span class="sxs-lookup"><span data-stu-id="d5f75-149">If, however, your web host provider prohibits write access for the anonymous account then an [`UnauthorizedAccessException` exception](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx) is raised when the `TYASP35.aspx` page attempts to write the current date and time to the `LastTYASP35Access.txt` file.</span></span>


<span data-ttu-id="d5f75-150">[![L'Account computer predefinito usato da IIS non dispone di autorizzazioni per scrivere nel File System](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image5.png)](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="d5f75-150">[![The Default Machine Account Used by IIS Does Not Have Permissions to Write to the File System](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image5.png)](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image4.png)</span></span>

<span data-ttu-id="d5f75-151">**Figura 2**: il predefinito macchina Account utilizzato da IIS Does non dispone delle autorizzazioni di scrittura nel File System ([fare clic per visualizzare l'immagine ingrandita](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="d5f75-151">**Figure 2**: The Default Machine Account Used by IIS Does Not Have Permissions to Write to the File System ([Click to view full-size image](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image6.png))</span></span>


<span data-ttu-id="d5f75-152">Buone notizie sono un tipo di strumento di autorizzazioni che consente di specificare le autorizzazioni del file nel sito Web che la maggior parte dei provider di host web.</span><span class="sxs-lookup"><span data-stu-id="d5f75-152">The good news is that most web host providers have some sort of permissions tool that allows you to specify file system permissions in your website.</span></span> <span data-ttu-id="d5f75-153">Concedere l'accesso in scrittura account ASP.NET anonimo alla directory radice e quindi nuovamente la pagina di revisione della Rubrica.</span><span class="sxs-lookup"><span data-stu-id="d5f75-153">Grant the anonymous ASP.NET account write access to the root directory and then revisit the book review page.</span></span> <span data-ttu-id="d5f75-154">(Se necessario, contattare il provider di hosting web per ottenere assistenza su come concedere autorizzazioni di scrittura per l'account ASP.NET predefinito.) Questa volta la pagina devono essere caricati senza errori e `LastTYASP35Access.txt` file deve essere creato correttamente.</span><span class="sxs-lookup"><span data-stu-id="d5f75-154">(If needed, contact your web host provider for assistance on how to grant write permissions to the default ASP.NET account.) This time the page should load without error and the `LastTYASP35Access.txt` file should be created successfully.</span></span>

<span data-ttu-id="d5f75-155">La distanza qui è che, poiché il Server di sviluppo ASP.NET opera in un contesto di sicurezza diverso rispetto a IIS, è possibile che le pagine ASP.NET di leggere o scrivere nel file System, leggere o scrivere nel registro eventi di Windows, o leggere o scrivere a Windows  Registro di sistema verrà funziona come previsto in sviluppo ma generano eccezioni quando è in produzione.</span><span class="sxs-lookup"><span data-stu-id="d5f75-155">The take away here is that because the ASP.NET Development Server operates under a different security context than IIS, it is possible that your ASP.NET pages that read or write to the file system, read from or write to the Windows Event Log, or read or write to the Windows registry will work as expected on development but generate exceptions when on production.</span></span> <span data-ttu-id="d5f75-156">Quando si compila un'applicazione web che sarà distribuito in un ambiente di hosting web condivisa, leggere o scrivere nel registro eventi o il Registro di sistema di Windows.</span><span class="sxs-lookup"><span data-stu-id="d5f75-156">When building a web application that will be deployed to a shared web hosting environment, do not read or write to the Event Log or the Windows registry.</span></span> <span data-ttu-id="d5f75-157">Inoltre, prendere nota di tutte le pagine ASP.NET di leggere o scrivere nel file System come potrebbe essere necessario concedono autorizzazioni di lettura e scrittura dei privilegi nelle cartelle appropriate nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="d5f75-157">Also take note of any ASP.NET pages that read from or write to the file system as you may need to grant read and write privileges on the appropriate folders in the production environment.</span></span>

## <a name="differences-on-serving-static-content"></a><span data-ttu-id="d5f75-158">Differenze nella gestione contenuto statico</span><span class="sxs-lookup"><span data-stu-id="d5f75-158">Differences On Serving Static Content</span></span>

<span data-ttu-id="d5f75-159">Un'altra differenza principale tra IIS e il Server di sviluppo ASP.NET è una modalità di gestione di richieste di contenuto statico.</span><span class="sxs-lookup"><span data-stu-id="d5f75-159">Another core difference between IIS and the ASP.NET Development Server is how they handle requests for static content.</span></span> <span data-ttu-id="d5f75-160">Ogni richiesta che diventa il Server di sviluppo ASP.NET per una pagina ASP.NET, un'immagine o un file JavaScript, viene elaborato dal runtime di ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d5f75-160">Every request that comes into the ASP.NET Development Server, whether for an ASP.NET page, an image, or a JavaScript file, is processed by the ASP.NET runtime.</span></span> <span data-ttu-id="d5f75-161">Per impostazione predefinita, IIS richiama solo dal runtime ASP.NET quando arriva una richiesta per una risorsa ASP.NET, ad esempio una pagina web ASP.NET, un servizio Web e così via.</span><span class="sxs-lookup"><span data-stu-id="d5f75-161">By default, IIS only invokes the ASP.NET runtime when a request comes in for an ASP.NET resource, such as an ASP.NET web page, a Web Service, and so forth.</span></span> <span data-ttu-id="d5f75-162">Richieste di contenuto statico - immagini, file CSS, file JavaScript, i file PDF, i file ZIP e così via - vengono recuperate da IIS senza richiedere l'intervento del runtime di ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d5f75-162">Requests for static content - images, CSS files, JavaScript files, PDF files, ZIP files, and the like - are retrieved by IIS without the involvement of the ASP.NET runtime.</span></span> <span data-ttu-id="d5f75-163">(È possibile indicare IIS per funzionare con il runtime ASP.NET per la gestione di contenuto statico; in questa esercitazione per ulteriori informazioni, consultare la sezione "Autenticazione URL nel file statici con IIS 7 e l'autenticazione basata su form di esecuzione")</span><span class="sxs-lookup"><span data-stu-id="d5f75-163">(It is possible to instruct IIS to work with the ASP.NET runtime when serving static content; consult the "Performing Forms-Based Authentication and URL Authentication on Static Files with IIS 7" section in this tutorial for more information.)</span></span>

<span data-ttu-id="d5f75-164">Il runtime ASP.NET esegue una serie di passaggi per generare il contenuto richiesto, tra cui (che identifica il richiedente) di autenticazione e autorizzazione (consente di determinare se il richiedente dispone dell'autorizzazione per visualizzare il contenuto richiesto).</span><span class="sxs-lookup"><span data-stu-id="d5f75-164">The ASP.NET runtime performs a number of steps to generate the requested content, including authentication (identifying the requestor) and authorization (determining if the requestor has permission to view the requested content).</span></span> <span data-ttu-id="d5f75-165">È una forma comune di autenticazione *l'autenticazione basata su form*, in cui un utente è identificato da immettere le proprie credenziali, in genere un nome utente e password - nelle caselle di testo in una pagina web.</span><span class="sxs-lookup"><span data-stu-id="d5f75-165">A popular form of authentication is *forms-based authentication*, in which a user is identified by entering their credentials - usually a username and password - into textboxes on a web page.</span></span> <span data-ttu-id="d5f75-166">Durante la convalida le credenziali, il sito Web memorizza un *ticket di autenticazione* cookie nel browser dell'utente, che viene inviato con ogni richiesta successiva per il sito Web e viene usata per autenticare l'utente.</span><span class="sxs-lookup"><span data-stu-id="d5f75-166">Upon validating their credentials, the website stores an *authentication ticket* cookie on the user's browser, which is sent with every subsequent request to the website and is what is used to authenticate the user.</span></span> <span data-ttu-id="d5f75-167">Inoltre, è possibile specificare *autorizzazione URL* regole che determinano quali utenti possono o non è possibile accedere a una cartella particolare.</span><span class="sxs-lookup"><span data-stu-id="d5f75-167">Moreover, it is possible to specify *URL authorization* rules that dictate what users can or cannot access a particular folder.</span></span> <span data-ttu-id="d5f75-168">Molti siti Web ASP.NET di utilizzare l'autenticazione basata su form e l'autorizzazione URL per supportare gli account utente e definire le parti del sito che sono accessibili agli utenti autenticati o utenti che appartengono a un determinato ruolo solo.</span><span class="sxs-lookup"><span data-stu-id="d5f75-168">Many ASP.NET websites use forms-based authentication and URL authorization to support user accounts and to define portions of the site that are only accessible to authenticated users or users that belong to a certain role.</span></span>

> [!NOTE]
> <span data-ttu-id="d5f75-169">Per un esame esauriente di ASP. Del NET autenticazione basata su form, autorizzazione URL e altre funzionalità relative all'account utente, assicurarsi di estrarre il [esercitazioni di sicurezza del sito Web](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md).</span><span class="sxs-lookup"><span data-stu-id="d5f75-169">For a thorough examination of ASP.NET's forms-based authentication, URL authorization, and other user account-related features, be sure to check out my [Website Security Tutorials](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md).</span></span>


<span data-ttu-id="d5f75-170">Si consideri un sito Web che supporta gli account utente tramite autorizzazione basata su form e dispone di una cartella, usare l'autorizzazione URL, è configurata per consentire agli utenti autenticati.</span><span class="sxs-lookup"><span data-stu-id="d5f75-170">Consider a website that supports user accounts using forms-based authorization and has a folder that, using URL authorization, is configured to only allow authenticated users.</span></span> <span data-ttu-id="d5f75-171">Si supponga che la cartella contiene pagine ASP.NET e i file PDF e che il motivo è che solo gli utenti autenticati possono visualizzare questi file PDF.</span><span class="sxs-lookup"><span data-stu-id="d5f75-171">Imagine that this folder contains ASP.NET pages and PDF files and that the intent is that only authenticated users can view these PDF files.</span></span>

<span data-ttu-id="d5f75-172">Cosa accade se un visitatore tenta di visualizzare uno di questi file PDF immettendo l'URL direttamente nella barra degli indirizzi del browser dell'utente.</span><span class="sxs-lookup"><span data-stu-id="d5f75-172">What happens if a visitor attempts to view one of these PDF files by entering the URL directly in his browser's Address bar?</span></span> <span data-ttu-id="d5f75-173">Per individuare, si crea una nuova cartella nel sito recensioni, aggiungere alcuni file PDF e configurare il sito per utilizzare l'autorizzazione di URL per impedire a utenti anonimi di visitare questa cartella.</span><span class="sxs-lookup"><span data-stu-id="d5f75-173">To find out, let's create a new folder in the Book Reviews site, add some PDF files, and configure the site to use URL authorization to prohibit anonymous users from visiting this folder.</span></span> <span data-ttu-id="d5f75-174">Se si scarica applicazione demo, si noterà che ho creato una cartella denominata `PrivateDocs` e aggiunta di un file PDF da my [esercitazioni di sicurezza del sito Web](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md) (come appropriato!).</span><span class="sxs-lookup"><span data-stu-id="d5f75-174">If you download the demo application you'll see that I created a folder called `PrivateDocs` and added a PDF from my [Website Security Tutorials](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md) (how fitting!).</span></span> <span data-ttu-id="d5f75-175">Il `PrivateDocs` cartella contiene inoltre un `Web.config` file che specifica le regole di autorizzazione URL per negare agli utenti anonimi:</span><span class="sxs-lookup"><span data-stu-id="d5f75-175">The `PrivateDocs` folder also contains a `Web.config` file that specifies the URL authorization rules to deny anonymous users:</span></span>

[!code-xml[Main](core-differences-between-iis-and-the-asp-net-development-server-cs/samples/sample2.xml)]

<span data-ttu-id="d5f75-176">Infine, è stata configurata l'applicazione web per utilizzare l'autenticazione basata su form, aggiornando il `Web.config` file nella directory radice, la sostituzione:</span><span class="sxs-lookup"><span data-stu-id="d5f75-176">Finally, I configured the web application to use forms-based authentication by updating the `Web.config` file in the root directory, replacing:</span></span>

[!code-xml[Main](core-differences-between-iis-and-the-asp-net-development-server-cs/samples/sample3.xml)]

<span data-ttu-id="d5f75-177">con:</span><span class="sxs-lookup"><span data-stu-id="d5f75-177">With:</span></span>

[!code-xml[Main](core-differences-between-iis-and-the-asp-net-development-server-cs/samples/sample4.xml)]

<span data-ttu-id="d5f75-178">Utilizzo del Server di sviluppo ASP.NET, visitare il sito e immettere l'URL diretto per uno dei file PDF nella barra degli indirizzi del browser.</span><span class="sxs-lookup"><span data-stu-id="d5f75-178">Using the ASP.NET Development Server, visit the site and enter the direct URL to one of the PDF files in your browser's Address bar.</span></span> <span data-ttu-id="d5f75-179">Se è stato scaricato il sito Web associato a questa esercitazione che l'URL dovrebbe risultare simile al seguente:`http://localhost:portNumber/PrivateDocs/aspnet_tutorial01_Basics_vb.pdf`</span><span class="sxs-lookup"><span data-stu-id="d5f75-179">If you downloaded the website associated with this tutorial the URL should look something like: `http://localhost:portNumber/PrivateDocs/aspnet_tutorial01_Basics_vb.pdf`</span></span>

<span data-ttu-id="d5f75-180">Immettere l'URL nella barra degli indirizzi determina il browser inviare una richiesta al Server di sviluppo ASP.NET per il file.</span><span class="sxs-lookup"><span data-stu-id="d5f75-180">Entering this URL into the Address bar causes the browser to send a request to the ASP.NET Development Server for the file.</span></span> <span data-ttu-id="d5f75-181">I Server di sviluppo ASP.NET trasferisce la richiesta al runtime di ASP.NET per l'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="d5f75-181">The ASP.NET Development Server hands off the request to the ASP.NET runtime for processing.</span></span> <span data-ttu-id="d5f75-182">Poiché non è stato ancora effettuato e il `Web.config` nel `PrivateDocs` cartella è configurata per negare l'accesso anonimo, il runtime di ASP.NET ci reindirizza automaticamente alla pagina di accesso, `Login.aspx` (vedere la figura 3).</span><span class="sxs-lookup"><span data-stu-id="d5f75-182">Because we have not yet logged in, and because the `Web.config` in the `PrivateDocs` folder is configured to deny anonymous access, the ASP.NET runtime automatically redirects us to the login page, `Login.aspx` (see Figure 3).</span></span> <span data-ttu-id="d5f75-183">Quando il reindirizzamento dell'utente alla pagina di accesso, ASP.NET include un `ReturnUrl` parametro querystring che indica la pagina a cui ha tentato di visualizzare l'utente.</span><span class="sxs-lookup"><span data-stu-id="d5f75-183">When redirecting the user to the log in page, ASP.NET includes a `ReturnUrl` querystring parameter that indicates the page the user was attempting to view.</span></span> <span data-ttu-id="d5f75-184">Dopo aver completato l'accesso l'utente può essere restituito da questa pagina.</span><span class="sxs-lookup"><span data-stu-id="d5f75-184">After successfully logging in the user can be returned to this page.</span></span>


<span data-ttu-id="d5f75-185">[![Gli utenti non autorizzati vengono automaticamente reindirizzati alla pagina di accesso](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image8.png)](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="d5f75-185">[![Unauthorized Users are Automatically Redirected to the Login Page](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image8.png)](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image7.png)</span></span>

<span data-ttu-id="d5f75-186">**Figura 3**: gli utenti non autorizzati vengono automaticamente reindirizzati alla pagina di accesso ([fare clic per visualizzare l'immagine ingrandita](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="d5f75-186">**Figure 3**: Unauthorized Users are Automatically Redirected to the Login Page ([Click to view full-size image](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image9.png))</span></span>


<span data-ttu-id="d5f75-187">Ora di seguito viene illustrato questo comportamento in produzione.</span><span class="sxs-lookup"><span data-stu-id="d5f75-187">Now let's see how this behaves on production.</span></span> <span data-ttu-id="d5f75-188">Distribuire l'applicazione e immettere l'URL diretto a uno dei PDF nel `PrivateDocs` cartella nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="d5f75-188">Deploy your application and enter the direct URL to one of the PDFs in the `PrivateDocs` folder in production.</span></span> <span data-ttu-id="d5f75-189">Verrà chiesto di specificare il browser per inviare una richiesta di IIS per il file.</span><span class="sxs-lookup"><span data-stu-id="d5f75-189">This prompts your browser to send a request IIS for the file.</span></span> <span data-ttu-id="d5f75-190">Poiché è richiesto un file statico, IIS recupera e restituisce il file senza richiamare il runtime di ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d5f75-190">Because a static file is requested, IIS retrieves and returns the file without invoking the ASP.NET runtime.</span></span> <span data-ttu-id="d5f75-191">Di conseguenza, si è verificato alcun controllo di autorizzazione URL eseguita. il contenuto del documento PDF apparentemente private è accessibile a qualsiasi utente che conosce l'URL diretto al file.</span><span class="sxs-lookup"><span data-stu-id="d5f75-191">As a result, there was no URL authorization check performed; the contents of the supposedly private PDF are accessible to anyone who knows the direct URL to the file.</span></span>


<span data-ttu-id="d5f75-192">[![Gli utenti anonimi è possono scaricare i file PDF privato immettendo l'URL diretto al File di](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image11.png)](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="d5f75-192">[![Anonymous Users Can Download the Private PDF Files By Entering the Direct URL to the File](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image11.png)](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image10.png)</span></span>

<span data-ttu-id="d5f75-193">**Figura 4**: anonimo gli utenti possono scaricare il privata PDF file da immettere l'URL diretto al File ([fare clic per visualizzare l'immagine ingrandita](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="d5f75-193">**Figure 4**: Anonymous Users Can Download the Private PDF Files By Entering the Direct URL to the File ([Click to view full-size image](core-differences-between-iis-and-the-asp-net-development-server-cs/_static/image12.png))</span></span>


### <a name="performing-forms-based-authentication-and-url-authentication-on-static-files-with-iis-7"></a><span data-ttu-id="d5f75-194">Eseguire l'autenticazione basata su form e l'autenticazione di URL nel file statici con IIS 7</span><span class="sxs-lookup"><span data-stu-id="d5f75-194">Performing Forms-Based Authentication and URL Authentication on Static Files with IIS 7</span></span>

<span data-ttu-id="d5f75-195">Esistono un paio di tecniche che è possibile utilizzare per proteggere il contenuto statico da utenti non autorizzati.</span><span class="sxs-lookup"><span data-stu-id="d5f75-195">There are a couple of techniques you can use to protect static content from unauthorized users.</span></span> <span data-ttu-id="d5f75-196">IIS 7 è stato introdotto il *pipeline integrata*, che unisce del flusso di lavoro di IIS con flusso di lavoro del runtime ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d5f75-196">IIS 7 introduced the *integrated pipeline*, which marries IIS's workflow with the ASP.NET runtime's workflow.</span></span> <span data-ttu-id="d5f75-197">In breve, è possibile indicare IIS per richiamare l'autenticazione del runtime ASP.NET e i moduli di autorizzazione tutte le richieste in ingresso (incluso il contenuto statico come file PDF).</span><span class="sxs-lookup"><span data-stu-id="d5f75-197">In a nutshell, you can instruct IIS to invoke the ASP.NET runtime's authentication and authorization modules all incoming requests (including static content like PDF files).</span></span> <span data-ttu-id="d5f75-198">Contattare il provider di hosting web per informazioni su come configurare il sito Web per l'utilizzo di pipeline integrata.</span><span class="sxs-lookup"><span data-stu-id="d5f75-198">Contact your web host provider to find out how to configure your website to use the integrated pipeline.</span></span>

<span data-ttu-id="d5f75-199">Quando IIS è stato configurato per l'utilizzo di pipeline integrata di aggiungere il markup seguente per il `Web.config` file nella directory radice:</span><span class="sxs-lookup"><span data-stu-id="d5f75-199">Once IIS has been configured to use the integrated pipeline add the following markup to the `Web.config` file in the root directory:</span></span>

[!code-xml[Main](core-differences-between-iis-and-the-asp-net-development-server-cs/samples/sample5.xml)]

<span data-ttu-id="d5f75-200">Questo codice consente di configurare IIS 7, utilizzare i moduli di autenticazione e autorizzazione basate su ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d5f75-200">This markup instructs IIS 7 to use the ASP.NET-based authentication and authorization modules.</span></span> <span data-ttu-id="d5f75-201">Distribuire nuovamente l'applicazione, quindi accedere nuovamente il file PDF.</span><span class="sxs-lookup"><span data-stu-id="d5f75-201">Re-deploy your application and then re-visit the PDF file.</span></span> <span data-ttu-id="d5f75-202">Questa volta quando IIS gestisce la richiesta fornisce la logica di autenticazione e autorizzazione del runtime ASP.NET consente di controllare la richiesta.</span><span class="sxs-lookup"><span data-stu-id="d5f75-202">This time when IIS handles the request it gives the ASP.NET runtime's authentication and authorization logic an opportunity to inspect the request.</span></span> <span data-ttu-id="d5f75-203">Poiché solo gli utenti autenticati sono autorizzati a visualizzare il contenuto di `PrivateDocs` cartella, il visitatore anonimo viene automaticamente reindirizzato alla pagina di accesso (vedere la figura 3).</span><span class="sxs-lookup"><span data-stu-id="d5f75-203">Because only authenticated users are authorized to view the contents in the `PrivateDocs` folder, the anonymous visitor is automatically redirected to the login page (refer back to Figure 3).</span></span>

> [!NOTE]
> <span data-ttu-id="d5f75-204">Se il provider di hosting web utilizza ancora IIS 6 è possibile utilizzare la funzionalità di pipeline integrata.</span><span class="sxs-lookup"><span data-stu-id="d5f75-204">If your web host provider is still using IIS 6 then you cannot use the integrated pipeline feature.</span></span> <span data-ttu-id="d5f75-205">Una soluzione alternativa consiste nell'inserire i documenti privati in una cartella che impedisce l'accesso HTTP (ad esempio `App_Data`) e quindi creare una pagina per gestire questi documenti.</span><span class="sxs-lookup"><span data-stu-id="d5f75-205">One workaround is to put your private documents in a folder that prohibits HTTP access (such as `App_Data`) and then create a page to serve these documents.</span></span> <span data-ttu-id="d5f75-206">Questa pagina è possibile che venga chiamata `GetPDF.aspx`e viene passato il nome del file PDF tramite un parametro di stringa di query.</span><span class="sxs-lookup"><span data-stu-id="d5f75-206">This page might be called `GetPDF.aspx`, and is passed the name of the PDF through a querystring parameter.</span></span> <span data-ttu-id="d5f75-207">Il `GetPDF.aspx` pagina sarebbe verificare innanzitutto che l'utente dispone dell'autorizzazione per visualizzare il file e, in tal caso, utilizzare il [ `Response.WriteFile(filePath)` ](https://msdn.microsoft.com/library/system.web.httpresponse.writefile.aspx) metodo per inviare il contenuto del file PDF richiesto al client richiedente.</span><span class="sxs-lookup"><span data-stu-id="d5f75-207">The `GetPDF.aspx` page would first verify that the user has permission to view the file and, if so, would use the [`Response.WriteFile(filePath)`](https://msdn.microsoft.com/library/system.web.httpresponse.writefile.aspx) method to send the contents of the requested PDF file back to the requesting client.</span></span> <span data-ttu-id="d5f75-208">Questa tecnica viene utilizzata anche per IIS 7 Se non necessario abilitare la pipeline integrata.</span><span class="sxs-lookup"><span data-stu-id="d5f75-208">This technique would also work for IIS 7 if you did not wish to enable the integrated pipeline.</span></span>


## <a name="summary"></a><span data-ttu-id="d5f75-209">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="d5f75-209">Summary</span></span>

<span data-ttu-id="d5f75-210">Applicazioni Web in un ambiente di produzione sono ospitate tramite software del server web IIS Microsoft.</span><span class="sxs-lookup"><span data-stu-id="d5f75-210">Web applications in a production environment are hosted using Microsoft's IIS web server software.</span></span> <span data-ttu-id="d5f75-211">Nell'ambiente di sviluppo, tuttavia, l'applicazione può essere ospitato con IIS o il Server di sviluppo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d5f75-211">In the development environment, however, the application may be hosted using IIS or the ASP.NET Development Server.</span></span> <span data-ttu-id="d5f75-212">In teoria, il software del server web stesso deve essere utilizzato in entrambi gli ambienti perché utilizzando software diverso aggiunge un'altra variabile nella combinazione.</span><span class="sxs-lookup"><span data-stu-id="d5f75-212">Ideally, the same web server software should be used in both environments because using different software adds another variable in the mix.</span></span> <span data-ttu-id="d5f75-213">Tuttavia, la facilità di utilizzo del Server di sviluppo ASP.NET rende un'opzione utile nell'ambiente di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="d5f75-213">However, the ease of use of the ASP.NET Development Server makes it an attractive choice in the development environment.</span></span> <span data-ttu-id="d5f75-214">Buone notizie sono che esistono solo alcune differenze fondamentali tra IIS e il Server di sviluppo ASP.NET, e se si è conoscenza di queste differenze è possibile eseguire i passaggi per garantire che l'applicazione funziona e funziona nello stesso modo indipendentemente la ambiente.</span><span class="sxs-lookup"><span data-stu-id="d5f75-214">The good news is that there are only a few fundamental differences between IIS and the ASP.NET Development Server, and if you are aware of these differences you can take steps to help ensure that the application works and functions the same way regardless of the environment.</span></span>

<span data-ttu-id="d5f75-215">Buona programmazione!</span><span class="sxs-lookup"><span data-stu-id="d5f75-215">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="d5f75-216">Ulteriori informazioni</span><span class="sxs-lookup"><span data-stu-id="d5f75-216">Further Reading</span></span>

<span data-ttu-id="d5f75-217">Per ulteriori informazioni sugli argomenti trattati in questa esercitazione, vedere le risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="d5f75-217">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="d5f75-218">Integrazione di ASP.NET con IIS 7.0</span><span class="sxs-lookup"><span data-stu-id="d5f75-218">ASP.NET Integration with IIS 7.0</span></span>](https://www.iis.net/learn/application-frameworks/building-and-running-aspnet-applications/aspnet-integration-with-iis)
- <span data-ttu-id="d5f75-219">[Utilizzo dell'autenticazione forum ASP.NET con tutti i tipi di contenuto in IIS 7](https://blogs.iis.net/bills/archive/2007/05/19/using-asp-net-forms-authentication-with-all-types-of-content-with-iis7-video.aspx) (Video)</span><span class="sxs-lookup"><span data-stu-id="d5f75-219">[Using ASP.NET Forums Authentication With All Types of Content on IIS 7](https://blogs.iis.net/bills/archive/2007/05/19/using-asp-net-forms-authentication-with-all-types-of-content-with-iis7-video.aspx) (Video)</span></span>
- [<span data-ttu-id="d5f75-220">Server Web in Visual Web Developer</span><span class="sxs-lookup"><span data-stu-id="d5f75-220">Web Servers in Visual Web Developer</span></span>](https://msdn.microsoft.com/library/58wxa9w5.aspx)

>[!div class="step-by-step"]
<span data-ttu-id="d5f75-221">[Precedente](common-configuration-differences-between-development-and-production-cs.md)
[Successivo](deploying-a-database-cs.md)</span><span class="sxs-lookup"><span data-stu-id="d5f75-221">[Previous](common-configuration-differences-between-development-and-production-cs.md)
[Next](deploying-a-database-cs.md)</span></span>
