---
uid: web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-5
title: Guida introduttiva a Database di Entity Framework 4.0 prima di tutto e ASP.NET 4 di Web Form - parte 5 | Documenti Microsoft
author: tdykstra
description: "L'applicazione web di Contoso University esempio viene illustrato come creare applicazioni Web Form ASP.NET tramite Entity Framework. È l'applicazione di esempio..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 12/03/2010
ms.topic: article
ms.assetid: 24ad4379-3fb2-44dc-ba59-85fe0ffcb2ae
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-5
msc.type: authoredcontent
ms.openlocfilehash: 7200899d54585cd09e0a648e3aaaf839db2649e0
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/10/2017
---
<a name="getting-started-with-entity-framework-40-database-first-and-aspnet-4-web-forms---part-5"></a><span data-ttu-id="3043d-104">Guida introduttiva a Database di Entity Framework 4.0 prima di tutto e form ASP.NET Web 4 - parte 5</span><span class="sxs-lookup"><span data-stu-id="3043d-104">Getting Started with Entity Framework 4.0 Database First and ASP.NET 4 Web Forms - Part 5</span></span>
====================
<span data-ttu-id="3043d-105">Da [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="3043d-105">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="3043d-106">L'applicazione web di Contoso University esempio viene illustrato come creare applicazioni Web Form ASP.NET utilizzando il Entity Framework 4.0 e Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="3043d-106">The Contoso University sample web application demonstrates how to create ASP.NET Web Forms applications using the Entity Framework 4.0 and Visual Studio 2010.</span></span> <span data-ttu-id="3043d-107">Per informazioni sulle serie di esercitazioni, vedere [la prima esercitazione di serie](the-entity-framework-and-aspnet-getting-started-part-1.md)</span><span class="sxs-lookup"><span data-stu-id="3043d-107">For information about the tutorial series, see [the first tutorial in the series](the-entity-framework-and-aspnet-getting-started-part-1.md)</span></span>


## <a name="working-with-related-data-continued"></a><span data-ttu-id="3043d-108">Utilizzo di dati correlati, continua</span><span class="sxs-lookup"><span data-stu-id="3043d-108">Working with Related Data, Continued</span></span>

<span data-ttu-id="3043d-109">Nell'esercitazione precedente si è iniziato a usare il `EntityDataSource` per funzionare con i dati correlati.</span><span class="sxs-lookup"><span data-stu-id="3043d-109">In the previous tutorial you began to use the `EntityDataSource` control to work with related data.</span></span> <span data-ttu-id="3043d-110">È visualizzata più livelli della gerarchia e modificare i dati nelle proprietà di navigazione.</span><span class="sxs-lookup"><span data-stu-id="3043d-110">You displayed multiple levels of hierarchy and edited data in navigation properties.</span></span> <span data-ttu-id="3043d-111">In questa esercitazione è possibile continuare a lavorare con i dati correlati aggiunta ed eliminazione di relazioni e aggiungendo una nuova entità che ha una relazione a un'entità esistente.</span><span class="sxs-lookup"><span data-stu-id="3043d-111">In this tutorial you'll continue to work with related data by adding and deleting relationships and by adding a new entity that has a relationship to an existing entity.</span></span>

<span data-ttu-id="3043d-112">Si creerà una pagina che aggiunge corsi assegnati ai reparti.</span><span class="sxs-lookup"><span data-stu-id="3043d-112">You'll create a page that adds courses that are assigned to departments.</span></span> <span data-ttu-id="3043d-113">I reparti esistono già, e quando si crea un nuovo corso, nello stesso momento verrà stabilire una relazione tra i file e una categoria esistente.</span><span class="sxs-lookup"><span data-stu-id="3043d-113">The departments already exist, and when you create a new course, at the same time you'll establish a relationship between it and an existing department.</span></span>

<span data-ttu-id="3043d-114">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="3043d-114">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image1.png)</span></span>

<span data-ttu-id="3043d-115">Verrà creata anche una pagina che funziona con una relazione molti-a-molti tramite l'assegnazione di un docente a un corso (aggiunta di una relazione tra due entità che si seleziona) o la rimozione di un docente da un corso (rimozione di una relazione tra due entità che si Selezionare).</span><span class="sxs-lookup"><span data-stu-id="3043d-115">You'll also create a page that works with a many-to-many relationship by assigning an instructor to a course (adding a relationship between two entities that you select) or removing an instructor from a course (removing a relationship between two entities that you select).</span></span> <span data-ttu-id="3043d-116">Nel database, l'aggiunta di una relazione tra un docente e un corso determina una nuova riga viene aggiunta al `CourseInstructor` tabella associazione, la rimozione di una relazione comporta l'eliminazione di una riga dal `CourseInstructor` tabella associazione.</span><span class="sxs-lookup"><span data-stu-id="3043d-116">In the database, adding a relationship between an instructor and a course results in a new row being added to the `CourseInstructor` association table; removing a relationship involves deleting a row from the `CourseInstructor` association table.</span></span> <span data-ttu-id="3043d-117">Tuttavia, eseguire questa operazione in Entity Framework impostando le proprietà di navigazione, senza fare riferimento al `CourseInstructor` tabella in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="3043d-117">However, you do this in the Entity Framework by setting navigation properties, without referring to the `CourseInstructor` table explicitly.</span></span>

<span data-ttu-id="3043d-118">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="3043d-118">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image3.png)</span></span>

## <a name="adding-an-entity-with-a-relationship-to-an-existing-entity"></a><span data-ttu-id="3043d-119">Aggiunta di un'entità con una relazione a un'entità esistente</span><span class="sxs-lookup"><span data-stu-id="3043d-119">Adding an Entity with a Relationship to an Existing Entity</span></span>

<span data-ttu-id="3043d-120">Creare una nuova pagina web denominata *CoursesAdd.aspx* che utilizza il *Site. master* pagina master e aggiungere il markup seguente per il `Content` controllo denominato `Content2`:</span><span class="sxs-lookup"><span data-stu-id="3043d-120">Create a new web page named *CoursesAdd.aspx* that uses the *Site.Master* master page, and add the following markup to the `Content` control named `Content2`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample1.aspx)]

<span data-ttu-id="3043d-121">Questo codice crea un `EntityDataSource` controllo che seleziona i corsi, che consente di inserire e specifica un gestore per il `Inserting` evento.</span><span class="sxs-lookup"><span data-stu-id="3043d-121">This markup creates an `EntityDataSource` control that selects courses, that enables inserting, and that specifies a handler for the `Inserting` event.</span></span> <span data-ttu-id="3043d-122">Si userà il gestore per l'aggiornamento di `Department` proprietà di navigazione quando un nuovo `Course` creazione dell'entità.</span><span class="sxs-lookup"><span data-stu-id="3043d-122">You'll use the handler to update the `Department` navigation property when a new `Course` entity is created.</span></span>

<span data-ttu-id="3043d-123">Il codice crea inoltre un `DetailsView` controllo da utilizzare per l'aggiunta di nuove `Course` entità.</span><span class="sxs-lookup"><span data-stu-id="3043d-123">The markup also creates a `DetailsView` control to use for adding new `Course` entities.</span></span> <span data-ttu-id="3043d-124">Il markup utilizza campi associati per `Course` proprietà dell'entità.</span><span class="sxs-lookup"><span data-stu-id="3043d-124">The markup uses bound fields for `Course` entity properties.</span></span> <span data-ttu-id="3043d-125">È necessario immettere il `CourseID` valore perché non è un campo ID generato dal sistema.</span><span class="sxs-lookup"><span data-stu-id="3043d-125">You have to enter the `CourseID` value because this is not a system-generated ID field.</span></span> <span data-ttu-id="3043d-126">In alternativa, è un numero di corso che deve essere specificato manualmente dopo aver creato il corso.</span><span class="sxs-lookup"><span data-stu-id="3043d-126">Instead, it's a course number that must be specified manually when the course is created.</span></span>

<span data-ttu-id="3043d-127">Si utilizza un modello di campo per il `Department` proprietà di navigazione perché le proprietà di navigazione possono essere utilizzate con `BoundField` controlli.</span><span class="sxs-lookup"><span data-stu-id="3043d-127">You use a template field for the `Department` navigation property because navigation properties cannot be used with `BoundField` controls.</span></span> <span data-ttu-id="3043d-128">Il campo modello fornisce un elenco di riepilogo a discesa per selezionare il reparto.</span><span class="sxs-lookup"><span data-stu-id="3043d-128">The template field provides a drop-down list to select the department.</span></span> <span data-ttu-id="3043d-129">L'elenco a discesa è associato al `Departments` entità impostata per l'utilizzo `Eval` anziché `Bind`, nuovamente perché non è possibile associare direttamente le proprietà di navigazione per aggiornarli.</span><span class="sxs-lookup"><span data-stu-id="3043d-129">The drop-down list is bound to the `Departments` entity set by using `Eval` rather than `Bind`, again because you cannot directly bind navigation properties in order to update them.</span></span> <span data-ttu-id="3043d-130">Specificare un gestore per il `DropDownList` del controllo `Init` evento in modo che è possibile archiviare un riferimento al controllo per l'utilizzo dal codice che aggiorna il `DepartmentID` chiave esterna.</span><span class="sxs-lookup"><span data-stu-id="3043d-130">You specify a handler for the `DropDownList` control's `Init` event so that you can store a reference to the control for use by the code that updates the `DepartmentID` foreign key.</span></span>

<span data-ttu-id="3043d-131">In *CoursesAdd.aspx.cs* subito dopo la dichiarazione di classe parziale, aggiungere un campo di classe per contenere un riferimento al `DepartmentsDropDownList` controllo:</span><span class="sxs-lookup"><span data-stu-id="3043d-131">In *CoursesAdd.aspx.cs* just after the partial-class declaration, add a class field to hold a reference to the `DepartmentsDropDownList` control:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample2.cs)]

<span data-ttu-id="3043d-132">Aggiungere un gestore per il `DepartmentsDropDownList` del controllo `Init` eventi in modo che è possibile archiviare un riferimento al controllo.</span><span class="sxs-lookup"><span data-stu-id="3043d-132">Add a handler for the `DepartmentsDropDownList` control's `Init` event so that you can store a reference to the control.</span></span> <span data-ttu-id="3043d-133">Ciò consente di ottenere il valore a cui l'utente ha immesso e utilizzarla per aggiornare il `DepartmentID` valore il `Course` entità.</span><span class="sxs-lookup"><span data-stu-id="3043d-133">This lets you get the value the user has entered and use it to update the `DepartmentID` value of the `Course` entity.</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample3.cs)]

<span data-ttu-id="3043d-134">Aggiungere un gestore per il `DetailsView` del controllo `Inserting` evento:</span><span class="sxs-lookup"><span data-stu-id="3043d-134">Add a handler for the `DetailsView` control's `Inserting` event:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample4.cs)]

<span data-ttu-id="3043d-135">Quando l'utente fa clic `Insert`, `Inserting` evento viene generato prima dell'inserimento del nuovo record.</span><span class="sxs-lookup"><span data-stu-id="3043d-135">When the user clicks `Insert`, the `Inserting` event is raised before the new record is inserted.</span></span> <span data-ttu-id="3043d-136">Ottiene il codice nel gestore di `DepartmentID` dal `DropDownList` controllare e viene utilizzata per impostare il valore che verrà utilizzato per il `DepartmentID` proprietà del `Course` entità.</span><span class="sxs-lookup"><span data-stu-id="3043d-136">The code in the handler gets the `DepartmentID` from the `DropDownList` control and uses it to set the value that will be used for the `DepartmentID` property of the `Course` entity.</span></span>

<span data-ttu-id="3043d-137">Entity Framework si occuperà di questo corso di aggiunta di `Courses` proprietà di navigazione della classe associata `Department` entità.</span><span class="sxs-lookup"><span data-stu-id="3043d-137">The Entity Framework will take care of adding this course to the `Courses` navigation property of the associated `Department` entity.</span></span> <span data-ttu-id="3043d-138">Aggiunge inoltre il reparto di `Department` proprietà di navigazione del `Course` entità.</span><span class="sxs-lookup"><span data-stu-id="3043d-138">It also adds the department to the `Department` navigation property of the `Course` entity.</span></span>

<span data-ttu-id="3043d-139">Eseguire la pagina.</span><span class="sxs-lookup"><span data-stu-id="3043d-139">Run the page.</span></span>

<span data-ttu-id="3043d-140">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="3043d-140">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image5.png)</span></span>

<span data-ttu-id="3043d-141">Immettere un ID, titolo, un numero di crediti e selezionare un reparto, quindi fare clic su **inserire**.</span><span class="sxs-lookup"><span data-stu-id="3043d-141">Enter an ID, a title, a number of credits, and select a department, then click **Insert**.</span></span>

<span data-ttu-id="3043d-142">Eseguire il *Courses.aspx* pagina e selezionare per visualizzare il nuovo corso stesso reparto.</span><span class="sxs-lookup"><span data-stu-id="3043d-142">Run the *Courses.aspx* page, and select the same department to see the new course.</span></span>

<span data-ttu-id="3043d-143">[![Image03](the-entity-framework-and-aspnet-getting-started-part-5/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="3043d-143">[![Image03](the-entity-framework-and-aspnet-getting-started-part-5/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image7.png)</span></span>

## <a name="working-with-many-to-many-relationships"></a><span data-ttu-id="3043d-144">Utilizzo delle relazioni molti-a-molti</span><span class="sxs-lookup"><span data-stu-id="3043d-144">Working with Many-to-Many Relationships</span></span>

<span data-ttu-id="3043d-145">La relazione tra il `Courses` set di entità e `People` set di entità è una relazione molti-a-molti.</span><span class="sxs-lookup"><span data-stu-id="3043d-145">The relationship between the `Courses` entity set and the `People` entity set is a many-to-many relationship.</span></span> <span data-ttu-id="3043d-146">Oggetto `Course` entità dispone di una proprietà di navigazione denominata `People` che può contenere zero, uno o più correlate `Person` entità (che rappresentano i docenti assegnati gli quel corso).</span><span class="sxs-lookup"><span data-stu-id="3043d-146">A `Course` entity has a navigation property named `People` that can contain zero, one, or more related `Person` entities (representing instructors assigned to teach that course).</span></span> <span data-ttu-id="3043d-147">E un `Person` entità dispone di una proprietà di navigazione denominata `Courses` che può contenere zero, uno o più correlate `Course` entità (che rappresentano corsi assegnato a indicare che istruttore).</span><span class="sxs-lookup"><span data-stu-id="3043d-147">And a `Person` entity has a navigation property named `Courses` that can contain zero, one, or more related `Course` entities (representing courses that that instructor is assigned to teach).</span></span> <span data-ttu-id="3043d-148">Un insegnante potrebbe indicare più corsi e un corso può dedicare da istruttori più.</span><span class="sxs-lookup"><span data-stu-id="3043d-148">One instructor might teach multiple courses, and one course might be taught by multiple instructors.</span></span> <span data-ttu-id="3043d-149">In questa sezione della procedura dettagliata, aggiungerai e rimuovere le relazioni tra `Person` e `Course` entità aggiornando le proprietà di navigazione di entità correlate.</span><span class="sxs-lookup"><span data-stu-id="3043d-149">In this section of the walkthrough, you'll add and remove relationships between `Person` and `Course` entities by updating the navigation properties of the related entities.</span></span>

<span data-ttu-id="3043d-150">Creare una nuova pagina web denominata *InstructorsCourses.aspx* che utilizza il *Site. master* pagina master e aggiungere il markup seguente per il `Content` controllo denominato `Content2`:</span><span class="sxs-lookup"><span data-stu-id="3043d-150">Create a new web page named *InstructorsCourses.aspx* that uses the *Site.Master* master page, and add the following markup to the `Content` control named `Content2`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample5.aspx)]

<span data-ttu-id="3043d-151">Questo codice crea un `EntityDataSource` controllo che recupera il nome e `PersonID` di `Person` entità per i docenti.</span><span class="sxs-lookup"><span data-stu-id="3043d-151">This markup creates an `EntityDataSource` control that retrieves the name and `PersonID` of `Person` entities for instructors.</span></span> <span data-ttu-id="3043d-152">Oggetto `DropDrownList` è associato al `EntityDataSource` controllo.</span><span class="sxs-lookup"><span data-stu-id="3043d-152">A `DropDrownList` control is bound to the `EntityDataSource` control.</span></span> <span data-ttu-id="3043d-153">Il `DropDownList` controllo specifica un gestore per il `DataBound` evento.</span><span class="sxs-lookup"><span data-stu-id="3043d-153">The `DropDownList` control specifies a handler for the `DataBound` event.</span></span> <span data-ttu-id="3043d-154">Si utilizzerà questo gestore a elenchi a discesa databind due che consentono di visualizzare i corsi.</span><span class="sxs-lookup"><span data-stu-id="3043d-154">You'll use this handler to databind the two drop-down lists that display courses.</span></span>

<span data-ttu-id="3043d-155">Il codice crea inoltre il gruppo di controlli da usare per l'assegnazione di un corso a istruttore selezionato seguente:</span><span class="sxs-lookup"><span data-stu-id="3043d-155">The markup also creates the following group of controls to use for assigning a course to the selected instructor:</span></span>

- <span data-ttu-id="3043d-156">Oggetto `DropDownList` controllo per la selezione di un corso da assegnare.</span><span class="sxs-lookup"><span data-stu-id="3043d-156">A `DropDownList` control for selecting a course to assign.</span></span> <span data-ttu-id="3043d-157">Questo controllo verrà popolato con i corsi che non sono attualmente assegnati a istruttore selezionato.</span><span class="sxs-lookup"><span data-stu-id="3043d-157">This control will be populated with courses that are currently not assigned to the selected instructor.</span></span>
- <span data-ttu-id="3043d-158">Oggetto `Button` controllo per avviare l'assegnazione.</span><span class="sxs-lookup"><span data-stu-id="3043d-158">A `Button` control to initiate the assignment.</span></span>
- <span data-ttu-id="3043d-159">Oggetto `Label` viene visualizzato un messaggio di errore se l'assegnazione ha esito negativo.</span><span class="sxs-lookup"><span data-stu-id="3043d-159">A `Label` control to display an error message if the assignment fails.</span></span>

<span data-ttu-id="3043d-160">Infine, il codice crea inoltre un gruppo di controlli da usare per la rimozione di un corso da istruttore selezionato.</span><span class="sxs-lookup"><span data-stu-id="3043d-160">Finally, the markup also creates a group of controls to use for removing a course from the selected instructor.</span></span>

<span data-ttu-id="3043d-161">In *InstructorsCourses.aspx.cs*, aggiungere un tramite istruzione:</span><span class="sxs-lookup"><span data-stu-id="3043d-161">In *InstructorsCourses.aspx.cs*, add a using statement:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample6.cs)]

<span data-ttu-id="3043d-162">Aggiungere un metodo per il popolamento di due elenchi a discesa che Visualizza corsi:</span><span class="sxs-lookup"><span data-stu-id="3043d-162">Add a method for populating the two drop-down lists that display courses:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample7.cs)]

<span data-ttu-id="3043d-163">Il codice ottiene tutti i corsi dal `Courses` set di entità e ottiene i corsi dal `Courses` proprietà di navigazione del `Person` entità per istruttore selezionato.</span><span class="sxs-lookup"><span data-stu-id="3043d-163">This code gets all courses from the `Courses` entity set and gets the courses from the `Courses` navigation property of the `Person` entity for the selected instructor.</span></span> <span data-ttu-id="3043d-164">Quindi, determina quali corsi vengono assegnati a tale instructor e popola di conseguenza gli elenchi a discesa.</span><span class="sxs-lookup"><span data-stu-id="3043d-164">It then determines which courses are assigned to that instructor and populates the drop-down lists accordingly.</span></span>

<span data-ttu-id="3043d-165">Aggiungere un gestore per il `Assign` del pulsante `Click` evento:</span><span class="sxs-lookup"><span data-stu-id="3043d-165">Add a handler for the `Assign` button's `Click` event:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample8.cs)]

<span data-ttu-id="3043d-166">Il codice ottiene la `Person` entità per istruttore selezionato, ottiene il `Course` entità per il corso selezionato e lo aggiunge al corso selezionato per il `Courses` proprietà di navigazione di un istruttore `Person` entità.</span><span class="sxs-lookup"><span data-stu-id="3043d-166">This code gets the `Person` entity for the selected instructor, gets the `Course` entity for the selected course, and adds the selected course to the `Courses` navigation property of the instructor's `Person` entity.</span></span> <span data-ttu-id="3043d-167">Quindi Salva le modifiche apportate al database e ripopolare gli elenchi a discesa, pertanto i risultati possono essere visti immediatamente.</span><span class="sxs-lookup"><span data-stu-id="3043d-167">It then saves the changes to the database and repopulates the drop-down lists so the results can be seen immediately.</span></span>

<span data-ttu-id="3043d-168">Aggiungere un gestore per il `Remove` del pulsante `Click` evento:</span><span class="sxs-lookup"><span data-stu-id="3043d-168">Add a handler for the `Remove` button's `Click` event:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample9.cs)]

<span data-ttu-id="3043d-169">Il codice ottiene la `Person` entità per istruttore selezionato, ottiene il `Course` entità per il corso selezionato e rimuove il corso selezionato dal `Person` dell'entità `Courses` proprietà di navigazione.</span><span class="sxs-lookup"><span data-stu-id="3043d-169">This code gets the `Person` entity for the selected instructor, gets the `Course` entity for the selected course, and removes the selected course from the `Person` entity's `Courses` navigation property.</span></span> <span data-ttu-id="3043d-170">Quindi Salva le modifiche apportate al database e ripopolare gli elenchi a discesa, pertanto i risultati possono essere visti immediatamente.</span><span class="sxs-lookup"><span data-stu-id="3043d-170">It then saves the changes to the database and repopulates the drop-down lists so the results can be seen immediately.</span></span>

<span data-ttu-id="3043d-171">Aggiungere codice per il `Page_Load` metodo per verificare che i messaggi di errore non sono visibili quando non si verifica alcun errore per segnalare e aggiungere i gestori per il `DataBound` e `SelectedIndexChanged` eventi dell'elenco di riepilogo a discesa i docenti per popolare gli elenchi a discesa corsi:</span><span class="sxs-lookup"><span data-stu-id="3043d-171">Add code to the `Page_Load` method that makes sure the error messages are not visible when there's no error to report, and add handlers for the `DataBound` and `SelectedIndexChanged` events of the instructors drop-down list to populate the courses drop-down lists:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample10.cs)]

<span data-ttu-id="3043d-172">Eseguire la pagina.</span><span class="sxs-lookup"><span data-stu-id="3043d-172">Run the page.</span></span>

<span data-ttu-id="3043d-173">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="3043d-173">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image9.png)</span></span>

<span data-ttu-id="3043d-174">Selezionare un docente.</span><span class="sxs-lookup"><span data-stu-id="3043d-174">Select an instructor.</span></span> <span data-ttu-id="3043d-175">Il **assegnare un corso** elenco a discesa Visualizza i corsi istruttore non spiega, e **rimuovere un corso** elenco a discesa Visualizza i corsi istruttore è già assegnato a.</span><span class="sxs-lookup"><span data-stu-id="3043d-175">The **Assign a Course** drop-down list displays the courses that the instructor doesn't teach, and the **Remove a Course** drop-down list displays the courses that the instructor is already assigned to.</span></span> <span data-ttu-id="3043d-176">Nel **assegnare un corso** sezione, selezionare un corso e quindi fare clic su **assegnare**.</span><span class="sxs-lookup"><span data-stu-id="3043d-176">In the **Assign a Course** section, select a course and then click **Assign**.</span></span> <span data-ttu-id="3043d-177">Sposta la linea di **rimuovere un corso** elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="3043d-177">The course moves to the **Remove a Course** drop-down list.</span></span> <span data-ttu-id="3043d-178">Selezionare un corso nel **rimuovere un corso** sezione e fare clic su **rimuovere***.*</span><span class="sxs-lookup"><span data-stu-id="3043d-178">Select a course in the **Remove a Course** section and click **Remove***.*</span></span> <span data-ttu-id="3043d-179">Sposta la linea di **assegnare un corso** elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="3043d-179">The course moves to the **Assign a Course** drop-down list.</span></span>

<span data-ttu-id="3043d-180">Sono stati analizzati alcuni altri modi per lavorare con i dati correlati.</span><span class="sxs-lookup"><span data-stu-id="3043d-180">You have now seen some more ways to work with related data.</span></span> <span data-ttu-id="3043d-181">Nell'esercitazione seguente, si apprenderà come usare l'ereditarietà nel modello di dati per migliorare la manutenibilità dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="3043d-181">In the following tutorial, you'll learn how to use inheritance in the data model to improve the maintainability of your application.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="3043d-182">[Precedente](the-entity-framework-and-aspnet-getting-started-part-4.md)
[Successivo](the-entity-framework-and-aspnet-getting-started-part-6.md)</span><span class="sxs-lookup"><span data-stu-id="3043d-182">[Previous](the-entity-framework-and-aspnet-getting-started-part-4.md)
[Next](the-entity-framework-and-aspnet-getting-started-part-6.md)</span></span>
