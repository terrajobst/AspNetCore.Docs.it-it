---
uid: web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-updatepanel-triggers
title: Informazioni sui trigger UpdatePanel ASP.NET AJAX | Documenti Microsoft
author: scottcate
description: "Quando si utilizza l'editor di codice in Visual Studio, è possibile notare (da IntelliSense) che sono presenti due elementi figlio di un controllo UpdatePanel. Uno dei CO..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/12/2008
ms.topic: article
ms.assetid: faab8503-2984-48a9-8a40-7728461abc50
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-updatepanel-triggers
msc.type: authoredcontent
ms.openlocfilehash: 1338ef0763d9bfab451bc30cafa39f715200153d
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/10/2017
---
<a name="understanding-aspnet-ajax-updatepanel-triggers"></a><span data-ttu-id="1ac4c-104">Informazioni sui trigger UpdatePanel ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="1ac4c-104">Understanding ASP.NET AJAX UpdatePanel Triggers</span></span>
====================
<span data-ttu-id="1ac4c-105">da [Scott Care](https://github.com/scottcate)</span><span class="sxs-lookup"><span data-stu-id="1ac4c-105">by [Scott Cate](https://github.com/scottcate)</span></span>

[<span data-ttu-id="1ac4c-106">Scarica il PDF</span><span class="sxs-lookup"><span data-stu-id="1ac4c-106">Download PDF</span></span>](http://download.microsoft.com/download/C/1/9/C19A3451-1D14-477C-B703-54EF22E197EE/AJAX_tutorial02_Triggers_cs.pdf)

> <span data-ttu-id="1ac4c-107">Quando si utilizza l'editor di codice in Visual Studio, è possibile notare (da IntelliSense) che sono presenti due elementi figlio di un controllo UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-107">When working in the markup editor in Visual Studio, you may notice (from IntelliSense) that there are two child elements of an UpdatePanel control.</span></span> <span data-ttu-id="1ac4c-108">Uno dei quali è l'elemento di trigger, che specifica i controlli nella pagina (o il controllo utente, se si utilizza uno) che attiverà un rendering parziale del controllo UpdatePanel in cui si trova l'elemento.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-108">One of which is the Triggers element, which specifies the controls on the page (or the user control, if you are using one) that will trigger a partial render of the UpdatePanel control in which the element resides.</span></span>


## <a name="introduction"></a><span data-ttu-id="1ac4c-109">Introduzione</span><span class="sxs-lookup"><span data-stu-id="1ac4c-109">Introduction</span></span>

<span data-ttu-id="1ac4c-110">Tecnologia Microsoft per ASP.NET offre un modello di programmazione orientata a oggetti e sugli eventi e si unisce i vantaggi del codice compilato.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-110">Microsoft's ASP.NET technology brings an object-oriented and event-driven programming model and unites it with the benefits of compiled code.</span></span> <span data-ttu-id="1ac4c-111">Tuttavia, il relativo modello di elaborazione sul lato server presenta numerosi svantaggi inerenti la tecnologia, molti dei quali è possibile risolvere le nuove funzionalità incluse in Microsoft ASP.NET 3.5 AJAX Extensions.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-111">However, its server-side processing model has several drawbacks inherent in the technology, many of which can be addressed by the new features included in the Microsoft ASP.NET 3.5 AJAX Extensions.</span></span> <span data-ttu-id="1ac4c-112">Queste estensioni consentono a numerose nuove funzionalità rich client, inclusi il rendering parziale di pagine senza richiedere un aggiornamento completo di pagina, la possibilità di accedere ai servizi Web tramite lo script client (inclusi l'API di profilatura di ASP.NET) e un'API lato client estesa progettato per eseguire il mirroring molti degli schemi di controllo mostrati nel set di controllo sul lato server ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-112">These extensions enable many new rich client features, including partial rendering of pages without requiring a full page refresh, the ability to access Web Services via client script (including the ASP.NET profiling API), and an extensive client-side API designed to mirror many of the control schemes seen in the ASP.NET server-side control set.</span></span>

<span data-ttu-id="1ac4c-113">Questo white paper esamina la funzionalità XML trigger di ASP.NET AJAX `UpdatePanel` componente.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-113">This whitepaper examines the XML Triggers functionality of the ASP.NET AJAX `UpdatePanel` component.</span></span> <span data-ttu-id="1ac4c-114">Trigger XML offrono un controllo granulare i componenti che possono causare il rendering parziale per i controlli UpdatePanel specifici.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-114">XML Triggers give granular control over the components that can cause partial rendering for specific UpdatePanel controls.</span></span>

<span data-ttu-id="1ac4c-115">Questo white paper è basato sulla versione Beta 2 di .NET Framework 3.5 e Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-115">This whitepaper is based on the Beta 2 release of the .NET Framework 3.5 and Visual Studio 2008.</span></span> <span data-ttu-id="1ac4c-116">Estensioni AJAX di ASP.NET, in precedenza un assembly di componenti aggiuntivi destinato a ASP.NET 2.0, ora sono integrate nella libreria di classe di Base di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-116">The ASP.NET AJAX Extensions, previously an add-on assembly targeted at ASP.NET 2.0, are now integrated into the .NET Framework Base Class Library.</span></span> <span data-ttu-id="1ac4c-117">Questo white paper anche presuppone che sia necessario lavorare con Visual Studio 2008, non Visual Web Developer Express e verrà illustrate le procedure dettagliate in base all'interfaccia utente di Visual Studio (sebbene listati di codice sarà completamente compatibile, indipendentemente dal valore ambiente di sviluppo).</span><span class="sxs-lookup"><span data-stu-id="1ac4c-117">This whitepaper also assumes that you will be working with Visual Studio 2008, not Visual Web Developer Express, and will provide walkthroughs according to the user interface of Visual Studio (although code listings will be entirely compatible regardless of development environment).</span></span>

## <a name="triggers"></a><span data-ttu-id="1ac4c-118">*Trigger*</span><span class="sxs-lookup"><span data-stu-id="1ac4c-118">*Triggers*</span></span>

<span data-ttu-id="1ac4c-119">I trigger per un determinato UpdatePanel, per impostazione predefinita, includono automaticamente eventuali controlli figlio che richiamano un postback, inclusi, ad esempio, i controlli casella di testo contenenti le `AutoPostBack` proprietà impostata su **true**.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-119">Triggers for a given UpdatePanel, by default, automatically include any child controls that invoke a postback, including (for example) TextBox controls that have their `AutoPostBack` property set to **true**.</span></span> <span data-ttu-id="1ac4c-120">Tuttavia, i trigger possono essere inclusi in modo dichiarativo utilizzando markup. Questa operazione viene eseguita all'interno di `<triggers>` sezione della dichiarazione controllo UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-120">However, triggers can also be included declaratively using markup; this is done within the `<triggers>` section of the UpdatePanel control declaration.</span></span> <span data-ttu-id="1ac4c-121">Anche se i trigger sono accessibili tramite il `Triggers` proprietà della raccolta, è consigliabile registrare i trigger di rendering parziale in fase di esecuzione (ad esempio, se un controllo non è disponibile in fase di progettazione) utilizzando il `RegisterAsyncPostBackControl(Control)` metodo il ScriptManager oggetto all'interno della pagina, il `Page_Load` evento.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-121">Although triggers can be accessed via the `Triggers` collection property, it is recommended that you register any partial render triggers at run-time (for instance, if a control is not available at design time) by using the `RegisterAsyncPostBackControl(Control)` method of the ScriptManager object for your page, within the `Page_Load` event.</span></span> <span data-ttu-id="1ac4c-122">Tenere presente che le pagine sono senza state e pertanto è necessario registrare nuovamente questi controlli ogni volta che vengono creati.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-122">Remember that Pages are stateless, and so you should re-register these controls every time they are created.</span></span>

<span data-ttu-id="1ac4c-123">Inclusione trigger figlio automatica può anche essere disabilitato (in modo che i controlli figlio che crea i postback non verrà automaticamente avviato il rendering parziale) impostando il `ChildrenAsTriggers` proprietà **false**.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-123">Automatic child trigger inclusion can also be disabled (so that child controls that create postbacks do not automatically trigger partial renders) by setting the `ChildrenAsTriggers` property to **false**.</span></span> <span data-ttu-id="1ac4c-124">Ciò permette la massima flessibilità nell'assegnazione dei controlli specifici può richiamare un rendering della pagina ed è consigliata, in modo che uno sviluppatore verrà registrarsi per rispondere a un evento, anziché gestire gli eventi che possono verificarsi.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-124">This allows you the greatest flexibility in assigning which specific controls may invoke a page render, and is recommended, so that a developer will opt-in to respond to an event, rather than handling any events that may arise.</span></span>

<span data-ttu-id="1ac4c-125">Si noti che quando sono annidati controlli UpdatePanel, quando il UpdateMode è impostato su **condizionale**, se l'elemento figlio UpdatePanel viene attivato, ma l'elemento padre, non è quindi figlio UpdatePanel verrà aggiornato.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-125">Note that when UpdatePanel controls are nested, when the UpdateMode is set to **Conditional**, if the child UpdatePanel is triggered, but the parent is not, then only the child UpdatePanel will refresh.</span></span> <span data-ttu-id="1ac4c-126">Tuttavia, se l'elemento padre UpdatePanel viene aggiornato, quindi l'elemento figlio UpdatePanel anche verranno aggiornato.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-126">However, if the parent UpdatePanel is refreshed, then the child UpdatePanel will also be refreshed.</span></span>

## <a name="the-lttriggersgt-element"></a><span data-ttu-id="1ac4c-127">*Il &lt;trigger&gt; elemento*</span><span class="sxs-lookup"><span data-stu-id="1ac4c-127">*The &lt;Triggers&gt; Element*</span></span>

<span data-ttu-id="1ac4c-128">Quando si utilizza l'editor di codice in Visual Studio, è possibile notare (da IntelliSense) che sono presenti due elementi figlio di un `UpdatePanel` controllo.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-128">When working in the markup editor in Visual Studio, you may notice (from IntelliSense) that there are two child elements of an `UpdatePanel` control.</span></span> <span data-ttu-id="1ac4c-129">L'elemento più frequenti è il `<ContentTemplate>` elemento, che essenzialmente incapsula il contenuto che verrà mantenuto dal Pannello di aggiornamento (il contenuto per cui si sta abilitazione per il rendering parziale).</span><span class="sxs-lookup"><span data-stu-id="1ac4c-129">The most-frequently seen element is the `<ContentTemplate>` element, which essentially encapsulates the content that will be held by the update panel (the content for which we are enabling partial rendering).</span></span> <span data-ttu-id="1ac4c-130">L'altro elemento è il `<Triggers>` elemento che specifica i controlli nella pagina (o il controllo utente, se si utilizza uno) che attiverà un rendering parziale del controllo UpdatePanel in cui il &lt;trigger&gt; contiene l'elemento.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-130">The other element is the `<Triggers>` element, which specifies the controls on the page (or the user control, if you are using one) that will trigger a partial render of the UpdatePanel control in which the &lt;Triggers&gt; element resides.</span></span>

<span data-ttu-id="1ac4c-131">Il `<Triggers>` elemento può contenere qualsiasi numero che ogni due nodi figlio: `<asp:AsyncPostBackTrigger>` e `<asp:PostBackTrigger>`.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-131">The `<Triggers>` element can contain any number each of two child nodes: `<asp:AsyncPostBackTrigger>` and `<asp:PostBackTrigger>`.</span></span> <span data-ttu-id="1ac4c-132">Accettano due attributi, `ControlID` e `EventName`e può specificare qualsiasi controllo all'interno dell'unità corrente di incapsulamento (ad esempio, se il controllo UpdatePanel si trova all'interno di un controllo utente Web, è consigliabile non tentare di fare riferimento a un controllo in la pagina in cui risiederà il controllo utente).</span><span class="sxs-lookup"><span data-stu-id="1ac4c-132">They both accept two attributes, `ControlID` and `EventName`, and can specify any Control within the current unit of encapsulation (for instance, if your UpdatePanel control resides within a Web User Control, you should not attempt to reference a Control on the Page on which the User Control will reside).</span></span>

<span data-ttu-id="1ac4c-133">Il `<asp:AsyncPostBackTrigger>` elemento risulta particolarmente utile in quanto possono essere indirizzati a qualsiasi evento di un controllo che esiste come elemento figlio di *qualsiasi* controllo UpdatePanel nell'unità di incapsulamento, non solo l'UpdatePanel con cui il trigger è un elemento figlio .</span><span class="sxs-lookup"><span data-stu-id="1ac4c-133">The `<asp:AsyncPostBackTrigger>` element is particularly useful in that it can target any event from a Control that exists as a child of *any* UpdatePanel control in the unit of encapsulation, not just the UpdatePanel under which this trigger is a child.</span></span> <span data-ttu-id="1ac4c-134">Di conseguenza, è possibile eseguire alcun controllo per attivare un aggiornamento parziale della pagina.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-134">Thus, any control can be made to trigger a partial page update.</span></span>

<span data-ttu-id="1ac4c-135">Analogamente, il `<asp:PostBackTrigger>` elemento può essere usato per i trigger, eseguire il rendering di una pagina parziale, ma che richiede un accesso completo al server.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-135">Similarly, the `<asp:PostBackTrigger>` element can be used to trigger a partial page render, but one that requires a full round-trip to the server.</span></span> <span data-ttu-id="1ac4c-136">Questo elemento di trigger può essere usato anche per forzare un rendering a pagina intera quando un controllo in caso contrario genera normalmente un rendering a pagina parziale (ad esempio, quando un `Button` esiste nel controllo di `<ContentTemplate>` elemento di un controllo UpdatePanel).</span><span class="sxs-lookup"><span data-stu-id="1ac4c-136">This trigger element can also be used to force a full page render when a control would otherwise normally trigger a partial page render (for instance, when a `Button` control exists in the `<ContentTemplate>` element of an UpdatePanel control).</span></span> <span data-ttu-id="1ac4c-137">Nuovamente, l'elemento PostBackTrigger è possibile specificare qualsiasi controllo che è un figlio di qualsiasi controllo UpdatePanel nell'unità corrente di incapsulamento.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-137">Again, the PostBackTrigger element can specify any control that is a child of any UpdatePanel control in the current unit of encapsulation.</span></span>

## <a name="lttriggersgt-element-reference"></a><span data-ttu-id="1ac4c-138">*&lt;I trigger&gt; riferimento all'elemento*</span><span class="sxs-lookup"><span data-stu-id="1ac4c-138">*&lt;Triggers&gt; Element Reference*</span></span>

<span data-ttu-id="1ac4c-139">*Markup discendenti:*</span><span class="sxs-lookup"><span data-stu-id="1ac4c-139">*Markup Descendants:*</span></span>

| <span data-ttu-id="1ac4c-140">**Tag**</span><span class="sxs-lookup"><span data-stu-id="1ac4c-140">**Tag**</span></span> | <span data-ttu-id="1ac4c-141">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="1ac4c-141">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="1ac4c-142">&lt;ASP: AsyncPostBackTrigger appartenente&gt;</span><span class="sxs-lookup"><span data-stu-id="1ac4c-142">&lt;asp:AsyncPostBackTrigger&gt;</span></span> | <span data-ttu-id="1ac4c-143">Specifica un controllo e l'evento che causa un aggiornamento parziale della pagina per l'UpdatePanel che contiene un riferimento al trigger.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-143">Specifies a control and event that will cause a partial page update for the UpdatePanel that contains this trigger reference.</span></span> |
| <span data-ttu-id="1ac4c-144">&lt;ASP: PostBackTrigger&gt;</span><span class="sxs-lookup"><span data-stu-id="1ac4c-144">&lt;asp:PostBackTrigger&gt;</span></span> | <span data-ttu-id="1ac4c-145">Specifica un controllo e l'evento che causa un aggiornamento completo di pagina (un aggiornamento a pagina intera).</span><span class="sxs-lookup"><span data-stu-id="1ac4c-145">Specifies a control and event that will cause a full page update (a full page refresh).</span></span> <span data-ttu-id="1ac4c-146">Questo tag può essere utilizzato per forzare un aggiornamento completo quando un controllo in caso contrario verrà generato per il rendering parziale.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-146">This tag can be used to force a full refresh when a control would otherwise trigger partial rendering.</span></span> |

## <a name="walkthrough-cross-updatepanel-triggers"></a><span data-ttu-id="1ac4c-147">*Procedura dettagliata: Tra UpdatePanel trigger*</span><span class="sxs-lookup"><span data-stu-id="1ac4c-147">*Walkthrough: Cross-UpdatePanel Triggers*</span></span>

1. <span data-ttu-id="1ac4c-148">Creare una nuova pagina ASP.NET con un oggetto di ScriptManager impostata per attivare il rendering parziale.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-148">Create a new ASP.NET page with a ScriptManager object set to enable partial rendering.</span></span> <span data-ttu-id="1ac4c-149">Aggiungere due UpdatePanel a questa pagina, nel primo, includere un controllo etichetta (Label1) e due controlli Button (Button1 e Button2).</span><span class="sxs-lookup"><span data-stu-id="1ac4c-149">Add two UpdatePanels to this page - in the first, include a Label control ( Label1 ) and two Button controls ( Button1 and Button2 ).</span></span> <span data-ttu-id="1ac4c-150">Button1 deve indicare fare clic per aggiornare i valori e Button2 deve indicare fare clic per aggiornare questo o un valore lungo le righe.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-150">Button1 should say Click to Update Both and Button2 should say Click to Update This, or something along those lines.</span></span> <span data-ttu-id="1ac4c-151">In secondo UpdatePanel, includere solo un controllo etichetta (Label2), ma impostare la proprietà ForeColor su un valore diverso da quello predefinito per distinguerli.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-151">In the second UpdatePanel, include only a Label control ( Label2 ), but set its ForeColor property to something other than the default to differentiate it.</span></span>
2. <span data-ttu-id="1ac4c-152">Impostare la proprietà UpdateMode di entrambi i tag per UpdatePanel **condizionale**.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-152">Set the UpdateMode property of both UpdatePanel tags to **Conditional**.</span></span>

<span data-ttu-id="1ac4c-153">**Elenco 1: Markup aspx:**</span><span class="sxs-lookup"><span data-stu-id="1ac4c-153">**Listing 1: Markup for default.aspx:**</span></span> 

[!code-aspx[Main](understanding-asp-net-ajax-updatepanel-triggers/samples/sample1.aspx)]

1. <span data-ttu-id="1ac4c-154">Nel gestore dell'evento Click per Button1, impostare Label1.Text e Label2.Text qualcosa dipendenti dal tempo (ad esempio DateTime.Now.ToLongTimeString()).</span><span class="sxs-lookup"><span data-stu-id="1ac4c-154">In the Click event handler for Button1, set Label1.Text and Label2.Text to something time-dependent (such as DateTime.Now.ToLongTimeString()).</span></span> <span data-ttu-id="1ac4c-155">Per il gestore eventi Click per Button2, impostare Label1.Text solo il valore di dipendenti dal tempo.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-155">For the Click event handler for Button2, set only Label1.Text to the time-dependent value.</span></span>

<span data-ttu-id="1ac4c-156">**Elenco 2: Codebehind (tagliati) in default.aspx.cs:**</span><span class="sxs-lookup"><span data-stu-id="1ac4c-156">**Listing 2: Codebehind (trimmed) in default.aspx.cs:**</span></span> 

[!code-csharp[Main](understanding-asp-net-ajax-updatepanel-triggers/samples/sample2.cs)]

1. <span data-ttu-id="1ac4c-157">Premere F5 per compilare ed eseguire il progetto.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-157">Press F5 to build and run the project.</span></span> <span data-ttu-id="1ac4c-158">Si noti che, quando si fa clic su aggiornamento sia pannelli, entrambe le etichette modificare testo. Tuttavia, quando si fa clic su Pannello di questo aggiornamento, Label1 solo per gli aggiornamenti.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-158">Note that, when you click Update Both Panels, both labels change text; however, when you click Update This Panel, only Label1 updates.</span></span>


[![](understanding-asp-net-ajax-updatepanel-triggers/_static/image2.png)](understanding-asp-net-ajax-updatepanel-triggers/_static/image1.png)

<span data-ttu-id="1ac4c-159">([Fare clic per visualizzare l'immagine ingrandita](understanding-asp-net-ajax-updatepanel-triggers/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="1ac4c-159">([Click to view full-size image](understanding-asp-net-ajax-updatepanel-triggers/_static/image3.png))</span></span>


## <a name="under-the-hood"></a><span data-ttu-id="1ac4c-160">*Dietro le quinte*</span><span class="sxs-lookup"><span data-stu-id="1ac4c-160">*Under the Hood*</span></span>

<span data-ttu-id="1ac4c-161">Utilizzando l'esempio che è appena costruite, è possibile esaminare svolte da ASP.NET AJAX e del funzionamento di questo trigger cross-pannello UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-161">Utilizing the example we just constructed, we can take a look at what ASP.NET AJAX is doing and how our UpdatePanel cross-panel triggers work.</span></span> <span data-ttu-id="1ac4c-162">A tale scopo, si opererà con il codice generato pagina HTML, nonché l'estensione di Mozilla Firefox chiamato FireBug - con esso, è possibile esaminare facilmente i postback AJAX.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-162">To do so, we will work with the generated page source HTML, as well as the Mozilla Firefox extension called FireBug - with it, we can easily examine the AJAX postbacks.</span></span> <span data-ttu-id="1ac4c-163">Utilizziamo inoltre lo strumento .NET Reflector da Lutz Roeder.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-163">We will also use the .NET Reflector tool by Lutz Roeder.</span></span> <span data-ttu-id="1ac4c-164">Entrambi gli strumenti sono disponibili gratuitamente e può essere trovati con una ricerca in internet.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-164">Both of these tools are freely available online, and can be found with an internet search.</span></span>

<span data-ttu-id="1ac4c-165">Un esame del codice sorgente della pagina Mostra quasi alcuna; i controlli UpdatePanel vengono visualizzati come `<div>` contenitori ed è possibile osservare la risorsa di script include fornito per il `<asp:ScriptManager>`.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-165">An examination of the page source code shows almost nothing out of the ordinary; the UpdatePanel controls are rendered as `<div>` containers, and we can see the script resource includes provided by the `<asp:ScriptManager>`.</span></span> <span data-ttu-id="1ac4c-166">Esistono inoltre alcune nuove chiamate specifico per AJAX per PageRequestManager che sono all'interno della libreria di script client AJAX.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-166">There are also some new AJAX-specific calls to the PageRequestManager that are internal to the AJAX client script library.</span></span> <span data-ttu-id="1ac4c-167">Infine, vedremo i due contenitori UpdatePanel - uno con il rendering `<input>` pulsanti con le due `<asp:Label>` controlli sottoposti a rendering come `<span>` contenitori.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-167">Finally, we see the two UpdatePanel containers - one with the rendered `<input>` buttons with the two `<asp:Label>` controls rendered as `<span>` containers.</span></span> <span data-ttu-id="1ac4c-168">(Se si analizza l'albero del DOM in FireBug, si noterà che le etichette vengono visualizzate in grigio per indicare che non producono il contenuto visibile).</span><span class="sxs-lookup"><span data-stu-id="1ac4c-168">(If you inspect the DOM tree in FireBug, you will notice that the labels are dimmed to indicate that they are not producing visible content).</span></span>

<span data-ttu-id="1ac4c-169">Fare clic sul pulsante Aggiorna il pannello e notare che superiore UpdatePanel verrà aggiornato con l'ora del server corrente.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-169">Click the Update This Panel button, and notice the top UpdatePanel will be updated with the current server time.</span></span> <span data-ttu-id="1ac4c-170">Apportare modifiche, scegliere la scheda Console in modo che è possibile esaminare la richiesta.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-170">In FireBug, choose the Console tab so that you can examine the request.</span></span> <span data-ttu-id="1ac4c-171">Prima di verificare i parametri della richiesta POST:</span><span class="sxs-lookup"><span data-stu-id="1ac4c-171">Examine the POST request parameters first:</span></span>


[![](understanding-asp-net-ajax-updatepanel-triggers/_static/image5.png)](understanding-asp-net-ajax-updatepanel-triggers/_static/image4.png)

<span data-ttu-id="1ac4c-172">([Fare clic per visualizzare l'immagine ingrandita](understanding-asp-net-ajax-updatepanel-triggers/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="1ac4c-172">([Click to view full-size image](understanding-asp-net-ajax-updatepanel-triggers/_static/image6.png))</span></span>


<span data-ttu-id="1ac4c-173">Si noti che l'UpdatePanel ha indicato al codice AJAX lato server con precisione quali struttura ad albero di controllo è stato generato tramite il parametro ScriptManager1: `Button1` del `UpdatePanel1` controllo.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-173">Note that the UpdatePanel has indicated to the server-side AJAX code precisely which control tree was fired via the ScriptManager1 parameter: `Button1` of the `UpdatePanel1` control.</span></span> <span data-ttu-id="1ac4c-174">A questo punto, fare clic sul pulsante di aggiornamento sia pannelli.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-174">Now, click on the Update Both Panels button.</span></span> <span data-ttu-id="1ac4c-175">Quindi, esaminando la risposta, si vede una serie delimitati da pipe di variabili impostate in una stringa. in particolare, è possibile notare l'UpdatePanel superiore, `UpdatePanel1`, con l'intera relativo HTML inviata al browser.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-175">Then, examining the response, we see a pipe-delimited series of variables set in a string; specifically, we see the top UpdatePanel, `UpdatePanel1`, has the entirety of its HTML sent to the browser.</span></span> <span data-ttu-id="1ac4c-176">La libreria di script client AJAX sostituisce HTML originale dell'UpdatePanel contenuto con il nuovo contenuto tramite il `.innerHTML` proprietà, quindi il server invia il contenuto modificato dal server in formato HTML.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-176">The AJAX client script library substitutes the UpdatePanel's original HTML content with the new content via the `.innerHTML` property, and so the server sends the changed content from the server as HTML.</span></span>

<span data-ttu-id="1ac4c-177">A questo punto, fare clic sul pulsante di aggiornamento sia pannelli ed esaminare i risultati dal server.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-177">Now, click on the Update Both Panels button and examine the results from the server.</span></span> <span data-ttu-id="1ac4c-178">I risultati sono molto simili, entrambi UpdatePanel ricevere nuova pagina HTML del server.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-178">The results are very similar - both UpdatePanels receive new HTML from the server.</span></span> <span data-ttu-id="1ac4c-179">Come con il callback precedente, lo stato di pagine aggiuntive viene inviato.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-179">As with the previous callback, additional page state is sent.</span></span>

<span data-ttu-id="1ac4c-180">Come possiamo vedere, perché nessun codice speciale viene utilizzato per eseguire un postback AJAX, la libreria di script client AJAX è in grado di intercettare i postback modulo senza codice aggiuntivo.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-180">As we can see, because no special code is utilized to perform an AJAX postback, the AJAX client script library is able to intercept form postbacks without any additional code.</span></span> <span data-ttu-id="1ac4c-181">I controlli server utilizzano JavaScript automaticamente in modo da non inviare automaticamente il form, ASP.NET inserisce automaticamente il codice per la convalida e stato già fatto, ottenuto principalmente con l'inclusione di risorse script automatico, la classe PostBackOptions e la classe ClientScriptManager.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-181">Server controls automatically utilize JavaScript so that they do not automatically submit the form - ASP.NET automatically injects code for form validation and state already, primarily achieved by automatic script resource inclusion, the PostBackOptions class, and the ClientScriptManager class.</span></span>

<span data-ttu-id="1ac4c-182">Ad esempio, si consideri un controllo casella di controllo. Esaminare il disassembly di classe in Reflector .NET.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-182">For instance, consider a CheckBox control; examine the class disassembly in .NET Reflector.</span></span> <span data-ttu-id="1ac4c-183">A tale scopo, verificare che l'assembly System. Web sia aperta e passare al `System.Web.UI.WebControls.CheckBox` (classe), apertura di `RenderInputTag` metodo.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-183">To do so, ensure that your System.Web assembly is open, and navigate to the `System.Web.UI.WebControls.CheckBox` class, opening the `RenderInputTag` method.</span></span> <span data-ttu-id="1ac4c-184">Cercare un'istruzione condizionale che controlla il `AutoPostBack` proprietà:</span><span class="sxs-lookup"><span data-stu-id="1ac4c-184">Look for a conditional that checks the `AutoPostBack` property:</span></span>


[![](understanding-asp-net-ajax-updatepanel-triggers/_static/image8.png)](understanding-asp-net-ajax-updatepanel-triggers/_static/image7.png)

<span data-ttu-id="1ac4c-185">([Fare clic per visualizzare l'immagine ingrandita](understanding-asp-net-ajax-updatepanel-triggers/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="1ac4c-185">([Click to view full-size image](understanding-asp-net-ajax-updatepanel-triggers/_static/image9.png))</span></span>


<span data-ttu-id="1ac4c-186">Quando un postback automatico è abilitato in un `CheckBox` controllare (tramite un postback automatico proprietà che è true), i risultanti `<input>` tag viene pertanto eseguito il rendering e gestione degli script in un evento ASP.NET relativo `onclick` attributo.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-186">When automatic postback is enabled on a `CheckBox` control (via the AutoPostBack property being true), the resultant `<input>` tag is therefore rendered with an ASP.NET event handling script in its `onclick` attribute.</span></span> <span data-ttu-id="1ac4c-187">L'intercettazione dell'invio del form, quindi consente ASP.NET AJAX essere inseriti nella pagina nonintrusively, contribuendo ad per evitare qualsiasi potenziale ultime modifiche che potrebbero verificarsi utilizzando una sostituzione di stringa probabilmente imprecisa.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-187">The interception of the form's submission, then, allows ASP.NET AJAX to be injected into the page nonintrusively, helping to avoid any potential breaking changes that might occur by utilizing a possibly-imprecise string replacement.</span></span> <span data-ttu-id="1ac4c-188">Inoltre, in questo modo *qualsiasi* controllo ASP.NET personalizzato per utilizzare le funzioni di ASP.NET AJAX senza codice aggiuntivo per supportare l'utilizzo all'interno di un contenitore di UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-188">Furthermore, this enables *any* custom ASP.NET control to utilize the power of ASP.NET AJAX without any additional code to support its use within an UpdatePanel container.</span></span>

<span data-ttu-id="1ac4c-189">Il `<triggers>` funzionalità corrisponde ai valori inizializzati nella chiamata a PageRequestManager \_updateControls (si noti che la libreria di script client AJAX ASP.NET utilizza la convenzione di metodi, eventi e i nomi dei campi che iniziano con un carattere di sottolineatura sono contrassegnati come interni e non sono destinate all'uso all'esterno della libreria).</span><span class="sxs-lookup"><span data-stu-id="1ac4c-189">The `<triggers>` functionality corresponds to the values initialized in the PageRequestManager call to \_updateControls (note that the ASP.NET AJAX client script library utilizes the convention that methods, events, and field names that begin with an underscore are marked as internal, and are not meant for use outside of the library itself).</span></span> <span data-ttu-id="1ac4c-190">Con, è possibile osservare i controlli che servono per provocano postback AJAX.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-190">With it, we can observe which controls are intended to cause AJAX postbacks.</span></span>

<span data-ttu-id="1ac4c-191">Ad esempio, aggiungere due controlli aggiuntivi per la pagina, lasciando un controllo all'esterno di UpdatePanel interamente e in uscita da uno all'interno di un UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-191">For example, let's add two additional controls to the page, leaving one control outside of the UpdatePanels entirely, and leaving one within an UpdatePanel.</span></span> <span data-ttu-id="1ac4c-192">Si verrà aggiungere un controllo casella di controllo all'interno di UpdatePanel superiore e rilasciare un DropDownList con un numero di colori definiti all'interno dell'elenco.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-192">We will add a CheckBox control within the upper UpdatePanel, and drop a DropDownList with a number of colors defined within the list.</span></span> <span data-ttu-id="1ac4c-193">Ecco il nuovo tag:</span><span class="sxs-lookup"><span data-stu-id="1ac4c-193">Here is the new markup:</span></span>

<span data-ttu-id="1ac4c-194">**Elenco di 3: Markup nuovo**</span><span class="sxs-lookup"><span data-stu-id="1ac4c-194">**Listing 3: New Markup**</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-updatepanel-triggers/samples/sample3.aspx)]

<span data-ttu-id="1ac4c-195">Di seguito è il nuovo code-behind:</span><span class="sxs-lookup"><span data-stu-id="1ac4c-195">And here is the new code-behind:</span></span>

<span data-ttu-id="1ac4c-196">**Listato 4: Codebehind**</span><span class="sxs-lookup"><span data-stu-id="1ac4c-196">**Listing 4: Codebehind**</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-updatepanel-triggers/samples/sample4.cs)]

<span data-ttu-id="1ac4c-197">L'idea alla base di questa pagina è che l'elenco a discesa Seleziona uno dei tre colori per mostrare la seconda etichetta, che la casella di controllo determina se è in grassetto, sia se le etichette di visualizzano la data, nonché l'ora.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-197">The idea behind this page is that the drop-down list selects one of three colors to show the second label, that the check box determines both whether it is bold, and whether the labels display the date as well as the time.</span></span> <span data-ttu-id="1ac4c-198">La casella di controllo non dovrebbe causare un aggiornamento AJAX, ma è necessario l'elenco a discesa, anche se non si trova all'interno di un UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-198">The check box should not cause an AJAX update, but the drop-down list should, even though it is not housed within an UpdatePanel.</span></span>


[![](understanding-asp-net-ajax-updatepanel-triggers/_static/image11.png)](understanding-asp-net-ajax-updatepanel-triggers/_static/image10.png)

<span data-ttu-id="1ac4c-199">([Fare clic per visualizzare l'immagine ingrandita](understanding-asp-net-ajax-updatepanel-triggers/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="1ac4c-199">([Click to view full-size image](understanding-asp-net-ajax-updatepanel-triggers/_static/image12.png))</span></span>


<span data-ttu-id="1ac4c-200">Come è evidente nella schermata precedente, il pulsante più recente per essere selezionato è il pulsante destro del mouse pannello, questo aggiornamento aggiornato il database indipendentemente dal tempo superiore del tempo nella parte inferiore.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-200">As is apparent in the above screen shot, the most-recent button to be clicked was the right button Update This Panel, which updated the top time independent of the bottom time.</span></span> <span data-ttu-id="1ac4c-201">La data è stata inoltre disattivata tra i clic, come la data è visibile nell'etichetta inferiore.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-201">The date was also switched off between clicks, as the date is visible in the bottom label.</span></span> <span data-ttu-id="1ac4c-202">Infine è il colore dell'etichetta nella parte inferiore di interesse: sia stato aggiornato più recentemente rispetto al testo dell'etichetta, che dimostra che lo stato del controllo è importante, e gli utenti si aspettano che deve essere mantenuto tramite postback AJAX.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-202">Finally of interest is the bottom label's color: it was updated more recently than the label's text, which demonstrates that control state is important, and users expect it to be preserved through AJAX postbacks.</span></span> <span data-ttu-id="1ac4c-203">*Tuttavia*, l'ora non è stato aggiornato.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-203">*However*, the time was not updated.</span></span> <span data-ttu-id="1ac4c-204">Il tempo è stato ricompilato automaticamente tramite la persistenza del \_ \_campo VIEWSTATE della pagina venga interpretata dal runtime ASP.NET quando il controllo è stato eseguito il rendering nel server.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-204">The time was automatically repopulated through the persistence of the \_\_VIEWSTATE field of the page being interpreted by the ASP.NET runtime when the control was being re-rendered on the server.</span></span> <span data-ttu-id="1ac4c-205">Il codice server ASP.NET AJAX non riconosce i cui metodi i controlli di modifica stato; semplicemente ripopola dallo stato di visualizzazione e quindi esegue gli eventi appropriati.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-205">The ASP.NET AJAX server code does not recognize in which methods the controls are changing state; it simply repopulates from view state and then runs the events that are appropriate.</span></span>

<span data-ttu-id="1ac4c-206">È opportuno ricordare, tuttavia, che siano stati inizializzato il tempo all'interno della pagina\_evento di caricamento, l'ora sarebbe avere stato incrementato correttamente.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-206">It should be pointed out, however, that had I initialized the time within the Page\_Load event, the time would have been incremented correctly.</span></span> <span data-ttu-id="1ac4c-207">Di conseguenza, gli sviluppatori devono fare attenzione che il codice appropriato è in esecuzione durante i gestori eventi appropriati ed evitare l'utilizzo della pagina\_caricare quando un gestore eventi di controllo sarebbe appropriato.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-207">Consequently, developers should be wary that the appropriate code is being run during the appropriate event handlers, and avoid use of Page\_Load when a control event handler would be appropriate.</span></span>

## <a name="summary"></a><span data-ttu-id="1ac4c-208">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="1ac4c-208">Summary</span></span>

<span data-ttu-id="1ac4c-209">Il controllo UpdatePanel Estensioni AJAX di ASP.NET è versatile e può utilizzare diversi metodi per l'identificazione di eventi di controllo dovrebbero impedirne l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-209">The ASP.NET AJAX Extensions UpdatePanel control is versatile, and can utilize a number of methods for identifying control events that should cause it to be updated.</span></span> <span data-ttu-id="1ac4c-210">Supporta verranno aggiornati automaticamente dai relativi controlli figlio, ma può anche rispondere agli eventi di controllo in un' posizione nella pagina.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-210">It supports being updated automatically by its child controls, but can also respond to control events elsewhere on the page.</span></span>

<span data-ttu-id="1ac4c-211">Per ridurre il potenziale per il carico di elaborazione di server, è consigliabile che il `ChildrenAsTriggers` impostare proprietà di un UpdatePanel `false`, e che gli eventi scelto-nel anziché inclusi per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-211">To reduce potential for server processing load, it is recommended that the `ChildrenAsTriggers` property of an UpdatePanel be set to `false`, and that events be opted-into rather than included by default.</span></span> <span data-ttu-id="1ac4c-212">Ciò impedisce inoltre gli eventi non necessari causando potenzialmente indesiderati, incluse la convalida e le modifiche apportate ai campi di input.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-212">This also prevents any unneeded events from causing potentially-unwanted effects, including validation, and changes to input fields.</span></span> <span data-ttu-id="1ac4c-213">Questi tipi di bug potrebbero essere difficili isolare, perché la pagina Aggiorna in modo trasparente all'utente e la causa potrebbe pertanto non essere immediatamente evidente.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-213">These types of bugs may be difficult to isolate, because the page updates transparently to the user, and the cause may therefore not be immediately obvious.</span></span>

<span data-ttu-id="1ac4c-214">Esaminando il funzionamento interno del form di ASP.NET AJAX, registrare il modello di intercettazione, siamo in grado di determinare che utilizza il framework già fornito da ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-214">By examining the inner workings of the ASP.NET AJAX form post interception model, we were able to determine that it utilizes the framework already provided by ASP.NET.</span></span> <span data-ttu-id="1ac4c-215">In questo modo, mantiene la massima compatibilità con i controlli progettato utilizzando lo stesso framework e intrusione minima su qualsiasi aggiuntive JavaScript scritta per la pagina.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-215">In doing so, it preserves maximum compatibility with controls designed using the same framework, and intrudes minimally on any additional JavaScript written for the page.</span></span>

## <a name="bio"></a><span data-ttu-id="1ac4c-216">Biografia</span><span class="sxs-lookup"><span data-stu-id="1ac4c-216">Bio</span></span>

<span data-ttu-id="1ac4c-217">Rob Paveza è uno sviluppatore di applicazioni .NET senior presso Terralever ([www.terralever.com](http://www.terralever.com)), una società di marketing interattiva iniziale in Tempe, AZ</span><span class="sxs-lookup"><span data-stu-id="1ac4c-217">Rob Paveza is a senior .NET application developer at Terralever ([www.terralever.com](http://www.terralever.com)), a leading interactive marketing firm in Tempe, AZ.</span></span> <span data-ttu-id="1ac4c-218">Egli può essere raggiunto al [ robpaveza@gmail.com ](mailto:robpaveza@gmail.com), e il suo blog si trova in [http://geekswithblogs.net/robp/](http://geekswithblogs.net/robp/).</span><span class="sxs-lookup"><span data-stu-id="1ac4c-218">He can be reached at [robpaveza@gmail.com](mailto:robpaveza@gmail.com), and his blog is located at [http://geekswithblogs.net/robp/](http://geekswithblogs.net/robp/).</span></span>

<span data-ttu-id="1ac4c-219">Categoria Scott lavora con tecnologie Web di Microsoft dal 1997 ed è il vicepresidente myKB.com ([www.myKB.com](http://www.myKB.com)) in cui si è specializzato nella scrittura ASP.NET basato su applicazioni con stato attivo sulle soluzioni Software Knowledge Base.</span><span class="sxs-lookup"><span data-stu-id="1ac4c-219">Scott Cate has been working with Microsoft Web technologies since 1997 and is the President of myKB.com ([www.myKB.com](http://www.myKB.com)) where he specializes in writing ASP.NET based applications focused on Knowledge Base Software solutions.</span></span> <span data-ttu-id="1ac4c-220">Scott possano essere contattati tramite posta elettronica al [ scott.cate@myKB.com ](mailto:scott.cate@myKB.com) o il suo blog all'indirizzo [ScottCate.com](http://ScottCate.com)</span><span class="sxs-lookup"><span data-stu-id="1ac4c-220">Scott can be contacted via email at [scott.cate@myKB.com](mailto:scott.cate@myKB.com) or his blog at [ScottCate.com](http://ScottCate.com)</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="1ac4c-221">[Precedente](understanding-partial-page-updates-with-asp-net-ajax.md)
[Successivo](understanding-asp-net-ajax-authentication-and-profile-application-services.md)</span><span class="sxs-lookup"><span data-stu-id="1ac4c-221">[Previous](understanding-partial-page-updates-with-asp-net-ajax.md)
[Next](understanding-asp-net-ajax-authentication-and-profile-application-services.md)</span></span>
