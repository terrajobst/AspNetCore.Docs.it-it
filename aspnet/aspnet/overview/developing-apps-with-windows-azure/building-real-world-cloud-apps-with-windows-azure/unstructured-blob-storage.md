---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/unstructured-blob-storage
title: Archiviazione di Blob non strutturati (creazione di applicazioni con Azure Cloud del mondo reale) | Documenti Microsoft
author: MikeWasson
description: "Le App per Cloud mondo reale compilazione con e-book Azure si basa su una presentazione sviluppata da Scott Guthrie. Viene spiegato 13 modelli e procedure che è possibile..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/30/2015
ms.topic: article
ms.assetid: 9f05ccb1-2004-4661-ad8b-c370e6c09c8e
ms.technology: 
ms.prod: .net-framework
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/unstructured-blob-storage
msc.type: authoredcontent
ms.openlocfilehash: 489769533a26c99404c6a5186d66f560385dcffd
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/24/2018
---
<a name="unstructured-blob-storage-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="b4f20-104">Archiviazione di Blob non strutturati (creazione di applicazioni Cloud reale in Azure)</span><span class="sxs-lookup"><span data-stu-id="b4f20-104">Unstructured Blob Storage (Building Real-World Cloud Apps with Azure)</span></span>
====================
<span data-ttu-id="b4f20-105">da [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="b4f20-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="b4f20-106">[Download correggerlo progetto](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) o [E-book di Download](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="b4f20-106">[Download Fix It Project](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="b4f20-107">Il **predefiniti reale World Cloud App con Azure** e-book è basato su una presentazione sviluppata da Scott Guthrie.</span><span class="sxs-lookup"><span data-stu-id="b4f20-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="b4f20-108">Vengono descritte le 13 modelli e procedure consigliate che consentono di avere esito negativo con lo sviluppo di App web per il cloud.</span><span class="sxs-lookup"><span data-stu-id="b4f20-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="b4f20-109">Per informazioni sull'e-book, vedere [primo capitolo](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="b4f20-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>


<span data-ttu-id="b4f20-110">Nel capitolo precedente abbiamo esaminato gli schemi di partizionamento e illustrato come l'app Correggi le immagini memorizzate nel servizio Blob di archiviazione di Azure e altri dati contenuti nel Database SQL di Azure.</span><span class="sxs-lookup"><span data-stu-id="b4f20-110">In the previous chapter we looked at partitioning schemes and explained how the Fix It app stores images in the Azure Storage Blob service, and other task data in Azure SQL Database.</span></span> <span data-ttu-id="b4f20-111">In questo capitolo è approfondita nel servizio Blob e Mostra come viene implementato in Correggi il codice del progetto.</span><span class="sxs-lookup"><span data-stu-id="b4f20-111">In this chapter we go deeper into the Blob service and show how it's implemented in Fix It project code.</span></span>

## <a name="what-is-blob-storage"></a><span data-ttu-id="b4f20-112">Che cos'è l'archiviazione Blob?</span><span class="sxs-lookup"><span data-stu-id="b4f20-112">What is Blob storage?</span></span>

<span data-ttu-id="b4f20-113">Il servizio Blob di archiviazione di Azure fornisce un modo per archiviare i file nel cloud.</span><span class="sxs-lookup"><span data-stu-id="b4f20-113">The Azure Storage Blob service provides a way to store files in the cloud.</span></span> <span data-ttu-id="b4f20-114">Il servizio Blob presenta numerosi vantaggi rispetto all'archiviazione di file in un file system di rete locale:</span><span class="sxs-lookup"><span data-stu-id="b4f20-114">The Blob service has a number of advantages over storing files in a local network file system:</span></span>

- <span data-ttu-id="b4f20-115">È altamente scalabile.</span><span class="sxs-lookup"><span data-stu-id="b4f20-115">It's highly scalable.</span></span> <span data-ttu-id="b4f20-116">Un singolo account di archiviazione è possibile archiviare [centinaia di terabyte](https://msdn.microsoft.com/library/windowsazure/dn249410.aspx), ed è possibile disporre di più account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="b4f20-116">A single Storage account can store [hundreds of terabytes](https://msdn.microsoft.com/library/windowsazure/dn249410.aspx), and you can have multiple Storage accounts.</span></span> <span data-ttu-id="b4f20-117">Alcuni dei principali clienti Azure archiviare centinaia di petabyte.</span><span class="sxs-lookup"><span data-stu-id="b4f20-117">Some of the biggest Azure customers store hundreds of petabytes.</span></span> <span data-ttu-id="b4f20-118">Microsoft SkyDrive utilizza l'archiviazione di blob.</span><span class="sxs-lookup"><span data-stu-id="b4f20-118">Microsoft SkyDrive uses blob storage.</span></span>
- <span data-ttu-id="b4f20-119">È durevole.</span><span class="sxs-lookup"><span data-stu-id="b4f20-119">It's durable.</span></span> <span data-ttu-id="b4f20-120">Ogni file che archiviare nel servizio Blob viene automaticamente eseguito il backup.</span><span class="sxs-lookup"><span data-stu-id="b4f20-120">Every file you store in the Blob service is automatically backed up.</span></span>
- <span data-ttu-id="b4f20-121">Fornisce la disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="b4f20-121">It provides high availability.</span></span> <span data-ttu-id="b4f20-122">Il [contratto di servizio per l'archiviazione](https://go.microsoft.com/fwlink/p/?linkid=159705&amp;clcid=0x409) promesse 99,9% o 99,99% tempo di attività, a seconda di quale opzione di ridondanza geografica scelta.</span><span class="sxs-lookup"><span data-stu-id="b4f20-122">The [SLA for Storage](https://go.microsoft.com/fwlink/p/?linkid=159705&amp;clcid=0x409) promises 99.9% or 99.99% uptime, depending on which geo-redundancy option you choose.</span></span>
- <span data-ttu-id="b4f20-123">È una funzionalità di piattaforma come servizio (PaaS) di Azure, pertanto è sufficiente archiviare e recuperare i file, pagare solo la quantità effettiva di archiviazione da utilizzare, e Azure occupa automaticamente di impostare e gestire tutte le macchine virtuali e l'unità disco necessarie per il servizio.</span><span class="sxs-lookup"><span data-stu-id="b4f20-123">It's a platform-as-a-service (PaaS) feature of Azure, which means you just store and retrieve files, paying only for the actual amount of storage you use, and Azure automatically takes care of setting up and managing all of the VMs and disk drives required for the service.</span></span>
- <span data-ttu-id="b4f20-124">È possibile accedere nel servizio Blob utilizzando un'API REST o tramite un linguaggio di programmazione API.</span><span class="sxs-lookup"><span data-stu-id="b4f20-124">You can access the Blob service by using a REST API or by using a programming language API.</span></span> <span data-ttu-id="b4f20-125">SDK sono disponibili per .NET, Java, Ruby e ad altri utenti.</span><span class="sxs-lookup"><span data-stu-id="b4f20-125">SDKs are available for .NET, Java, Ruby, and others.</span></span>
- <span data-ttu-id="b4f20-126">Quando si archivia un file nel servizio Blob, è possibile apportare facilmente disponibile pubblicamente su Internet.</span><span class="sxs-lookup"><span data-stu-id="b4f20-126">When you store a file in the Blob service, you can easily make it publicly available over the Internet.</span></span>
- <span data-ttu-id="b4f20-127">È possibile proteggere i file nel Blob di accedere al servizio in modo da poter solo dagli utenti autorizzati, oppure è possibile fornire i token di accesso temporaneo che li rende disponibili per un utente solo per un periodo di tempo limitato.</span><span class="sxs-lookup"><span data-stu-id="b4f20-127">You can secure files in the Blob service so they can accessed only by authorized users, or you can provide temporary access tokens that makes them available to someone only for a limited period of time.</span></span>

<span data-ttu-id="b4f20-128">Ogni volta che si sta creando un'app di Azure e si desidera memorizzare grandi quantità di dati in un ambiente locale potrebbero andare nel file, ad esempio immagini, video, PDF, fogli di calcolo e così via, prendere in considerazione il servizio Blob.</span><span class="sxs-lookup"><span data-stu-id="b4f20-128">Anytime you're building an app for Azure and you want to store a lot of data that in an on-premises environment would go in files -- such as images, videos, PDFs, spreadsheets, etc. -- consider the Blob service.</span></span>

## <a name="creating-a-storage-account"></a><span data-ttu-id="b4f20-129">Creazione di un account di archiviazione</span><span class="sxs-lookup"><span data-stu-id="b4f20-129">Creating a Storage account</span></span>

<span data-ttu-id="b4f20-130">Per iniziare con il servizio Blob creare un account di archiviazione in Azure.</span><span class="sxs-lookup"><span data-stu-id="b4f20-130">To get started with the Blob service you create a Storage account in Azure.</span></span> <span data-ttu-id="b4f20-131">Nel portale, fare clic su **New** -- **Data Services** -- **archiviazione** -- **creazione rapida**, e quindi immettere un URL e una posizione del data center.</span><span class="sxs-lookup"><span data-stu-id="b4f20-131">In the portal, click **New** -- **Data Services** -- **Storage** -- **Quick Create**, and then enter a URL and a data center location.</span></span> <span data-ttu-id="b4f20-132">Posizione del data center deve essere lo stesso come app web.</span><span class="sxs-lookup"><span data-stu-id="b4f20-132">The data center location should be the same as your web app.</span></span>

![Creare un account Archiv.](unstructured-blob-storage/_static/image1.png)

<span data-ttu-id="b4f20-134">Selezionare l'area principale in cui si desidera archiviare il contenuto e si sceglie il [-replica geografica](https://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/11/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx#_Geo_Redundant_Storage) opzione, Azure crea repliche di tutti i dati in un data center diverso in un'altra area del paese.</span><span class="sxs-lookup"><span data-stu-id="b4f20-134">You pick the primary region where you want to store the content, and if you choose the [geo-replication](https://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/11/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx#_Geo_Redundant_Storage) option, Azure creates replicas of all your data in a different data center in another region of the country.</span></span> <span data-ttu-id="b4f20-135">Ad esempio, se si sceglie data center degli Stati Uniti occidentali, quando si archivia un file che passano nel data center degli Stati Uniti occidentali, ma in background Azure anche verrà copiato in una delle altre aree di dati di Stati Uniti.</span><span class="sxs-lookup"><span data-stu-id="b4f20-135">For example, if you choose the Western US data center, when you store a file it goes to the Western US data center, but in the background Azure also copies it to one of the other US data centers.</span></span> <span data-ttu-id="b4f20-136">In caso di emergenza in un'area del paese, i dati sono ancora sicuri.</span><span class="sxs-lookup"><span data-stu-id="b4f20-136">If a disaster happens in one region of the country, your data is still safe.</span></span>

<span data-ttu-id="b4f20-137">Non replica i dati attraverso i limiti geopolitici, Azure: se la posizione primaria è negli Stati Uniti, i file vengono replicati solo in un'altra area all'interno degli Stati Uniti; Se la posizione primaria è Australia, i file vengono replicati solo a un altro data center, in Australia.</span><span class="sxs-lookup"><span data-stu-id="b4f20-137">Azure won't replicate data across geo-political boundaries: if your primary location is in the U.S., your files are only replicated to another region within the U.S.; if your primary location is Australia, your files are only replicated to another data center in Australia.</span></span>

<span data-ttu-id="b4f20-138">Naturalmente, è anche possibile creare un account di archiviazione eseguendo i comandi da uno script, come abbiamo visto prima.</span><span class="sxs-lookup"><span data-stu-id="b4f20-138">Of course, you can also create a Storage account by executing commands from a script, as we saw earlier.</span></span> <span data-ttu-id="b4f20-139">Di seguito è riportato un comando di Windows PowerShell per creare un account di archiviazione:</span><span class="sxs-lookup"><span data-stu-id="b4f20-139">Here's a Windows PowerShell command to create a Storage account:</span></span>

[!code-powershell[Main](unstructured-blob-storage/samples/sample1.ps1)]

<span data-ttu-id="b4f20-140">Dopo aver creato un account di archiviazione, è possibile avviare immediatamente l'archiviazione dei file nel servizio Blob.</span><span class="sxs-lookup"><span data-stu-id="b4f20-140">Once you have a Storage account, you can immediately start storing files in the Blob service.</span></span>

## <a name="using-blob-storage-in-the-fix-it-app"></a><span data-ttu-id="b4f20-141">Utilizzo dell'archiviazione Blob nell'app Correggi</span><span class="sxs-lookup"><span data-stu-id="b4f20-141">Using Blob storage in the Fix It app</span></span>

<span data-ttu-id="b4f20-142">L'app Correggi consente di caricare le foto.</span><span class="sxs-lookup"><span data-stu-id="b4f20-142">The Fix It app enables you to upload photos.</span></span>

![Creare un'attività di correzione](unstructured-blob-storage/_static/image2.png)

<span data-ttu-id="b4f20-144">Quando fa clic su **creare il FixIt**, l'applicazione carica il file di immagine specificato e lo archivia nel servizio Blob.</span><span class="sxs-lookup"><span data-stu-id="b4f20-144">When you click **Create the FixIt**, the application uploads the specified image file and stores it in the Blob service.</span></span>

### <a name="set-up-the-blob-container"></a><span data-ttu-id="b4f20-145">Configurare il contenitore Blob</span><span class="sxs-lookup"><span data-stu-id="b4f20-145">Set up the Blob container</span></span>

<span data-ttu-id="b4f20-146">Per poter archiviare un file nel servizio Blob di cui è necessario un *contenitore* in cui salvarlo.</span><span class="sxs-lookup"><span data-stu-id="b4f20-146">In order to store a file in the Blob service you need a *container* to store it in.</span></span> <span data-ttu-id="b4f20-147">Un contenitore del servizio Blob corrisponde a una cartella del file system.</span><span class="sxs-lookup"><span data-stu-id="b4f20-147">A Blob service container corresponds to a file system folder.</span></span> <span data-ttu-id="b4f20-148">Gli script di creazione ambiente che è stata esaminata nel [automatizzare tutti gli elementi capitolo](automate-everything.md) creare l'account di archiviazione, ma non creano un contenitore.</span><span class="sxs-lookup"><span data-stu-id="b4f20-148">The environment creation scripts that we reviewed in the [Automate Everything chapter](automate-everything.md) create the Storage account, but they don't create a container.</span></span> <span data-ttu-id="b4f20-149">Pertanto lo scopo del `CreateAndConfigure` metodo la `PhotoService` classe consiste nel creare un contenitore, se non esiste già.</span><span class="sxs-lookup"><span data-stu-id="b4f20-149">So the purpose of the `CreateAndConfigure` method of the `PhotoService` class is to create a container if it doesn't already exist.</span></span> <span data-ttu-id="b4f20-150">Questo metodo viene chiamato dal `Application_Start` metodo *Global. asax*.</span><span class="sxs-lookup"><span data-stu-id="b4f20-150">This method is called from the `Application_Start` method in *Global.asax*.</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample2.cs)]

<span data-ttu-id="b4f20-151">La chiave di accesso e sul nome di account archiviazione vengono archiviati nel `appSettings` insieme del *Web. config* file e scrivere il codice nel `StorageUtils.StorageAccount` metodo utilizza tali valori per compilare una stringa di connessione e stabilire una connessione:</span><span class="sxs-lookup"><span data-stu-id="b4f20-151">The storage account name and access key are stored in the `appSettings` collection of the *Web.config* file, and code in the `StorageUtils.StorageAccount` method uses those values to build a connection string and establish a connection:</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample3.cs)]

<span data-ttu-id="b4f20-152">Il `CreateAndConfigureAsync` crea quindi un oggetto che rappresenta il servizio Blob e un oggetto che rappresenta un contenitore (cartella) denominato "immagini" nel servizio Blob:</span><span class="sxs-lookup"><span data-stu-id="b4f20-152">The `CreateAndConfigureAsync` method then creates an object that represents the Blob service, and an object that represents a container (folder) named "images" in the Blob service:</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample4.cs)]

<span data-ttu-id="b4f20-153">Se un contenitore denominato "immagini" non esiste ancora, che sarà true, la prima volta che si esegue l'app in un nuovo account di archiviazione, il codice crea il contenitore e imposta le autorizzazioni per renderlo pubblico.</span><span class="sxs-lookup"><span data-stu-id="b4f20-153">If a container named "images" doesn't exist yet -- which will be true the first time you run the app against a new storage account -- the code creates the container and sets permissions to make it public.</span></span> <span data-ttu-id="b4f20-154">(Per impostazione predefinita, nuovi contenitori di blob sono privati e sono accessibili solo agli utenti che dispongono dell'autorizzazione per accedere all'account di archiviazione.)</span><span class="sxs-lookup"><span data-stu-id="b4f20-154">(By default, new blob containers are private and are accessible only to users who have permission to access your storage account.)</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample5.cs)]

### <a name="store-the-uploaded-photo-in-blob-storage"></a><span data-ttu-id="b4f20-155">Archiviare la foto caricata nell'archiviazione Blob</span><span class="sxs-lookup"><span data-stu-id="b4f20-155">Store the uploaded photo in Blob storage</span></span>

<span data-ttu-id="b4f20-156">Per caricare e salvare il file di immagine, l'applicazione utilizzi un `IPhotoService` interfaccia e un'implementazione dell'interfaccia di `PhotoService` classe.</span><span class="sxs-lookup"><span data-stu-id="b4f20-156">To upload and save the image file, the app uses an `IPhotoService` interface and an implementation of the interface in the `PhotoService` class.</span></span> <span data-ttu-id="b4f20-157">Il *PhotoService.cs* file contiene tutto il codice nel Correggi app che comunica con il servizio Blob.</span><span class="sxs-lookup"><span data-stu-id="b4f20-157">The *PhotoService.cs* file contains all of the code in the Fix It app that communicates with the Blob service.</span></span>

<span data-ttu-id="b4f20-158">Metodo del controller MVC seguente viene chiamato quando l'utente fa clic **creare il FixIt**.</span><span class="sxs-lookup"><span data-stu-id="b4f20-158">The following MVC controller method is called when the user clicks **Create the FixIt**.</span></span> <span data-ttu-id="b4f20-159">In questo codice, `photoService` fa riferimento a un'istanza di `PhotoService` (classe), e `fixittask` fa riferimento a un'istanza del `FixItTask` classe di entità che archivia i dati di una nuova attività.</span><span class="sxs-lookup"><span data-stu-id="b4f20-159">In this code, `photoService` refers to an instance of the `PhotoService` class, and `fixittask` refers to an instance of the `FixItTask` entity class that stores data for a new task.</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample6.cs?highlight=8)]

<span data-ttu-id="b4f20-160">Il `UploadPhotoAsync` metodo la `PhotoService` classe archivia il file caricato nel servizio Blob e restituisce un URL che punta al nuovo blob.</span><span class="sxs-lookup"><span data-stu-id="b4f20-160">The `UploadPhotoAsync` method in the `PhotoService` class stores the uploaded file in the Blob service and returns a URL that points to the new blob.</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample7.cs)]

<span data-ttu-id="b4f20-161">Ad esempio il `CreateAndConfigure` (metodo), il codice si connette all'account di archiviazione e crea un oggetto che rappresenta il contenitore di blob "immagini", ad eccezione del fatto di seguito si presuppone che il contenitore esiste già.</span><span class="sxs-lookup"><span data-stu-id="b4f20-161">As in the `CreateAndConfigure` method, the code connects to the storage account and creates an object that represents the "images" blob container, except here it assumes the container already exists.</span></span>

<span data-ttu-id="b4f20-162">Crea quindi un identificatore univoco per l'immagine da caricare, tramite la concatenazione di un nuovo valore GUID con l'estensione di file:</span><span class="sxs-lookup"><span data-stu-id="b4f20-162">Then it creates a unique identifier for the image about to be uploaded, by concatenating a new GUID value with the file extension:</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample8.cs)]

<span data-ttu-id="b4f20-163">Il codice quindi utilizza l'oggetto contenitore di blob e il nuovo identificatore univoco per creare un oggetto blob, imposta un attributo sull'oggetto che indica il tipo di file è e quindi utilizza l'oggetto blob per archiviare il file nell'archiviazione blob.</span><span class="sxs-lookup"><span data-stu-id="b4f20-163">The code then uses the blob container object and the new unique identifier to create a blob object, sets an attribute on that object indicating what kind of file it is, and then uses the blob object to store the file in blob storage.</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample9.cs)]

<span data-ttu-id="b4f20-164">Infine, viene ottenuto un URL che fa riferimento il blob.</span><span class="sxs-lookup"><span data-stu-id="b4f20-164">Finally, it gets a URL that references the blob.</span></span> <span data-ttu-id="b4f20-165">Questo URL verrà archiviato nel database e sono utilizzabili in Correggi le pagine web per visualizzare l'immagine caricata.</span><span class="sxs-lookup"><span data-stu-id="b4f20-165">This URL will be stored in the database and can be used in Fix It web pages to display the uploaded image.</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample10.cs)]

<span data-ttu-id="b4f20-166">Questo URL viene archiviato nel database come una delle colonne della tabella FixItTask.</span><span class="sxs-lookup"><span data-stu-id="b4f20-166">This URL is stored in the database as one of the columns of the FixItTask table.</span></span>

[!code-csharp[Main](unstructured-blob-storage/samples/sample11.cs?highlight=10)]

<span data-ttu-id="b4f20-167">Con solo l'URL nel database e le immagini nell'archiviazione Blob, app Correggi mantiene il database di piccole, scalabile ed economica, mentre vengono archiviate le immagini in cui l'archiviazione è economica e in grado di gestire terabyte o petabyte.</span><span class="sxs-lookup"><span data-stu-id="b4f20-167">With only the URL in the database, and images in Blob storage, the Fix It app keeps the database small, scalable, and inexpensive, while the images are stored where storage is cheap and capable of handling terabytes or petabytes.</span></span> <span data-ttu-id="b4f20-168">Un account di archiviazione può archiviare centinaia di terabyte di foto di correzione, e si paga solo per ciò che si utilizza.</span><span class="sxs-lookup"><span data-stu-id="b4f20-168">One storage account can store hundreds of terabytes of Fix It photos, and you only pay for what you use.</span></span> <span data-ttu-id="b4f20-169">Pertanto è possibile iniziare a piccole centesimi 9 pagamenti per il primo gigabyte e aggiungere altre immagini per centesimi per ogni GB aggiuntivo.</span><span class="sxs-lookup"><span data-stu-id="b4f20-169">So you can start off small paying 9 cents for the first gigabyte, and add more images for pennies per additional gigabyte.</span></span>

### <a name="display-the-uploaded-file"></a><span data-ttu-id="b4f20-170">Visualizzare il file caricato</span><span class="sxs-lookup"><span data-stu-id="b4f20-170">Display the uploaded file</span></span>

<span data-ttu-id="b4f20-171">L'applicazione Correggi Visualizza il file di immagine caricata quando vengono visualizzati i dettagli per un'attività.</span><span class="sxs-lookup"><span data-stu-id="b4f20-171">The Fix It application displays the uploaded image file when it displays details for a task.</span></span>

![Risolvere i dettagli delle attività con foto](unstructured-blob-storage/_static/image3.png)

<span data-ttu-id="b4f20-173">Per visualizzare l'immagine, è la visualizzazione MVC dovrà includere il `PhotoUrl` valore nel codice HTML inviato al browser.</span><span class="sxs-lookup"><span data-stu-id="b4f20-173">To display the image, all the MVC view has to do is include the `PhotoUrl` value in the HTML sent to the browser.</span></span> <span data-ttu-id="b4f20-174">Il server web e il database non utilizza i cicli per visualizzare l'immagine, servono solo pochi byte per l'URL dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="b4f20-174">The web server and the database are not using cycles to display the image, they are only serving up a few bytes to the image URL.</span></span> <span data-ttu-id="b4f20-175">Nel seguente codice Razor, `Model` fa riferimento a un'istanza di `FixItTask` classe di entità.</span><span class="sxs-lookup"><span data-stu-id="b4f20-175">In the following Razor code, `Model` refers to an instance of the `FixItTask` entity class.</span></span>

[!code-cshtml[Main](unstructured-blob-storage/samples/sample12.cshtml?highlight=11)]

<span data-ttu-id="b4f20-176">Se si esamina il codice HTML della pagina che consente di visualizzare, viene visualizzato l'URL che punta direttamente all'immagine nell'archiviazione blob, un codice simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="b4f20-176">If you look at the HTML of the page that displays, you see the URL pointing directly to the image in blob storage, something like this:</span></span>

[!code-cshtml[Main](unstructured-blob-storage/samples/sample13.cshtml?highlight=11)]

## <a name="summary"></a><span data-ttu-id="b4f20-177">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="b4f20-177">Summary</span></span>

<span data-ttu-id="b4f20-178">Si è visto come app Correggi le immagini memorizzate nel servizio Blob e solo gli URL di immagine nel database SQL.</span><span class="sxs-lookup"><span data-stu-id="b4f20-178">You've seen how the Fix It app stores images in the Blob service and only image URLs in the SQL database.</span></span> <span data-ttu-id="b4f20-179">Uso del servizio Blob mantiene il database SQL molto più piccola, in caso contrario sarebbe, rende possibile la scala fino a un numero illimitato di attività e può essere eseguita senza scrivere una quantità di codice.</span><span class="sxs-lookup"><span data-stu-id="b4f20-179">Using the Blob service keeps the SQL database much smaller than it otherwise would be, makes it possible to scale up to an almost unlimited number of tasks, and can be done without writing a lot of code.</span></span>

<span data-ttu-id="b4f20-180">È possibile avere centinaia di terabyte in un account di archiviazione e il costo di archiviazione è molto meno dispendioso di archiviazione del Database SQL, a partire da circa 3 centesimi per gigabyte al mese corrente più un addebito di transazioni di dimensioni.</span><span class="sxs-lookup"><span data-stu-id="b4f20-180">You can have hundreds of terabytes in a storage account, and the storage cost is much less expensive than SQL Database storage, starting at about 3 cents per gigabyte per month plus a small transaction charge.</span></span> <span data-ttu-id="b4f20-181">E tenere presente che si sta non a pagamento per la capacità massima, ma solo per la quantità che effettivamente archiviati in modo che l'app è pronto essere scalato ma non si effettuano pagamenti ad tutte le capacità.</span><span class="sxs-lookup"><span data-stu-id="b4f20-181">And keep in mind that you're not paying for the maximum capacity but only for the amount you actually store, so your app is ready to scale but you're not paying for all that extra capacity.</span></span>

<span data-ttu-id="b4f20-182">Nel [capitolo successivo](design-to-survive-failures.md) parleremo l'importanza di effettuare un'app cloud in grado di gestire normalmente gli errori.</span><span class="sxs-lookup"><span data-stu-id="b4f20-182">In the [next chapter](design-to-survive-failures.md) we'll talk about the importance of making a cloud app capable of gracefully handling failures.</span></span>

## <a name="resources"></a><span data-ttu-id="b4f20-183">Risorse</span><span class="sxs-lookup"><span data-stu-id="b4f20-183">Resources</span></span>

<span data-ttu-id="b4f20-184">Per ulteriori informazioni, vedere le risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="b4f20-184">For more information see the following resources:</span></span>

- <span data-ttu-id="b4f20-185">[Introduzione all'archiviazione BLOB di Azure](https://www.simple-talk.com/cloud/cloud-data/an-introduction-to-windows-azure-blob-storage-/).</span><span class="sxs-lookup"><span data-stu-id="b4f20-185">[An Introduction to Azure BLOB Storage](https://www.simple-talk.com/cloud/cloud-data/an-introduction-to-windows-azure-blob-storage-/).</span></span> <span data-ttu-id="b4f20-186">Post di blog di legno Mike.</span><span class="sxs-lookup"><span data-stu-id="b4f20-186">Blog by Mike Wood.</span></span>
- <span data-ttu-id="b4f20-187">[Come utilizzare il servizio di archiviazione Blob di Azure in .NET](https://docs.microsoft.com/azure/storage/blobs/storage-dotnet-how-to-use-blobs).</span><span class="sxs-lookup"><span data-stu-id="b4f20-187">[How to use the Azure Blob Storage Service in .NET](https://docs.microsoft.com/azure/storage/blobs/storage-dotnet-how-to-use-blobs).</span></span> <span data-ttu-id="b4f20-188">Documentazione ufficiale sul sito MicrosoftAzure.com.</span><span class="sxs-lookup"><span data-stu-id="b4f20-188">Official documentation on the MicrosoftAzure.com site.</span></span> <span data-ttu-id="b4f20-189">Una breve introduzione all'archiviazione seguito da esempi di codice che illustra come connettersi all'archiviazione blob, blob creare contenitori, caricare e scaricare i BLOB e così via.</span><span class="sxs-lookup"><span data-stu-id="b4f20-189">A brief introduction to blob storage followed by code examples showing how to connect to blob storage, create containers, upload and download blobs, etc.</span></span>
- <span data-ttu-id="b4f20-190">[Operatore alternativo: Compilazione di servizi Cloud resilienti e scalabili](https://channel9.msdn.com/Series/FailSafe).</span><span class="sxs-lookup"><span data-stu-id="b4f20-190">[FailSafe: Building Scalable, Resilient Cloud Services](https://channel9.msdn.com/Series/FailSafe).</span></span> <span data-ttu-id="b4f20-191">Serie video in nove parti Ulrich Homann, Marc Mercuri e Mark Simms.</span><span class="sxs-lookup"><span data-stu-id="b4f20-191">Nine-part video series by Ulrich Homann, Marc Mercuri, and Mark Simms.</span></span> <span data-ttu-id="b4f20-192">Presenta i concetti generali e i principi architetturali in modo molto accessibile e interessano con storie ricavate dall'esperienza di Microsoft Team (CAT, Customer Advisory) con i clienti effettivi.</span><span class="sxs-lookup"><span data-stu-id="b4f20-192">Presents high-level concepts and architectural principles in a very accessible and interesting way, with stories drawn from Microsoft Customer Advisory Team (CAT) experience with actual customers.</span></span> <span data-ttu-id="b4f20-193">Per una descrizione del servizio di archiviazione di Azure e BLOB, vedere episodio 5 partendo da 35:13.</span><span class="sxs-lookup"><span data-stu-id="b4f20-193">For a discussion of Azure Storage service and blobs, see episode 5 starting at 35:13.</span></span>
- <span data-ttu-id="b4f20-194">[Microsoft Patterns and Practices - informazioni aggiuntive su Azure](https://msdn.microsoft.com/library/dn568099.aspx).</span><span class="sxs-lookup"><span data-stu-id="b4f20-194">[Microsoft Patterns and Practices - Azure Guidance](https://msdn.microsoft.com/library/dn568099.aspx).</span></span> <span data-ttu-id="b4f20-195">Vedere Valet chiave modello.</span><span class="sxs-lookup"><span data-stu-id="b4f20-195">See Valet Key pattern.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="b4f20-196">[Precedente](data-partitioning-strategies.md)
[Successivo](design-to-survive-failures.md)</span><span class="sxs-lookup"><span data-stu-id="b4f20-196">[Previous](data-partitioning-strategies.md)
[Next](design-to-survive-failures.md)</span></span>
