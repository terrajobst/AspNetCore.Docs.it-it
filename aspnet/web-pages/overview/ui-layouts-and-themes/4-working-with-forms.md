---
uid: web-pages/overview/ui-layouts-and-themes/4-working-with-forms
title: Utilizzo di form HTML nei siti ASP.NET Web Pages (Razor) | Documenti Microsoft
author: tfitzmac
description: "Un modulo è una sezione di un documento HTML in cui inserire i controlli di input dell'utente, ad esempio elenchi a discesa, caselle di controllo, pulsanti di opzione e caselle di testo. È necessario utilizzare moduli CO..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/10/2014
ms.topic: article
ms.assetid: f3f4b8c8-e8f6-4474-ad94-69228a6c01ee
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/4-working-with-forms
msc.type: authoredcontent
ms.openlocfilehash: fcdded3a7e80ee797eae445f347735f0f7b3d7ad
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/10/2017
---
<a name="working-with-html-forms-in-aspnet-web-pages-razor-sites"></a><span data-ttu-id="d08fa-104">Utilizzo di form HTML in siti Web di ASP.NET di pagine (Razor)</span><span class="sxs-lookup"><span data-stu-id="d08fa-104">Working with HTML Forms in ASP.NET Web Pages (Razor) Sites</span></span>
====================
<span data-ttu-id="d08fa-105">da [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="d08fa-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="d08fa-106">In questo articolo viene descritto come elaborare un form HTML (con i pulsanti e caselle di testo) quando si lavora in un sito Web ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="d08fa-106">This article describes how to process an HTML form (with text boxes and buttons) when you are working in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="d08fa-107">**Illustra quanto segue:**</span><span class="sxs-lookup"><span data-stu-id="d08fa-107">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="d08fa-108">Come creare un form HTML.</span><span class="sxs-lookup"><span data-stu-id="d08fa-108">How to create an HTML form.</span></span>
> - <span data-ttu-id="d08fa-109">Come leggere l'input dell'utente dal modulo.</span><span class="sxs-lookup"><span data-stu-id="d08fa-109">How to read user input from the form.</span></span>
> - <span data-ttu-id="d08fa-110">Come convalidare l'input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="d08fa-110">How to validate user input.</span></span>
> - <span data-ttu-id="d08fa-111">Come ripristinare i valori del form, dopo l'invio della pagina.</span><span class="sxs-lookup"><span data-stu-id="d08fa-111">How to restore form values after the page is submitted.</span></span>
> 
> <span data-ttu-id="d08fa-112">Programmazione di concetti introdotti nell'articolo ASP.NET sono:</span><span class="sxs-lookup"><span data-stu-id="d08fa-112">These are the ASP.NET programming concepts introduced in the article:</span></span>
> 
> - <span data-ttu-id="d08fa-113">Oggetto `Request`.</span><span class="sxs-lookup"><span data-stu-id="d08fa-113">The `Request` object.</span></span>
> - <span data-ttu-id="d08fa-114">Convalida dell'input.</span><span class="sxs-lookup"><span data-stu-id="d08fa-114">Input validation.</span></span>
> - <span data-ttu-id="d08fa-115">La codifica HTML.</span><span class="sxs-lookup"><span data-stu-id="d08fa-115">HTML encoding.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="d08fa-116">Versioni del software utilizzate nell'esercitazione</span><span class="sxs-lookup"><span data-stu-id="d08fa-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="d08fa-117">Pagine Web ASP.NET (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="d08fa-117">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="d08fa-118">In questa esercitazione si integra inoltre con ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="d08fa-118">This tutorial also works with ASP.NET Web Pages 2.</span></span>


## <a name="creating-a-simple-html-form"></a><span data-ttu-id="d08fa-119">Creazione di un Form HTML semplice</span><span class="sxs-lookup"><span data-stu-id="d08fa-119">Creating a Simple HTML Form</span></span>

1. <span data-ttu-id="d08fa-120">Creare un nuovo sito Web.</span><span class="sxs-lookup"><span data-stu-id="d08fa-120">Create a new website.</span></span>
2. <span data-ttu-id="d08fa-121">Nella cartella radice, creazione di una pagina web denominata *Form.cshtml* e immettere il markup seguente:</span><span class="sxs-lookup"><span data-stu-id="d08fa-121">In the root folder, create a web page named *Form.cshtml* and enter the following markup:</span></span>

    [!code-html[Main](4-working-with-forms/samples/sample1.html)]
3. <span data-ttu-id="d08fa-122">Avviare la pagina nel browser.</span><span class="sxs-lookup"><span data-stu-id="d08fa-122">Launch the page in your browser.</span></span> <span data-ttu-id="d08fa-123">(In WebMatrix, nel **file** area di lavoro, il pulsante destro e quindi selezionare **Avvia nel browser**.) Un modulo semplice con tre campi di input e un **Invia** pulsante viene visualizzato.</span><span class="sxs-lookup"><span data-stu-id="d08fa-123">(In WebMatrix, in the **Files** workspace, right-click the file and then select **Launch in browser**.) A simple form with three input fields and a **Submit** button is displayed.</span></span>

    ![Schermata di un form con tre caselle di testo.](4-working-with-forms/_static/image1.jpg)

    <span data-ttu-id="d08fa-125">A questo punto, se si sceglie il **Invia** pulsante, non accade nulla.</span><span class="sxs-lookup"><span data-stu-id="d08fa-125">At this point, if you click the **Submit** button, nothing happens.</span></span> <span data-ttu-id="d08fa-126">Per rendere il modulo è utile, è necessario aggiungere il codice che verrà eseguito nel server.</span><span class="sxs-lookup"><span data-stu-id="d08fa-126">To make the form useful, you have to add some code that will run on the server.</span></span>

## <a name="reading-user-input-from-the-form"></a><span data-ttu-id="d08fa-127">Leggere l'Input dell'utente dal modulo</span><span class="sxs-lookup"><span data-stu-id="d08fa-127">Reading User Input from the Form</span></span>

<span data-ttu-id="d08fa-128">Per elaborare il form, Aggiungi il codice che legge i valori dei campi inviati ed esegue un'operazione con essi.</span><span class="sxs-lookup"><span data-stu-id="d08fa-128">To process the form, you add code that reads the submitted field values and does something with them.</span></span> <span data-ttu-id="d08fa-129">In questa procedura viene illustrato come leggere i campi e visualizzare l'input dell'utente della pagina.</span><span class="sxs-lookup"><span data-stu-id="d08fa-129">This procedure shows you how to read the fields and display the user input on the page.</span></span> <span data-ttu-id="d08fa-130">(In un'applicazione di produzione, generalmente si procede più interessanti con l'input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="d08fa-130">(In a production application, you generally do more interesting things with user input.</span></span> <span data-ttu-id="d08fa-131">L'utente eseguirà che nell'articolo sull'utilizzo di database.)</span><span class="sxs-lookup"><span data-stu-id="d08fa-131">You'll do that in the article about working with databases.)</span></span>

1. <span data-ttu-id="d08fa-132">Nella parte superiore del *Form.cshtml* file, immettere il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="d08fa-132">At the top of the *Form.cshtml* file, enter the following code:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample2.cshtml)]

    <span data-ttu-id="d08fa-133">Quando l'utente richiede innanzitutto la pagina, viene visualizzato solo il form vuoto.</span><span class="sxs-lookup"><span data-stu-id="d08fa-133">When the user first requests the page, only the empty form is displayed.</span></span> <span data-ttu-id="d08fa-134">L'utente (che sarà si) compila il modulo e quindi fa clic su **Invia**.</span><span class="sxs-lookup"><span data-stu-id="d08fa-134">The user (which will be you) fills in the form and then clicks **Submit**.</span></span> <span data-ttu-id="d08fa-135">In questo modo inviata (POST) all'input dell'utente al server.</span><span class="sxs-lookup"><span data-stu-id="d08fa-135">This submits (posts) the user input to the server.</span></span> <span data-ttu-id="d08fa-136">Per impostazione predefinita, la richiesta viene inviata alla stessa pagina (vale a dire, *Form.cshtml*).</span><span class="sxs-lookup"><span data-stu-id="d08fa-136">By default, the request goes to the same page (namely, *Form.cshtml*).</span></span>

    <span data-ttu-id="d08fa-137">Quando si invia la pagina questa volta, i valori immessi vengono visualizzati sopra la forma:</span><span class="sxs-lookup"><span data-stu-id="d08fa-137">When you submit the page this time, the values you entered are displayed just above the form:</span></span>

    ![Schermata che mostra i valori immessi visualizzati nella pagina.](4-working-with-forms/_static/image2.jpg)

    <span data-ttu-id="d08fa-139">Esaminare il codice per la pagina.</span><span class="sxs-lookup"><span data-stu-id="d08fa-139">Look at the code for the page.</span></span> <span data-ttu-id="d08fa-140">Utilizzare innanzitutto la `IsPost` metodo per determinare se viene inviata la pagina & #8212, vale a dire, se un utente ha selezionato il **Invia** pulsante.</span><span class="sxs-lookup"><span data-stu-id="d08fa-140">You first use the `IsPost` method to determine whether the page is being posted &#8212; that is, whether a user clicked the **Submit** button.</span></span> <span data-ttu-id="d08fa-141">Se questa è una richiesta post, `IsPost` restituisce true.</span><span class="sxs-lookup"><span data-stu-id="d08fa-141">If this is a post, `IsPost` returns true.</span></span> <span data-ttu-id="d08fa-142">Questo è il modo standard nelle pagine Web ASP.NET per determinare se si lavora con una richiesta iniziale (una richiesta GET) o un postback (una richiesta POST).</span><span class="sxs-lookup"><span data-stu-id="d08fa-142">This is the standard way in ASP.NET Web Pages to determine whether you're working with an initial request (a GET request) or a postback (a POST request).</span></span> <span data-ttu-id="d08fa-143">(Per ulteriori informazioni su GET e POST, vedere "HTTP GET e POST e l'istruzione IsPost Property" barra laterale in [Introduzione a ASP.NET Web Pages di programmazione utilizzando la sintassi Razor](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost).)</span><span class="sxs-lookup"><span data-stu-id="d08fa-143">(For more information about GET and POST, see the sidebar "HTTP GET and POST and the IsPost Property" in [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost).)</span></span>

    <span data-ttu-id="d08fa-144">Successivamente, si otterranno i valori che viene compilato dal `Request.Form` oggetto e inserirli in variabili per un momento successivo.</span><span class="sxs-lookup"><span data-stu-id="d08fa-144">Next, you get the values that the user filled in from the `Request.Form` object, and you put them in variables for later.</span></span> <span data-ttu-id="d08fa-145">Il `Request.Form` oggetto contiene tutti i valori che sono stati inviati con la pagina, ognuna identificata da una chiave.</span><span class="sxs-lookup"><span data-stu-id="d08fa-145">The `Request.Form` object contains all the values that were submitted with the page, each identified by a key.</span></span> <span data-ttu-id="d08fa-146">La chiave è l'equivalente di `name` attributo del campo del form che si desidera leggere.</span><span class="sxs-lookup"><span data-stu-id="d08fa-146">The key is the equivalent to the `name` attribute of the form field that you want to read.</span></span> <span data-ttu-id="d08fa-147">Ad esempio, per leggere il `companyname` campo (casella di testo), utilizzare `Request.Form["companyname"]`.</span><span class="sxs-lookup"><span data-stu-id="d08fa-147">For example, to read the `companyname` field (text box), you use `Request.Form["companyname"]`.</span></span>

    <span data-ttu-id="d08fa-148">I valori del form vengono archiviati nel `Request.Form` oggetti come stringhe.</span><span class="sxs-lookup"><span data-stu-id="d08fa-148">Form values are stored in the `Request.Form` object as strings.</span></span> <span data-ttu-id="d08fa-149">Pertanto, quando si lavora con un valore come numero o una data o un altro tipo, è necessario convertirlo da stringa al tipo.</span><span class="sxs-lookup"><span data-stu-id="d08fa-149">Therefore, when you have to work with a value as a number or a date or some other type, you have to convert it from a string to that type.</span></span> <span data-ttu-id="d08fa-150">Nell'esempio di `AsInt` metodo il `Request.Form` viene usata per convertire il valore del campo, che contiene un conteggio di dipendenti, i dipendenti in un intero.</span><span class="sxs-lookup"><span data-stu-id="d08fa-150">In the example, the `AsInt` method of the `Request.Form` is used to convert the value of the employees field (which contains an employee count) to an integer.</span></span>
2. <span data-ttu-id="d08fa-151">Avviare la pagina nel browser, compilare i campi del form e fare clic su **Invia**.</span><span class="sxs-lookup"><span data-stu-id="d08fa-151">Launch the page in your browser, fill in the form fields, and click **Submit**.</span></span> <span data-ttu-id="d08fa-152">La pagina Visualizza i valori immessi.</span><span class="sxs-lookup"><span data-stu-id="d08fa-152">The page displays the values you entered.</span></span>

> [!TIP] 
> 
> <a id="SB_HTMLEncoding"></a>
> ### <a name="html-encoding-for-appearance-and-security"></a><span data-ttu-id="d08fa-153">La codifica per la sicurezza e aspetto HTML</span><span class="sxs-lookup"><span data-stu-id="d08fa-153">HTML Encoding for Appearance and Security</span></span>
> 
> <span data-ttu-id="d08fa-154">HTML è speciale viene utilizzato per i caratteri, ad esempio `<`, `>`, e `&`.</span><span class="sxs-lookup"><span data-stu-id="d08fa-154">HTML has special uses for characters like `<`, `>`, and `&`.</span></span> <span data-ttu-id="d08fa-155">Se sono presenti questi caratteri speciali in cui non si previste, essi possono compromettere l'aspetto e le funzionalità della pagina web.</span><span class="sxs-lookup"><span data-stu-id="d08fa-155">If these special characters appear where they're not expected, they can ruin the appearance and functionality of your web page.</span></span> <span data-ttu-id="d08fa-156">Ad esempio, il browser interpreta il `<` caratteri (a meno che è seguito da uno spazio) come carattere iniziale di un elemento HTML, ad esempio `<b>` o `<input ...>`.</span><span class="sxs-lookup"><span data-stu-id="d08fa-156">For example, the browser interprets the `<` character (unless it's followed by a space) as the beginning of an HTML element, like `<b>` or `<input ...>`.</span></span> <span data-ttu-id="d08fa-157">Se il browser non riconosce l'elemento, ignora semplicemente la stringa che inizia con `<` nuovamente finché raggiunge un elemento che esso venga riconosciuto.</span><span class="sxs-lookup"><span data-stu-id="d08fa-157">If the browser doesn't recognize the element, it simply discards the string that begins with `<` until it reaches something that it again recognizes.</span></span> <span data-ttu-id="d08fa-158">Ovviamente, questo può comportare alcuni strano per il rendering della pagina.</span><span class="sxs-lookup"><span data-stu-id="d08fa-158">Obviously, this can result in some weird rendering in the page.</span></span>
> 
> <span data-ttu-id="d08fa-159">La codifica HTML sostituisce questi caratteri riservati con un codice di browser di interpretare come simbolo corretto.</span><span class="sxs-lookup"><span data-stu-id="d08fa-159">HTML encoding replaces these reserved characters with a code that browsers interpret as the correct symbol.</span></span> <span data-ttu-id="d08fa-160">Ad esempio, il `<` viene sostituito con `&lt;` e `>` viene sostituito con `&gt;`.</span><span class="sxs-lookup"><span data-stu-id="d08fa-160">For example, the `<` character is replaced with `&lt;` and the `>` character is replaced with `&gt;`.</span></span> <span data-ttu-id="d08fa-161">Il browser esegue il rendering di queste stringhe di sostituzione come i caratteri che si desidera visualizzare.</span><span class="sxs-lookup"><span data-stu-id="d08fa-161">The browser renders these replacement strings as the characters that you want to see.</span></span>
> 
> <span data-ttu-id="d08fa-162">È consigliabile utilizzare ogni volta che si visualizzare stringhe codificate in formato HTML (input) che è stato creato da un utente.</span><span class="sxs-lookup"><span data-stu-id="d08fa-162">It's a good idea to use HTML encoding any time you display strings (input) that you got from a user.</span></span> <span data-ttu-id="d08fa-163">In caso contrario, un utente può provare a ottenere la pagina web per eseguire uno script dannoso o altre operazioni che compromette la sicurezza del sito o che non si desidera.</span><span class="sxs-lookup"><span data-stu-id="d08fa-163">If you don't, a user can try to get your web page to run a malicious script or do something else that compromises your site security or that's just not what you intend.</span></span> <span data-ttu-id="d08fa-164">(Ciò è particolarmente importante se accettano input dell'utente archiviare identificabile e visualizzare in un secondo momento &#8212; ad esempio, come un commento di blog, utente esaminare, o che qualcosa di simile).</span><span class="sxs-lookup"><span data-stu-id="d08fa-164">(This is particularly important if you take user input, store it someplace, and then display it later &#8212; for example, as a blog comment, user review, or something like that.)</span></span>
> 
> <span data-ttu-id="d08fa-165">Per evitare questi problemi, ASP.NET Web Pages automaticamente codifica in HTML qualsiasi testo contenuto che si output dal codice.</span><span class="sxs-lookup"><span data-stu-id="d08fa-165">To help prevent these problems, ASP.NET Web Pages automatically HTML-encodes any text content that you output from your code.</span></span> <span data-ttu-id="d08fa-166">Ad esempio, quando si visualizza il contenuto di una variabile o un'espressione che utilizza, ad esempio di codice `@MyVar`, ASP.NET Web Pages codifica automaticamente l'output.</span><span class="sxs-lookup"><span data-stu-id="d08fa-166">For example, when you display the content of a variable or an expression using code such as `@MyVar`, ASP.NET Web Pages automatically encodes the output.</span></span>


## <a name="validating-user-input"></a><span data-ttu-id="d08fa-167">Convalida dell'Input utente</span><span class="sxs-lookup"><span data-stu-id="d08fa-167">Validating User Input</span></span>

<span data-ttu-id="d08fa-168">Gli utenti commettono errori.</span><span class="sxs-lookup"><span data-stu-id="d08fa-168">Users make mistakes.</span></span> <span data-ttu-id="d08fa-169">Chiedere di riempimento in un campo e ne dimenticassero, o si chiedere loro di immettere il numero di dipendenti e quindi digitare un nome invece.</span><span class="sxs-lookup"><span data-stu-id="d08fa-169">You ask them to fill in a field, and they forget to, or you ask them to enter the number of employees and they type a name instead.</span></span> <span data-ttu-id="d08fa-170">Per assicurarsi che un modulo è stato compilato correttamente prima elaborarlo, convalidare l'input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="d08fa-170">To make sure that a form has been filled in correctly before you process it, you validate the user's input.</span></span>

<span data-ttu-id="d08fa-171">Questa procedura viene illustrato come convalidare tutti i campi di tre form per assicurarsi che l'utente non lascia il campo vuoto.</span><span class="sxs-lookup"><span data-stu-id="d08fa-171">This procedure shows how to validate all three form fields to make sure the user didn't leave them blank.</span></span> <span data-ttu-id="d08fa-172">È inoltre possibile verificare che il valore del conteggio dipendente è un numero.</span><span class="sxs-lookup"><span data-stu-id="d08fa-172">You also check that the employee count value is a number.</span></span> <span data-ttu-id="d08fa-173">Se sono presenti errori, si verrà visualizzato un errore messaggio che indica all'utente i valori non superare la convalida.</span><span class="sxs-lookup"><span data-stu-id="d08fa-173">If there are errors, you'll display an error message that tells the user what values didn't pass validation.</span></span>

1. <span data-ttu-id="d08fa-174">Nel *Form.cshtml* file, sostituire il primo blocco di codice con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="d08fa-174">In the *Form.cshtml* file, replace the first block of code with the following code:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample3.cshtml)]

    <span data-ttu-id="d08fa-175">Per convalidare l'input dell'utente, utilizzare il `Validation` helper.</span><span class="sxs-lookup"><span data-stu-id="d08fa-175">To validate user input, you use the `Validation` helper.</span></span> <span data-ttu-id="d08fa-176">Registrare i campi obbligatori chiamando `Validation.RequireField`.</span><span class="sxs-lookup"><span data-stu-id="d08fa-176">You register required fields by calling `Validation.RequireField`.</span></span> <span data-ttu-id="d08fa-177">Registrare altri tipi di convalida chiamando `Validation.Add` e specificando il campo da convalidare e il tipo di convalida da eseguire.</span><span class="sxs-lookup"><span data-stu-id="d08fa-177">You register other types of validation by calling `Validation.Add` and specifying the field to validate and the type of validation to perform.</span></span>

    <span data-ttu-id="d08fa-178">Quando la pagina viene eseguita, ASP.NET esegue tutti la convalida per l'utente.</span><span class="sxs-lookup"><span data-stu-id="d08fa-178">When the page runs, ASP.NET does all the validation for you.</span></span> <span data-ttu-id="d08fa-179">È possibile controllare i risultati chiamando `Validation.IsValid`, che restituisce true se tutti gli elementi passati e false se qualsiasi campo non è riuscita la convalida.</span><span class="sxs-lookup"><span data-stu-id="d08fa-179">You can check the results by calling `Validation.IsValid`, which returns true if everything passed and false if any field failed validation.</span></span> <span data-ttu-id="d08fa-180">In genere, la chiamata `Validation.IsValid` prima di eseguire qualsiasi elaborazione in input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="d08fa-180">Typically, you call `Validation.IsValid` before you perform any processing on the user input.</span></span>
2. <span data-ttu-id="d08fa-181">Aggiornamento di `<body>` elemento tramite l'aggiunta di tre chiamate al `Html.ValidationMessage` metodo, simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="d08fa-181">Update the `<body>` element by adding three calls to the `Html.ValidationMessage` method, like this:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample4.cshtml?highlight=8,13,18)]

    <span data-ttu-id="d08fa-182">Per visualizzare i messaggi di errore di convalida, è possibile chiamare Html.`ValidationMessage`</span><span class="sxs-lookup"><span data-stu-id="d08fa-182">To display validation error messages, you can call Html.`ValidationMessage`</span></span> <span data-ttu-id="d08fa-183">e passa il nome del campo che si desidera che il messaggio per.</span><span class="sxs-lookup"><span data-stu-id="d08fa-183">and pass it the name of the field that you want the message for.</span></span>
3. <span data-ttu-id="d08fa-184">Eseguire la pagina.</span><span class="sxs-lookup"><span data-stu-id="d08fa-184">Run the page.</span></span> <span data-ttu-id="d08fa-185">Lasciare vuoti i campi e fare clic su **Invia**.</span><span class="sxs-lookup"><span data-stu-id="d08fa-185">Leave the fields blank and click **Submit**.</span></span> <span data-ttu-id="d08fa-186">Vengono visualizzati messaggi di errore.</span><span class="sxs-lookup"><span data-stu-id="d08fa-186">You see error messages.</span></span>

    ![Schermata che mostra i messaggi di errore visualizzati se l'input dell'utente non supera la convalida.](4-working-with-forms/_static/image3.jpg)
4. <span data-ttu-id="d08fa-188">Aggiungere una stringa (ad esempio, "ABC") per il **Employee Count** campo e fare clic su **Invia** nuovamente.</span><span class="sxs-lookup"><span data-stu-id="d08fa-188">Add a string (for example, "ABC") to the **Employee Count** field and click **Submit** again.</span></span> <span data-ttu-id="d08fa-189">Questa volta che viene visualizzato un errore che indica che la stringa non è nel formato corretto, vale a dire, un numero intero.</span><span class="sxs-lookup"><span data-stu-id="d08fa-189">This time you see an error that indicates that the string isn't in the right format, namely, an integer.</span></span>

    ![Schermata che mostra i messaggi di errore visualizzati se gli utenti immettere una stringa per il campo di dipendenti.](4-working-with-forms/_static/image4.jpg)

<span data-ttu-id="d08fa-191">Le pagine Web ASP.NET fornisce più opzioni per la convalida dell'input utente, inclusa la possibilità di eseguire automaticamente la convalida utilizzando lo script client, in modo che gli utenti di ottenere un feedback immediato nel browser.</span><span class="sxs-lookup"><span data-stu-id="d08fa-191">ASP.NET Web Pages provides more options for validating user input, including the ability to automatically perform validation using client script, so that users get immediate feedback in the browser.</span></span> <span data-ttu-id="d08fa-192">Vedere il [risorse aggiuntive](#Additional_Resources) sezione in un secondo momento per ulteriori informazioni.</span><span class="sxs-lookup"><span data-stu-id="d08fa-192">See the [Additional Resources](#Additional_Resources) section later for more information.</span></span>

## <a name="restoring-form-values-after-postbacks"></a><span data-ttu-id="d08fa-193">Ripristinare i valori del Form dopo il postback</span><span class="sxs-lookup"><span data-stu-id="d08fa-193">Restoring Form Values After Postbacks</span></span>

<span data-ttu-id="d08fa-194">Quando il test della pagina nella sezione precedente, è possibile notare che se si verifica un errore di convalida, immesse (non solo i dati non validi) è stato eliminato ed era necessario immettere nuovamente i valori per tutti i campi.</span><span class="sxs-lookup"><span data-stu-id="d08fa-194">When you tested the page in the previous section, you might have noticed that if you had a validation error, everything you entered (not just the invalid data) was gone, and you had to re-enter values for all the fields.</span></span> <span data-ttu-id="d08fa-195">Nell'esempio viene illustrato un punto importante: quando si invia una pagina, elaborarlo e quindi di eseguire il rendering della pagina, la pagina è stato nuovamente creata da zero.</span><span class="sxs-lookup"><span data-stu-id="d08fa-195">This illustrates an important point: when you submit a page, process it, and then render the page again, the page is re-created from scratch.</span></span> <span data-ttu-id="d08fa-196">Come si è visto, ciò significa che tutti i valori presenti nella pagina quando è stato inviato andranno persi.</span><span class="sxs-lookup"><span data-stu-id="d08fa-196">As you saw, this means that any values that were in the page when it was submitted are lost.</span></span>

<span data-ttu-id="d08fa-197">È possibile risolvere il problema facilmente, tuttavia.</span><span class="sxs-lookup"><span data-stu-id="d08fa-197">You can fix this easily, however.</span></span> <span data-ttu-id="d08fa-198">Si ha accesso ai valori che sono stati inviati (nel `Request.Form` dell'oggetto, pertanto è possibile inserire tali valori nei campi modulo quando viene eseguito il rendering della pagina.</span><span class="sxs-lookup"><span data-stu-id="d08fa-198">You have access to the values that were submitted (in the `Request.Form` object, so you can fill those values back into the form fields when the page is rendered.</span></span>

1. <span data-ttu-id="d08fa-199">Nel *Form.cshtml* file, sostituire il `value` gli attributi del `<input>` elementi utilizzando il `value` attributo.:</span><span class="sxs-lookup"><span data-stu-id="d08fa-199">In the *Form.cshtml* file, replace the `value` attributes of the `<input>` elements using the `value` attribute.:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample5.cshtml?highlight=13,19,25)]

    <span data-ttu-id="d08fa-200">Il `value` attributo del `<input>` elementi è stata impostata in modo dinamico, leggere il valore del campo da di `Request.Form` oggetto.</span><span class="sxs-lookup"><span data-stu-id="d08fa-200">The `value` attribute of the `<input>` elements has been set to dynamically read the field value out of the `Request.Form` object.</span></span> <span data-ttu-id="d08fa-201">La prima volta che viene richiesta la pagina, i valori di `Request.Form` oggetto siano vuoti.</span><span class="sxs-lookup"><span data-stu-id="d08fa-201">The first time that the page is requested, the values in the `Request.Form` object are all empty.</span></span> <span data-ttu-id="d08fa-202">L'operazione è corretta, perché in questo modo il modulo è vuoto.</span><span class="sxs-lookup"><span data-stu-id="d08fa-202">This is fine, because that way the form is blank.</span></span>
2. <span data-ttu-id="d08fa-203">Avviare la pagina nel browser, compilare i campi modulo o lasciare il campo vuoto e fare clic su **Invia**.</span><span class="sxs-lookup"><span data-stu-id="d08fa-203">Launch the page in your browser, fill in the form fields or leave them blank, and click **Submit**.</span></span> <span data-ttu-id="d08fa-204">Viene visualizzata una pagina che mostra i valori inviati.</span><span class="sxs-lookup"><span data-stu-id="d08fa-204">A page that shows the submitted values is displayed.</span></span>

    ![Form 5](4-working-with-forms/_static/image5.jpg)

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="d08fa-206">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="d08fa-206">Additional Resources</span></span>

- [<span data-ttu-id="d08fa-207">1.001 modi per ottenere l'Input dagli utenti Web</span><span class="sxs-lookup"><span data-stu-id="d08fa-207">1,001 Ways to Get Input from Web Users</span></span>](https://msdn.microsoft.com/en-us/library/ms971057.aspx)
- <span data-ttu-id="d08fa-208">[Utilizzo di form e l'elaborazione dell'Input dell'utente](https://msdn.microsoft.com/en-us/library/ms525182(VS.90).aspx)</span><span class="sxs-lookup"><span data-stu-id="d08fa-208">[Using Forms and Processing User Input](https://msdn.microsoft.com/en-us/library/ms525182(VS.90).aspx)</span></span>
- [<span data-ttu-id="d08fa-209">Convalida dell'Input utente nei siti di pagine Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="d08fa-209">Validating User Input in ASP.NET Web Pages Sites</span></span>](https://go.microsoft.com/fwlink/?LinkId=253002)
- <span data-ttu-id="d08fa-210">[Utilizzo di completamento automatico nei form HTML](https://msdn.microsoft.com/en-us/library/ms533032(VS.85).aspx)</span><span class="sxs-lookup"><span data-stu-id="d08fa-210">[Using AutoComplete in HTML Forms](https://msdn.microsoft.com/en-us/library/ms533032(VS.85).aspx)</span></span>
