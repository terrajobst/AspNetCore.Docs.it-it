---
uid: mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb
title: Creare un'applicazione di Database film in 15 minuti con MVC ASP.NET (VB) | Documenti Microsoft
author: StephenWalther
description: "Stephen Walther compila un'intera basato su database applicazione MVC ASP.NET dall'inizio completamento. In questa esercitazione è un ottimo inizio per gli utenti che sono nuovi t..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/27/2009
ms.topic: article
ms.assetid: e4ba9786-734c-4eb3-91bb-089793325d0d
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb
msc.type: authoredcontent
ms.openlocfilehash: 4dbb3804bbb0ccb80506a592f1efb585c5748c2f
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/10/2017
---
<a name="create-a-movie-database-application-in-15-minutes-with-aspnet-mvc-vb"></a><span data-ttu-id="38a8c-104">Creare un'applicazione di Database film in 15 minuti con MVC ASP.NET (VB)</span><span class="sxs-lookup"><span data-stu-id="38a8c-104">Create a Movie Database Application in 15 Minutes with ASP.NET MVC (VB)</span></span>
====================
<span data-ttu-id="38a8c-105">da [Stephen Walther](https://github.com/StephenWalther)</span><span class="sxs-lookup"><span data-stu-id="38a8c-105">by [Stephen Walther](https://github.com/StephenWalther)</span></span>

[<span data-ttu-id="38a8c-106">Scaricare il codice</span><span class="sxs-lookup"><span data-stu-id="38a8c-106">Download Code</span></span>](http://download.microsoft.com/download/7/2/8/728F8794-E59A-4D18-9A56-7AD2DB05BD9D/MovieApp_VB.zip)

> <span data-ttu-id="38a8c-107">Stephen Walther compila un'intera basato su database applicazione MVC ASP.NET dall'inizio completamento.</span><span class="sxs-lookup"><span data-stu-id="38a8c-107">Stephen Walther builds an entire database-driven ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="38a8c-108">In questa esercitazione è un ottimo inizio per gli utenti che hanno familiarità con Framework di MVC ASP.NET e che desiderano avere un'idea del processo di compilazione di un'applicazione ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="38a8c-108">This tutorial is a great introduction for people who are new to the ASP.NET MVC Framework and who want to get a sense of the process of building an ASP.NET MVC application.</span></span>


<span data-ttu-id="38a8c-109">Lo scopo di questa esercitazione consiste nell'avere un'idea di "che cos'è ad esempio" per compilare un'applicazione ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="38a8c-109">The purpose of this tutorial is to give you a sense of "what it is like" to build an ASP.NET MVC application.</span></span> <span data-ttu-id="38a8c-110">In questa esercitazione avviare la creazione di un'intera applicazione MVC ASP.NET dall'inizio completamento.</span><span class="sxs-lookup"><span data-stu-id="38a8c-110">In this tutorial, I blast through building an entire ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="38a8c-111">Illustrano come compilare un'applicazione semplice basata su database che illustra come è possibile elencare, creare e modificare i record del database.</span><span class="sxs-lookup"><span data-stu-id="38a8c-111">I show you how to build a simple database-driven application that illustrates how you can list, create, and edit database records.</span></span>

<span data-ttu-id="38a8c-112">Per semplificare il processo di compilazione dell'applicazione, l'utente verrà reindirizzato a sfruttare le funzionalità di scaffolding di Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="38a8c-112">To simplify the process of building our application, we'll take advantage of the scaffolding features of Visual Studio 2008.</span></span> <span data-ttu-id="38a8c-113">Invieremo Visual Studio genera il codice iniziale e il contenuto per il controller, modelli e visualizzazioni.</span><span class="sxs-lookup"><span data-stu-id="38a8c-113">We'll let Visual Studio generate the initial code and content for our controllers, models, and views.</span></span>

<span data-ttu-id="38a8c-114">Ha familiarità con le pagine ASP o ASP.NET, quindi è necessario trovare ASP.NET MVC molto familiare.</span><span class="sxs-lookup"><span data-stu-id="38a8c-114">If you have worked with Active Server Pages or ASP.NET, then you should find ASP.NET MVC very familiar.</span></span> <span data-ttu-id="38a8c-115">Le visualizzazioni ASP.NET MVC sono molto simile a quello di pagine in un'applicazione Active Server Pages.</span><span class="sxs-lookup"><span data-stu-id="38a8c-115">ASP.NET MVC views are very much like the pages in an Active Server Pages application.</span></span> <span data-ttu-id="38a8c-116">E, analogamente a un'applicazione Web Form ASP.NET tradizionale, ASP.NET MVC fornisce l'accesso completo alla vasta gamma di linguaggi e le classi fornite da .NET framework.</span><span class="sxs-lookup"><span data-stu-id="38a8c-116">And, just like a traditional ASP.NET Web Forms application, ASP.NET MVC provides you with full access to the rich set of languages and classes provided by the .NET framework.</span></span>

<span data-ttu-id="38a8c-117">Spero è che in questa esercitazione verrà avere un'idea di come l'esperienza di creazione di un'applicazione ASP.NET MVC è diverso da quello di compilazione di un'applicazione Active Server Pages o Web Form ASP.NET e simili.</span><span class="sxs-lookup"><span data-stu-id="38a8c-117">My hope is that this tutorial will give you a sense of how the experience of building an ASP.NET MVC application is both similar and different than the experience of building an Active Server Pages or ASP.NET Web Forms application.</span></span>

## <a name="overview-of-the-movie-database-application"></a><span data-ttu-id="38a8c-118">Panoramica dell'applicazione di Database film</span><span class="sxs-lookup"><span data-stu-id="38a8c-118">Overview of the Movie Database Application</span></span>

<span data-ttu-id="38a8c-119">Poiché l'obiettivo è semplificare le operazioni, verrà creata un'applicazione di film Database molto semplice.</span><span class="sxs-lookup"><span data-stu-id="38a8c-119">Because our goal is to keep things simple, we'll build a very simple Movie Database application.</span></span> <span data-ttu-id="38a8c-120">Questa semplice applicazione di Database di film permetterà di eseguire tre operazioni:</span><span class="sxs-lookup"><span data-stu-id="38a8c-120">Our simple Movie Database application will allow us to do three things:</span></span>

1. <span data-ttu-id="38a8c-121">Elenco di un set di record del database film</span><span class="sxs-lookup"><span data-stu-id="38a8c-121">List a set of movie database records</span></span>
2. <span data-ttu-id="38a8c-122">Creare un nuovo record di database di film</span><span class="sxs-lookup"><span data-stu-id="38a8c-122">Create a new movie database record</span></span>
3. <span data-ttu-id="38a8c-123">Modificare un record di database esistente del film</span><span class="sxs-lookup"><span data-stu-id="38a8c-123">Edit an existing movie database record</span></span>

<span data-ttu-id="38a8c-124">Nuovamente, poiché si desidera semplificare le operazioni, l'utente verrà reindirizzato sfruttare il numero minimo di funzionalità del framework ASP.NET MVC necessari per compilare l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="38a8c-124">Again, because we want to keep things simple, we'll take advantage of the minimum number of features of the ASP.NET MVC framework needed to build our application.</span></span> <span data-ttu-id="38a8c-125">Ad esempio, è non possibile sfruttare lo sviluppo.</span><span class="sxs-lookup"><span data-stu-id="38a8c-125">For example, we won't be taking advantage of Test-Driven Development.</span></span>

<span data-ttu-id="38a8c-126">Per creare l'applicazione, è necessario completare i passaggi seguenti:</span><span class="sxs-lookup"><span data-stu-id="38a8c-126">In order to create our application, we need to complete each of the following steps:</span></span>

1. <span data-ttu-id="38a8c-127">Creare il progetto di applicazione Web ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="38a8c-127">Create the ASP.NET MVC Web Application Project</span></span>
2. <span data-ttu-id="38a8c-128">Creare il database</span><span class="sxs-lookup"><span data-stu-id="38a8c-128">Create the database</span></span>
3. <span data-ttu-id="38a8c-129">Creare il modello di database</span><span class="sxs-lookup"><span data-stu-id="38a8c-129">Create the database model</span></span>
4. <span data-ttu-id="38a8c-130">Creare il controller MVC ASP.NET</span><span class="sxs-lookup"><span data-stu-id="38a8c-130">Create the ASP.NET MVC controller</span></span>
5. <span data-ttu-id="38a8c-131">Creazione di visualizzazioni MVC ASP.NET</span><span class="sxs-lookup"><span data-stu-id="38a8c-131">Create the ASP.NET MVC views</span></span>

## <a name="preliminaries"></a><span data-ttu-id="38a8c-132">Operazioni preliminari</span><span class="sxs-lookup"><span data-stu-id="38a8c-132">Preliminaries</span></span>

<span data-ttu-id="38a8c-133">È necessario Visual Studio 2008 o Visual Web Developer 2008 Express per compilare un'applicazione ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="38a8c-133">You'll need either Visual Studio 2008 or Visual Web Developer 2008 Express to build an ASP.NET MVC application.</span></span> <span data-ttu-id="38a8c-134">È inoltre necessario scaricare il framework di MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="38a8c-134">You also need to download the ASP.NET MVC framework.</span></span>

<span data-ttu-id="38a8c-135">Se non si dispone di Visual Studio 2008, è possibile scaricare una versione di valutazione di 90 giorni di Visual Studio 2008 da un sito Web:</span><span class="sxs-lookup"><span data-stu-id="38a8c-135">If you don't own Visual Studio 2008, then you can download a 90 day trial version of Visual Studio 2008 from this website:</span></span>

[<span data-ttu-id="38a8c-136">https://msdn.microsoft.com/en-us/VS2008/Products/cc268305.aspx</span><span class="sxs-lookup"><span data-stu-id="38a8c-136">https://msdn.microsoft.com/en-us/vs2008/products/cc268305.aspx</span></span>](https://msdn.microsoft.com/en-us/vs2008/products/cc268305.aspx)

<span data-ttu-id="38a8c-137">In alternativa, è possibile creare ASP.NET MVC applicazioni con Visual Web Developer Express 2008.</span><span class="sxs-lookup"><span data-stu-id="38a8c-137">Alternatively, you can create ASP.NET MVC applications with Visual Web Developer Express 2008.</span></span> <span data-ttu-id="38a8c-138">Se si decide di utilizzare Visual Web Developer Express è necessario Service Pack 1 installato.</span><span class="sxs-lookup"><span data-stu-id="38a8c-138">If you decide to use Visual Web Developer Express then you must have Service Pack 1 installed.</span></span> <span data-ttu-id="38a8c-139">È possibile scaricare Visual Web Developer 2008 Express con Service Pack 1 da un sito Web:</span><span class="sxs-lookup"><span data-stu-id="38a8c-139">You can download Visual Web Developer 2008 Express with Service Pack 1 from this website:</span></span>

[<span data-ttu-id="38a8c-140">https://www.microsoft.com/downloads/details.aspx?FamilyID=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang = en</span><span class="sxs-lookup"><span data-stu-id="38a8c-140">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en)

<span data-ttu-id="38a8c-141">Dopo aver installato Visual Studio 2008 o Visual Web Developer 2008, è necessario installare il framework di MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="38a8c-141">After you install either Visual Studio 2008 or Visual Web Developer 2008, you need to install the ASP.NET MVC framework.</span></span> <span data-ttu-id="38a8c-142">Il framework di MVC ASP.NET è possibile scaricare dal sito Web seguente:</span><span class="sxs-lookup"><span data-stu-id="38a8c-142">You can download the ASP.NET MVC framework from the following website:</span></span>

[<span data-ttu-id="38a8c-143">https://www.ASP.NET/MVC/</span><span class="sxs-lookup"><span data-stu-id="38a8c-143">https://www.asp.net/mvc/</span></span>](../../../index.md)

> [!NOTE] 
> 
> <span data-ttu-id="38a8c-144">Anziché essere scaricato singolarmente il framework ASP.NET e framework di MVC ASP.NET, è possibile sfruttare l'installazione guidata piattaforma Web.</span><span class="sxs-lookup"><span data-stu-id="38a8c-144">Instead of downloading the ASP.NET framework and the ASP.NET MVC framework individually, you can take advantage of the Web Platform Installer.</span></span> <span data-ttu-id="38a8c-145">L'installazione guidata piattaforma Web è un'applicazione che consente di gestire facilmente le applicazioni installate nel computer:</span><span class="sxs-lookup"><span data-stu-id="38a8c-145">The Web Platform Installer is an application that enables you to easily manage the installed applications are your computer:</span></span>
> 
> [<span data-ttu-id="38a8c-146">https://www.microsoft.com/Web/Gallery/Install.aspx</span><span class="sxs-lookup"><span data-stu-id="38a8c-146">https://www.microsoft.com/web/gallery/Install.aspx</span></span>](https://www.microsoft.com/web/gallery/Install.aspx)


## <a name="creating-an-aspnet-mvc-web-application-project"></a><span data-ttu-id="38a8c-147">Creazione di un progetto di applicazione Web ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="38a8c-147">Creating an ASP.NET MVC Web Application Project</span></span>

<span data-ttu-id="38a8c-148">Iniziamo creando un nuovo progetto applicazione Web ASP.NET MVC in Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="38a8c-148">Let's start by creating a new ASP.NET MVC Web Application project in Visual Studio 2008.</span></span> <span data-ttu-id="38a8c-149">Selezionare l'opzione di menu **File, nuovo progetto** per visualizzare la finestra di dialogo Nuovo progetto nella figura 1.</span><span class="sxs-lookup"><span data-stu-id="38a8c-149">Select the menu option **File, New Project** and you will see the New Project dialog box in Figure 1.</span></span> <span data-ttu-id="38a8c-150">Selezionare Visual Basic come linguaggio di programmazione e selezionare il modello di progetto applicazione Web ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="38a8c-150">Select Visual Basic as the programming language and select the ASP.NET MVC Web Application project template.</span></span> <span data-ttu-id="38a8c-151">Assegnare al progetto il nome MovieApp e fare clic sul pulsante OK.</span><span class="sxs-lookup"><span data-stu-id="38a8c-151">Give your project the name MovieApp and click the OK button.</span></span>


<span data-ttu-id="38a8c-152">[![La finestra di dialogo Nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="38a8c-152">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.png)</span></span>

<span data-ttu-id="38a8c-153">**Figura 01**: la finestra di dialogo Nuovo progetto il ([fare clic per visualizzare l'immagine ingrandita](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="38a8c-153">**Figure 01**: The New Project dialog box ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.png))</span></span>


<span data-ttu-id="38a8c-154">Assicurarsi di selezionare .NET Framework 3.5 nell'elenco a discesa nella parte superiore della finestra di dialogo Nuovo progetto o il modello di progetto applicazione Web MVC ASP.NET non sarà più visualizzato.</span><span class="sxs-lookup"><span data-stu-id="38a8c-154">Make sure that you select .NET Framework 3.5 from the dropdown list at the top of the New Project dialog or the ASP.NET MVC Web Application project template won't appear.</span></span>


<span data-ttu-id="38a8c-155">Quando si crea un nuovo progetto applicazione Web MVC, Visual Studio viene richiesto di creare un progetto di test unità separata.</span><span class="sxs-lookup"><span data-stu-id="38a8c-155">Whenever you create a new MVC Web Application project, Visual Studio prompts you to create a separate unit test project.</span></span> <span data-ttu-id="38a8c-156">Verrà visualizzata la finestra di dialogo nella figura 2.</span><span class="sxs-lookup"><span data-stu-id="38a8c-156">The dialog in Figure 2 appears.</span></span> <span data-ttu-id="38a8c-157">Perché è non essere la creazione di test in questa esercitazione a causa dei limiti di tempo (e, Sì, dovremmo riteniamo leggermente su questo può accadere) selezionare il **n** opzione e fare clic su di **OK** pulsante.</span><span class="sxs-lookup"><span data-stu-id="38a8c-157">Because we won't be creating tests in this tutorial because of time constraints (and, yes, we should feel a little guilty about this) select the **No** option and click the **OK** button.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="38a8c-158">Visual Web Developer non supporta i progetti di test.</span><span class="sxs-lookup"><span data-stu-id="38a8c-158">Visual Web Developer does not support test projects.</span></span>


<span data-ttu-id="38a8c-159">[![La finestra di dialogo Nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="38a8c-159">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.png)</span></span>

<span data-ttu-id="38a8c-160">**Figura 02**: finestra di dialogo di creazione progetto Unit Test ([fare clic per visualizzare l'immagine ingrandita](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="38a8c-160">**Figure 02**: The Create Unit Test Project dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.png))</span></span>


<span data-ttu-id="38a8c-161">Un'applicazione MVC ASP.NET include un set standard di cartelle: una cartella di modelli, visualizzazioni e controller.</span><span class="sxs-lookup"><span data-stu-id="38a8c-161">An ASP.NET MVC application has a standard set of folders: a Models, Views, and Controllers folder.</span></span> <span data-ttu-id="38a8c-162">È possibile visualizzare questo set standard di cartelle nella finestra Esplora soluzioni.</span><span class="sxs-lookup"><span data-stu-id="38a8c-162">You can see this standard set of folders in the Solution Explorer window.</span></span> <span data-ttu-id="38a8c-163">È necessario aggiungere i file per ciascuna delle cartelle di modelli, visualizzazioni e controller per compilare l'applicazione di Database di film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-163">We'll need to add files to each of the Models, Views, and Controllers folders in order to build our Movie Database application.</span></span>

<span data-ttu-id="38a8c-164">Quando si crea una nuova applicazione MVC con Visual Studio, si ottiene un'applicazione di esempio.</span><span class="sxs-lookup"><span data-stu-id="38a8c-164">When you create a new MVC application with Visual Studio, you get a sample application.</span></span> <span data-ttu-id="38a8c-165">Poiché si desidera iniziare da zero, è necessario eliminare il contenuto per questa applicazione di esempio.</span><span class="sxs-lookup"><span data-stu-id="38a8c-165">Because we want to start from scratch, we need to delete the content for this sample application.</span></span> <span data-ttu-id="38a8c-166">È necessario eliminare il file seguente e la cartella seguente:</span><span class="sxs-lookup"><span data-stu-id="38a8c-166">You need to delete the following file and the following folder:</span></span>

- <span data-ttu-id="38a8c-167">Controllers\HomeController.vb</span><span class="sxs-lookup"><span data-stu-id="38a8c-167">Controllers\HomeController.vb</span></span>
- <span data-ttu-id="38a8c-168">Views\Home</span><span class="sxs-lookup"><span data-stu-id="38a8c-168">Views\Home</span></span>

## <a name="creating-the-database"></a><span data-ttu-id="38a8c-169">Creazione del Database</span><span class="sxs-lookup"><span data-stu-id="38a8c-169">Creating the Database</span></span>

<span data-ttu-id="38a8c-170">È necessario creare un database per contenere il record del database film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-170">We need to create a database to hold our movie database records.</span></span> <span data-ttu-id="38a8c-171">Per fortuna, Visual Studio include un database gratuito denominato SQL Server Express.</span><span class="sxs-lookup"><span data-stu-id="38a8c-171">Luckily, Visual Studio includes a free database named SQL Server Express.</span></span> <span data-ttu-id="38a8c-172">Seguire questi passaggi per creare il database:</span><span class="sxs-lookup"><span data-stu-id="38a8c-172">Follow these steps to create the database:</span></span>

1. <span data-ttu-id="38a8c-173">Fare doppio clic su App\_cartella di dati nella finestra Esplora soluzioni e selezionare l'opzione di menu **Aggiungi, elemento nuovo**.</span><span class="sxs-lookup"><span data-stu-id="38a8c-173">Right-click the App\_Data folder in the Solution Explorer window and select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="38a8c-174">Selezionare il **dati** categoria e selezionare il **Database di SQL Server** modello (vedere la figura 3).</span><span class="sxs-lookup"><span data-stu-id="38a8c-174">Select the **Data** category and select the **SQL Server Database** template (see Figure 3).</span></span>
3. <span data-ttu-id="38a8c-175">Nome del nuovo database *MoviesDB.mdf* e fare clic su di **Aggiungi** pulsante.</span><span class="sxs-lookup"><span data-stu-id="38a8c-175">Name your new database *MoviesDB.mdf* and click the **Add** button.</span></span>

<span data-ttu-id="38a8c-176">Dopo aver creato il database, è possibile connettersi al database facendo doppio clic sul file di MoviesDB.mdf situato nell'App\_cartella dati.</span><span class="sxs-lookup"><span data-stu-id="38a8c-176">After you create your database, you can connect to the database by double-clicking the MoviesDB.mdf file located in the App\_Data folder.</span></span> <span data-ttu-id="38a8c-177">Doppio clic sul file MoviesDB.mdf apre la finestra di Esplora Server.</span><span class="sxs-lookup"><span data-stu-id="38a8c-177">Double-clicking the MoviesDB.mdf file opens the Server Explorer window.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="38a8c-178">La finestra di Esplora Server è denominata la finestra Esplora Database nel caso di Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="38a8c-178">The Server Explorer window is named the Database Explorer window in the case of Visual Web Developer.</span></span>


<span data-ttu-id="38a8c-179">[![La finestra di dialogo Nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="38a8c-179">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.png)</span></span>

<span data-ttu-id="38a8c-180">**Figura 03**: creazione di un Database di Microsoft SQL Server ([fare clic per visualizzare l'immagine ingrandita](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="38a8c-180">**Figure 03**: Creating a Microsoft SQL Server Database ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.png))</span></span>


<span data-ttu-id="38a8c-181">Successivamente, è necessario creare una nuova tabella di database.</span><span class="sxs-lookup"><span data-stu-id="38a8c-181">Next, we need to create a new database table.</span></span> <span data-ttu-id="38a8c-182">All'interno della finestra di Esplora server, fare doppio clic sulla cartella tabelle e scegliere l'opzione di menu **Aggiungi nuova tabella**.</span><span class="sxs-lookup"><span data-stu-id="38a8c-182">From within the Sever Explorer window, right-click the Tables folder and select the menu option **Add New Table**.</span></span> <span data-ttu-id="38a8c-183">Selezionando questa opzione di menu, viene visualizzata la progettazione di tabelle di database.</span><span class="sxs-lookup"><span data-stu-id="38a8c-183">Selecting this menu option opens the database table designer.</span></span> <span data-ttu-id="38a8c-184">Creare le colonne di database seguenti:</span><span class="sxs-lookup"><span data-stu-id="38a8c-184">Create the following database columns:</span></span>

<a id="0.2_table01"></a>


| <span data-ttu-id="38a8c-185">**Nome colonna**</span><span class="sxs-lookup"><span data-stu-id="38a8c-185">**Column Name**</span></span> | <span data-ttu-id="38a8c-186">**Tipo di dati**</span><span class="sxs-lookup"><span data-stu-id="38a8c-186">**Data Type**</span></span> | <span data-ttu-id="38a8c-187">**Consenti valori null**</span><span class="sxs-lookup"><span data-stu-id="38a8c-187">**Allow Nulls**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="38a8c-188">Id</span><span class="sxs-lookup"><span data-stu-id="38a8c-188">Id</span></span> | <span data-ttu-id="38a8c-189">Int</span><span class="sxs-lookup"><span data-stu-id="38a8c-189">Int</span></span> | <span data-ttu-id="38a8c-190">False</span><span class="sxs-lookup"><span data-stu-id="38a8c-190">False</span></span> |
| <span data-ttu-id="38a8c-191">Titolo</span><span class="sxs-lookup"><span data-stu-id="38a8c-191">Title</span></span> | <span data-ttu-id="38a8c-192">Nvarchar (100)</span><span class="sxs-lookup"><span data-stu-id="38a8c-192">Nvarchar(100)</span></span> | <span data-ttu-id="38a8c-193">False</span><span class="sxs-lookup"><span data-stu-id="38a8c-193">False</span></span> |
| <span data-ttu-id="38a8c-194">Director</span><span class="sxs-lookup"><span data-stu-id="38a8c-194">Director</span></span> | <span data-ttu-id="38a8c-195">Nvarchar (100)</span><span class="sxs-lookup"><span data-stu-id="38a8c-195">Nvarchar(100)</span></span> | <span data-ttu-id="38a8c-196">False</span><span class="sxs-lookup"><span data-stu-id="38a8c-196">False</span></span> |
| <span data-ttu-id="38a8c-197">DateReleased</span><span class="sxs-lookup"><span data-stu-id="38a8c-197">DateReleased</span></span> | <span data-ttu-id="38a8c-198">DateTime</span><span class="sxs-lookup"><span data-stu-id="38a8c-198">DateTime</span></span> | <span data-ttu-id="38a8c-199">False</span><span class="sxs-lookup"><span data-stu-id="38a8c-199">False</span></span> |


<span data-ttu-id="38a8c-200">La prima colonna, la colonna Id, ha due proprietà speciali.</span><span class="sxs-lookup"><span data-stu-id="38a8c-200">The first column, the Id column, has two special properties.</span></span> <span data-ttu-id="38a8c-201">In primo luogo, è necessario contrassegnare la colonna Id come colonna chiave primaria.</span><span class="sxs-lookup"><span data-stu-id="38a8c-201">First, you need to mark the Id column as the primary key column.</span></span> <span data-ttu-id="38a8c-202">Dopo aver selezionato la colonna Id, fare clic su di **Imposta chiave primaria** pulsante (si trova l'icona simile a una chiave).</span><span class="sxs-lookup"><span data-stu-id="38a8c-202">After selecting the Id column, click the **Set Primary Key** button (it is the icon that looks like a key).</span></span> <span data-ttu-id="38a8c-203">In secondo luogo, è necessario contrassegnare la colonna Id come una colonna Identity.</span><span class="sxs-lookup"><span data-stu-id="38a8c-203">Second, you need to mark the Id column as an Identity column.</span></span> <span data-ttu-id="38a8c-204">Nella finestra proprietà di colonna, scorrere fino alla sezione specifica identità ed espanderlo.</span><span class="sxs-lookup"><span data-stu-id="38a8c-204">In the Column Properties window, scroll down to the Identity Specification section and expand it.</span></span> <span data-ttu-id="38a8c-205">Modifica il **identità** il valore della proprietà **Sì**.</span><span class="sxs-lookup"><span data-stu-id="38a8c-205">Change the **Is Identity** property to the value **Yes**.</span></span> <span data-ttu-id="38a8c-206">Al termine, la tabella dovrebbe essere mostrato nella figura 4.</span><span class="sxs-lookup"><span data-stu-id="38a8c-206">When you are finished, the table should look like Figure 4.</span></span>


<span data-ttu-id="38a8c-207">[![La finestra di dialogo Nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="38a8c-207">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.png)</span></span>

<span data-ttu-id="38a8c-208">**Figura 04**: tabella di database di filmati ([fare clic per visualizzare l'immagine ingrandita](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="38a8c-208">**Figure 04**: The Movies database table ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.png))</span></span>


<span data-ttu-id="38a8c-209">Il passaggio finale consiste per salvare la nuova tabella.</span><span class="sxs-lookup"><span data-stu-id="38a8c-209">The final step is to save the new table.</span></span> <span data-ttu-id="38a8c-210">Fare clic sul pulsante Salva (l'icona dell'unità disco floppy) e assegnare alla nuova tabella il nome di film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-210">Click the Save button (the icon of the floppy) and give the new table the name Movies.</span></span>

<span data-ttu-id="38a8c-211">Dopo aver completato la creazione della tabella, aggiungere alcuni record di film alla tabella.</span><span class="sxs-lookup"><span data-stu-id="38a8c-211">After you finish creating the table, add some movie records to the table.</span></span> <span data-ttu-id="38a8c-212">La tabella di filmati nella finestra di Esplora Server e scegliere l'opzione di menu **Mostra dati tabella**.</span><span class="sxs-lookup"><span data-stu-id="38a8c-212">Right-click the Movies table in the Server Explorer window and select the menu option **Show Table Data**.</span></span> <span data-ttu-id="38a8c-213">Immettere un elenco di filmati preferiti (vedere Figura 5).</span><span class="sxs-lookup"><span data-stu-id="38a8c-213">Enter a list of your favorite movies (see Figure 5).</span></span>


<span data-ttu-id="38a8c-214">[![La finestra di dialogo Nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="38a8c-214">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.png)</span></span>

<span data-ttu-id="38a8c-215">**Figura 05**: immissione record filmato ([fare clic per visualizzare l'immagine ingrandita](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="38a8c-215">**Figure 05**: Entering movie records ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.png))</span></span>


## <a name="creating-the-model"></a><span data-ttu-id="38a8c-216">Creazione del modello</span><span class="sxs-lookup"><span data-stu-id="38a8c-216">Creating the Model</span></span>

<span data-ttu-id="38a8c-217">Successivamente, è necessario creare un set di classi che rappresentano il database.</span><span class="sxs-lookup"><span data-stu-id="38a8c-217">We next need to create a set of classes to represent our database.</span></span> <span data-ttu-id="38a8c-218">È necessario creare un modello di database.</span><span class="sxs-lookup"><span data-stu-id="38a8c-218">We need to create a database model.</span></span> <span data-ttu-id="38a8c-219">L'utente verrà reindirizzato sfruttare Microsoft Entity Framework per generare automaticamente le classi per il modello di database.</span><span class="sxs-lookup"><span data-stu-id="38a8c-219">We'll take advantage of the Microsoft Entity Framework to generate the classes for our database model automatically.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="38a8c-220">Il framework di MVC ASP.NET non è correlato a Microsoft Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="38a8c-220">The ASP.NET MVC framework is not tied to the Microsoft Entity Framework.</span></span> <span data-ttu-id="38a8c-221">È possibile creare classi di modello del database che possono sfruttare un'ampia gamma di Mapping relazionale a oggetti (o / M) gli strumenti inclusi LINQ to SQL, Subsonic e NHibernate.</span><span class="sxs-lookup"><span data-stu-id="38a8c-221">You can create your database model classes by taking advantage of a variety of Object Relational Mapping (OR/M) tools including LINQ to SQL, Subsonic, and NHibernate.</span></span>


<span data-ttu-id="38a8c-222">Seguire questi passaggi per avviare la procedura guidata Entity Data Model:</span><span class="sxs-lookup"><span data-stu-id="38a8c-222">Follow these steps to launch the Entity Data Model Wizard:</span></span>

1. <span data-ttu-id="38a8c-223">Fare clic sulla cartella modelli nella finestra Esplora soluzioni e selezionare l'opzione di menu **Aggiungi, elemento nuovo**.</span><span class="sxs-lookup"><span data-stu-id="38a8c-223">Right-click the Models folder in the Solution Explorer window and the select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="38a8c-224">Selezionare il **dati** categoria e selezionare il **ADO.NET Entity Data Model** modello.</span><span class="sxs-lookup"><span data-stu-id="38a8c-224">Select the **Data** category and select the **ADO.NET Entity Data Model** template.</span></span>
3. <span data-ttu-id="38a8c-225">Denominare il modello di dati *MoviesDBModel.edmx* e fare clic su di **Aggiungi** pulsante.</span><span class="sxs-lookup"><span data-stu-id="38a8c-225">Give your data model the name *MoviesDBModel.edmx* and click the **Add** button.</span></span>

<span data-ttu-id="38a8c-226">Dopo aver fatto clic sul pulsante Aggiungi viene visualizzata la procedura guidata Entity Data Model (vedere Figura 6).</span><span class="sxs-lookup"><span data-stu-id="38a8c-226">After you click the Add button, the Entity Data Model Wizard appears (see Figure 6).</span></span> <span data-ttu-id="38a8c-227">Seguire questi passaggi per completare la procedura guidata:</span><span class="sxs-lookup"><span data-stu-id="38a8c-227">Follow these steps to complete the wizard:</span></span>

1. <span data-ttu-id="38a8c-228">Nel **Scegli contenuto Model** passaggio, seleziona il **genera da database** opzione.</span><span class="sxs-lookup"><span data-stu-id="38a8c-228">In the **Choose Model Contents** step, select the **Generate from database** option.</span></span>
2. <span data-ttu-id="38a8c-229">Nel **Seleziona connessione dati** di istruzioni, utilizzare il *MoviesDB.mdf* connessione dati e il nome *MoviesDBEntities* per le impostazioni di connessione.</span><span class="sxs-lookup"><span data-stu-id="38a8c-229">In the **Choose Your Data Connection** step, use the *MoviesDB.mdf* data connection and the name *MoviesDBEntities* for the connection settings.</span></span> <span data-ttu-id="38a8c-230">Fare clic su di **Avanti** pulsante.</span><span class="sxs-lookup"><span data-stu-id="38a8c-230">Click the **Next** button.</span></span>
3. <span data-ttu-id="38a8c-231">Nel **Seleziona oggetti di Database** passaggio, espandere il nodo tabelle, selezionare la tabella di film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-231">In the **Choose Your Database Objects** step, expand the Tables node, select the Movies table.</span></span> <span data-ttu-id="38a8c-232">Immettere lo spazio dei nomi *MovieApp.Models* e fare clic su di **fine** pulsante.</span><span class="sxs-lookup"><span data-stu-id="38a8c-232">Enter the namespace *MovieApp.Models* and click the **Finish** button.</span></span>


<span data-ttu-id="38a8c-233">[![La finestra di dialogo Nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="38a8c-233">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.png)</span></span>

<span data-ttu-id="38a8c-234">**Figura 06**: generazione di un modello di database con la procedura guidata Entity Data Model ([fare clic per visualizzare l'immagine ingrandita](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="38a8c-234">**Figure 06**: Generating a database model with the Entity Data Model Wizard ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.png))</span></span>


<span data-ttu-id="38a8c-235">Dopo aver completato la procedura guidata Entity Data Model, verrà visualizzata la finestra di progettazione Entity Data Model.</span><span class="sxs-lookup"><span data-stu-id="38a8c-235">After you complete the Entity Data Model Wizard, the Entity Data Model Designer opens.</span></span> <span data-ttu-id="38a8c-236">La finestra di progettazione deve essere visualizzato nella tabella di database di filmati (vedere la figura 7).</span><span class="sxs-lookup"><span data-stu-id="38a8c-236">The Designer should display the Movies database table (see Figure 7).</span></span>


<span data-ttu-id="38a8c-237">[![La finestra di dialogo Nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="38a8c-237">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.png)</span></span>

<span data-ttu-id="38a8c-238">**Figura 07**: la progettazione di Entity Data Model ([fare clic per visualizzare l'immagine ingrandita](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="38a8c-238">**Figure 07**: The Entity Data Model Designer ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.png))</span></span>


<span data-ttu-id="38a8c-239">È necessario apportare una modifica prima di continuare.</span><span class="sxs-lookup"><span data-stu-id="38a8c-239">We need to make one change before we continue.</span></span> <span data-ttu-id="38a8c-240">La procedura guidata Entity Data genera una classe di modello denominata filmati che rappresenta la tabella di database di film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-240">The Entity Data Wizard generates a model class named Movies that represents the Movies database table.</span></span> <span data-ttu-id="38a8c-241">Perché la classe di filmati verrà usato per rappresentare un filmato specifico, è necessario modificare il nome della classe da *film* anziché *filmati* (singolare anziché plurale).</span><span class="sxs-lookup"><span data-stu-id="38a8c-241">Because we'll use the Movies class to represent a particular movie, we need to modify the name of the class to be *Movie* instead of *Movies* (singular rather than plural).</span></span>

<span data-ttu-id="38a8c-242">Fare doppio clic sul nome della classe nell'area di progettazione e modificare il nome della classe di filmati in film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-242">Double-click the name of the class on the designer surface and change the name of the class from Movies to Movie.</span></span> <span data-ttu-id="38a8c-243">Dopo aver apportato questa modifica, fare clic su di **salvare** pulsante (icona del disco floppy) per generare la classe di film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-243">After making this change, click the **Save** button (the icon of the floppy disk) to generate the Movie class.</span></span>

## <a name="creating-the-aspnet-mvc-controller"></a><span data-ttu-id="38a8c-244">Creazione di Controller MVC ASP.NET</span><span class="sxs-lookup"><span data-stu-id="38a8c-244">Creating the ASP.NET MVC Controller</span></span>

<span data-ttu-id="38a8c-245">Il passaggio successivo consiste nel creare il controller MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="38a8c-245">The next step is to create the ASP.NET MVC controller.</span></span> <span data-ttu-id="38a8c-246">Un controller è responsabile del controllo come un utente interagisce con un'applicazione MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="38a8c-246">A controller is responsible for controlling how a user interacts with an ASP.NET MVC application.</span></span>

<span data-ttu-id="38a8c-247">Attenersi ai passaggi riportati di seguito.</span><span class="sxs-lookup"><span data-stu-id="38a8c-247">Follow these steps:</span></span>

1. <span data-ttu-id="38a8c-248">Nella finestra Esplora soluzioni, fare clic sulla cartella controller e selezionare l'opzione di menu **Aggiungi, Controller**.</span><span class="sxs-lookup"><span data-stu-id="38a8c-248">In the Solution Explorer window, right-click the Controllers folder and select the menu option **Add, Controller**.</span></span>
2. <span data-ttu-id="38a8c-249">Nella finestra di dialogo Aggiungi Controller, immettere il nome *HomeController* e selezionare la casella di controllo con etichettata **aggiungere metodi di azione per gli scenari di creazione, aggiornamento e dettaglio** (vedere la figura 8).</span><span class="sxs-lookup"><span data-stu-id="38a8c-249">In the Add Controller dialog, enter the name *HomeController* and check the checkbox labeled **Add action methods for Create, Update, and Details scenarios** (see Figure 8).</span></span>
3. <span data-ttu-id="38a8c-250">Fare clic su di **Aggiungi** pulsante per aggiungere il nuovo controller al progetto.</span><span class="sxs-lookup"><span data-stu-id="38a8c-250">Click the **Add** button to add the new controller to your project.</span></span>

<span data-ttu-id="38a8c-251">Dopo aver completato questi passaggi, viene creato il controller nel listato 1.</span><span class="sxs-lookup"><span data-stu-id="38a8c-251">After you complete these steps, the controller in Listing 1 is created.</span></span> <span data-ttu-id="38a8c-252">Si noti che contiene i metodi, denominati indice, i dettagli, creare, modificare.</span><span class="sxs-lookup"><span data-stu-id="38a8c-252">Notice that it contains methods named Index, Details, Create, and Edit.</span></span> <span data-ttu-id="38a8c-253">Nelle sezioni seguenti, verrà aggiunto il codice necessario per ottenere questi metodi per lavorare.</span><span class="sxs-lookup"><span data-stu-id="38a8c-253">In the following sections, we'll add the necessary code to get these methods to work.</span></span>


<span data-ttu-id="38a8c-254">[![La finestra di dialogo Nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="38a8c-254">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image15.png)</span></span>

<span data-ttu-id="38a8c-255">**Figura 08**: aggiunge un nuovo Controller MVC ASP.NET ([fare clic per visualizzare l'immagine ingrandita](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="38a8c-255">**Figure 08**: Adding a new ASP.NET MVC Controller ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image16.png))</span></span>


<span data-ttu-id="38a8c-256">**Elenco 1 – Controllers\HomeController.vb**</span><span class="sxs-lookup"><span data-stu-id="38a8c-256">**Listing 1 – Controllers\HomeController.vb**</span></span>

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample1.vb)]

## <a name="listing-database-records"></a><span data-ttu-id="38a8c-257">Elenco di record del Database</span><span class="sxs-lookup"><span data-stu-id="38a8c-257">Listing Database Records</span></span>

<span data-ttu-id="38a8c-258">Il metodo Index () del controller Home è il metodo predefinito per un'applicazione MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="38a8c-258">The Index() method of the Home controller is the default method for an ASP.NET MVC application.</span></span> <span data-ttu-id="38a8c-259">Quando si esegue un'applicazione ASP.NET MVC, il metodo di Index () è il primo metodo controller che viene chiamato.</span><span class="sxs-lookup"><span data-stu-id="38a8c-259">When you run an ASP.NET MVC application, the Index() method is the first controller method that is called.</span></span>

<span data-ttu-id="38a8c-260">Utilizzeremo il metodo Index () per visualizzare l'elenco di record dalla tabella di database film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-260">We'll use the Index() method to display the list of records from the Movies database table.</span></span> <span data-ttu-id="38a8c-261">L'utente verrà reindirizzato vantaggio del database di classi del modello creati in precedenza per recuperare i record del database film con il metodo Index ().</span><span class="sxs-lookup"><span data-stu-id="38a8c-261">We'll take advantage of the database model classes that we created earlier to retrieve the movie database records with the Index() method.</span></span>

<span data-ttu-id="38a8c-262">Ho modificato la classe HomeController listato 2 in modo che contenga un nuovo campo privato denominato \_db.</span><span class="sxs-lookup"><span data-stu-id="38a8c-262">I've modified the HomeController class in Listing 2 so that it contains a new private field named \_db.</span></span> <span data-ttu-id="38a8c-263">La classe MoviesDBEntities rappresenta il modello di database e questa classe verrà utilizzata per comunicare con il database.</span><span class="sxs-lookup"><span data-stu-id="38a8c-263">The MoviesDBEntities class represents our database model and we'll use this class to communicate with our database.</span></span>

<span data-ttu-id="38a8c-264">Ho modificato anche il metodo Index () nel listato 2.</span><span class="sxs-lookup"><span data-stu-id="38a8c-264">I've also modified the Index() method in Listing 2.</span></span> <span data-ttu-id="38a8c-265">Il metodo Index () utilizza la classe MoviesDBEntities per recuperare tutti i record di film dalla tabella di database film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-265">The Index() method uses the MoviesDBEntities class to retrieve all of the movie records from the Movies database table.</span></span> <span data-ttu-id="38a8c-266">L'espressione  *\_db. MovieSet.ToList()* restituisce un elenco di tutti i record di film dalla tabella di database film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-266">The expression *\_db.MovieSet.ToList()* returns a list of all of the movie records from the Movies database table.</span></span>

<span data-ttu-id="38a8c-267">L'elenco di film viene passato alla visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="38a8c-267">The list of movies is passed to the view.</span></span> <span data-ttu-id="38a8c-268">Come visualizzare i dati, tutto ciò che viene passata al metodo View() viene passata alla visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="38a8c-268">Anything that gets passed to the View() method gets passed to the view as view data.</span></span>

<span data-ttu-id="38a8c-269">**Elenco di 2 – Controllers/HomeController.vb (metodo indice modificato)**</span><span class="sxs-lookup"><span data-stu-id="38a8c-269">**Listing 2 – Controllers/HomeController.vb (modified Index method)**</span></span>

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample2.vb)]

<span data-ttu-id="38a8c-270">Il metodo Index () restituisce una visualizzazione denominata indice.</span><span class="sxs-lookup"><span data-stu-id="38a8c-270">The Index() method returns a view named Index.</span></span> <span data-ttu-id="38a8c-271">È necessario creare questa vista per visualizzare l'elenco di record del database film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-271">We need to create this view to display the list of movie database records.</span></span> <span data-ttu-id="38a8c-272">Attenersi ai passaggi riportati di seguito.</span><span class="sxs-lookup"><span data-stu-id="38a8c-272">Follow these steps:</span></span>


<span data-ttu-id="38a8c-273">È necessario compilare il progetto (selezionare l'opzione di menu **di compilazione, Compila soluzione**) prima dell'apertura di **Aggiungi visualizzazione** finestra di dialogo o nessuna classe verranno visualizzato nel **visualizzare dati classe** elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="38a8c-273">You should build your project (select the menu option **Build, Build Solution**) before opening the **Add View** dialog or no classes will appear in the **View data class** dropdown list.</span></span>


1. <span data-ttu-id="38a8c-274">Il metodo Index () nell'editor di codice e scegliere l'opzione di menu **Aggiungi visualizzazione** (vedere Figura 9).</span><span class="sxs-lookup"><span data-stu-id="38a8c-274">Right-click the Index() method in the code editor and select the menu option **Add View** (see Figure 9).</span></span>
2. <span data-ttu-id="38a8c-275">Nella finestra di dialogo Aggiungi visualizzazione, verificare che la casella di controllo con etichetta **creare una visualizzazione fortemente tipizzata** è selezionata.</span><span class="sxs-lookup"><span data-stu-id="38a8c-275">In the Add View dialog, verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="38a8c-276">Dal **visualizzare il contenuto** elenco a discesa selezionare il valore *elenco*.</span><span class="sxs-lookup"><span data-stu-id="38a8c-276">From the **View content** dropdown list, select the value *List*.</span></span>
4. <span data-ttu-id="38a8c-277">Dal **visualizzare dati classe** elenco a discesa selezionare il valore *MovieApp.Movie*.</span><span class="sxs-lookup"><span data-stu-id="38a8c-277">From the **View data class** dropdown list, select the value *MovieApp.Movie*.</span></span>
5. <span data-ttu-id="38a8c-278">Fare clic sul pulsante Aggiungi per creare il nuovo (vedere la figura 10).</span><span class="sxs-lookup"><span data-stu-id="38a8c-278">Click the Add button to create the new view (see Figure 10).</span></span>

<span data-ttu-id="38a8c-279">Dopo aver completato questi passaggi, nella cartella Views\Home viene aggiunta una nuova vista denominata Index.aspx.</span><span class="sxs-lookup"><span data-stu-id="38a8c-279">After you complete these steps, a new view named Index.aspx is added to the Views\Home folder.</span></span> <span data-ttu-id="38a8c-280">Il contenuto della visualizzazione dell'indice è incluse nel listato 3.</span><span class="sxs-lookup"><span data-stu-id="38a8c-280">The contents of the Index view are included in Listing 3.</span></span>


<span data-ttu-id="38a8c-281">[![La finestra di dialogo Nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="38a8c-281">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image17.png)</span></span>

<span data-ttu-id="38a8c-282">**Figura 09**: aggiunta di una vista da un'azione del controller ([fare clic per visualizzare l'immagine ingrandita](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="38a8c-282">**Figure 09**: Adding a view from a controller action ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image18.png))</span></span>


<span data-ttu-id="38a8c-283">[![La finestra di dialogo Nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="38a8c-283">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image19.png)</span></span>

<span data-ttu-id="38a8c-284">**Figura 10**: creazione di una nuova vista con la finestra di dialogo Aggiungi visualizzazione ([fare clic per visualizzare l'immagine ingrandita](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="38a8c-284">**Figure 10**: Creating a new view with the Add View dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image20.png))</span></span>


[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample3.aspx)]

<span data-ttu-id="38a8c-285">La visualizzazione dell'indice consente di visualizzare tutti i record di film dalla tabella di database di filmati all'interno di una tabella HTML.</span><span class="sxs-lookup"><span data-stu-id="38a8c-285">The Index view displays all of the movie records from the Movies database table within an HTML table.</span></span> <span data-ttu-id="38a8c-286">La vista contiene un ciclo For Each che scorre ogni film rappresentato dalla proprietà ViewData.Model.</span><span class="sxs-lookup"><span data-stu-id="38a8c-286">The view contains a For Each loop that iterates through each movie represented by the ViewData.Model property.</span></span> <span data-ttu-id="38a8c-287">Se si esegue l'applicazione premendo il tasto F5, si noterà la pagina web nella figura 11.</span><span class="sxs-lookup"><span data-stu-id="38a8c-287">If you run your application by hitting the F5 key, then you'll see the web page in Figure 11.</span></span>


<span data-ttu-id="38a8c-288">[![La finestra di dialogo Nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="38a8c-288">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image21.png)</span></span>

<span data-ttu-id="38a8c-289">**Figura 11**: Visualizza l'indice ([fare clic per visualizzare l'immagine ingrandita](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="38a8c-289">**Figure 11**: The Index view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image22.png))</span></span>


## <a name="creating-new-database-records"></a><span data-ttu-id="38a8c-290">Creazione di nuovi record di Database</span><span class="sxs-lookup"><span data-stu-id="38a8c-290">Creating New Database Records</span></span>

<span data-ttu-id="38a8c-291">La visualizzazione dell'indice creato nella sezione precedente include un collegamento per la creazione di nuovi record del database.</span><span class="sxs-lookup"><span data-stu-id="38a8c-291">The Index view that we created in the previous section includes a link for creating new database records.</span></span> <span data-ttu-id="38a8c-292">Proseguire e implementare la logica e creare la vista per la creazione di nuovi record di database di film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-292">Let's go ahead and implement the logic and create the view necessary for creating new movie database records.</span></span>

<span data-ttu-id="38a8c-293">Il controller Home contiene due metodi denominati metodo di creazione.</span><span class="sxs-lookup"><span data-stu-id="38a8c-293">The Home controller contains two methods named Create().</span></span> <span data-ttu-id="38a8c-294">Il primo metodo di creazione metodo non ha parametri.</span><span class="sxs-lookup"><span data-stu-id="38a8c-294">The first Create() method has no parameters.</span></span> <span data-ttu-id="38a8c-295">Questo overload del metodo di creazione metodo viene utilizzato per visualizzare il form HTML per la creazione di un nuovo record di database di film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-295">This overload of the Create() method is used to display the HTML form for creating a new movie database record.</span></span>

<span data-ttu-id="38a8c-296">Il secondo metodo di metodo di creazione ha un parametro FormCollection.</span><span class="sxs-lookup"><span data-stu-id="38a8c-296">The second Create() method has a FormCollection parameter.</span></span> <span data-ttu-id="38a8c-297">Questo overload del metodo di creazione metodo viene chiamato quando l'invio del form HTML per la creazione di un film di nuovo al server.</span><span class="sxs-lookup"><span data-stu-id="38a8c-297">This overload of the Create() method is called when the HTML form for creating a new movie is posted to the server.</span></span> <span data-ttu-id="38a8c-298">Si noti che questo secondo metodo di metodo di creazione dispone di un attributo AcceptVerbs che impedisce che il metodo viene chiamato a meno che non viene eseguita un'operazione HTTP Post.</span><span class="sxs-lookup"><span data-stu-id="38a8c-298">Notice that this second Create() method has an AcceptVerbs attribute that prevents the method from being called unless an HTTP Post operation is performed.</span></span>

<span data-ttu-id="38a8c-299">Questo esempio di metodo di creazione secondo metodo è stato modificato nella classe HomeController aggiornata nel listato 4.</span><span class="sxs-lookup"><span data-stu-id="38a8c-299">This second Create() method has been modified in the updated HomeController class in Listing 4.</span></span> <span data-ttu-id="38a8c-300">La nuova versione del metodo di creazione metodo accetta un parametro di film e contiene la logica per l'inserimento di un nuovo filmato nella tabella di database film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-300">The new version of the Create() method accepts a Movie parameter and contains the logic for inserting a new movie into the Movies database table.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="38a8c-301">Si noti l'attributo di associazione.</span><span class="sxs-lookup"><span data-stu-id="38a8c-301">Notice the Bind attribute.</span></span> <span data-ttu-id="38a8c-302">Poiché non si desidera aggiornare la proprietà Id film da form HTML, è necessario escludere in modo esplicito questa proprietà.</span><span class="sxs-lookup"><span data-stu-id="38a8c-302">Because we don't want to update the Movie Id property from HTML form, we need to explicitly exclude this property.</span></span>


<span data-ttu-id="38a8c-303">**Listato 4 – Controllers\HomeController.vb (metodo Create modificato)**</span><span class="sxs-lookup"><span data-stu-id="38a8c-303">**Listing 4 – Controllers\HomeController.vb (modified Create method)**</span></span>

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample4.vb)]

<span data-ttu-id="38a8c-304">Visual Studio è facile creare il form per la creazione di un nuovo database film registrare (vedere Figura 12).</span><span class="sxs-lookup"><span data-stu-id="38a8c-304">Visual Studio makes it easy to create the form for creating a new movie database record (see Figure 12).</span></span> <span data-ttu-id="38a8c-305">Attenersi ai passaggi riportati di seguito.</span><span class="sxs-lookup"><span data-stu-id="38a8c-305">Follow these steps:</span></span>

1. <span data-ttu-id="38a8c-306">Il metodo di metodo di creazione nell'editor di codice e scegliere l'opzione di menu **Aggiungi visualizzazione**.</span><span class="sxs-lookup"><span data-stu-id="38a8c-306">Right-click the Create() method in the code editor and select the menu option **Add View**.</span></span>
2. <span data-ttu-id="38a8c-307">Verificare che la casella di controllo con etichetta **creare una visualizzazione fortemente tipizzata** è selezionata.</span><span class="sxs-lookup"><span data-stu-id="38a8c-307">Verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="38a8c-308">Dal **visualizzare il contenuto** elenco a discesa selezionare il valore *crea*.</span><span class="sxs-lookup"><span data-stu-id="38a8c-308">From the **View content** dropdown list, select the value *Create*.</span></span>
4. <span data-ttu-id="38a8c-309">Dal **visualizzare dati classe** elenco a discesa selezionare il valore *MovieApp.Movie*.</span><span class="sxs-lookup"><span data-stu-id="38a8c-309">From the **View data class** dropdown list, select the value *MovieApp.Movie*.</span></span>
5. <span data-ttu-id="38a8c-310">Fare clic su di **Aggiungi** pulsante per creare la nuova vista.</span><span class="sxs-lookup"><span data-stu-id="38a8c-310">Click the **Add** button to create the new view.</span></span>


<span data-ttu-id="38a8c-311">[![La finestra di dialogo Nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="38a8c-311">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image23.png)</span></span>

<span data-ttu-id="38a8c-312">**Figura 12**: aggiunta della visualizzazione di creazione ([fare clic per visualizzare l'immagine ingrandita](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="38a8c-312">**Figure 12**: Adding the Create view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image24.png))</span></span>


<span data-ttu-id="38a8c-313">Visual Studio genera automaticamente la visualizzazione nel listato 5.</span><span class="sxs-lookup"><span data-stu-id="38a8c-313">Visual Studio generates the view in Listing 5 automatically.</span></span> <span data-ttu-id="38a8c-314">Questa vista contiene un form HTML che include i campi corrispondenti a ogni proprietà della classe film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-314">This view contains an HTML form that includes fields that correspond to each of the properties of the Movie class.</span></span>

<span data-ttu-id="38a8c-315">**Elenco di 5-Views\Home\Create.aspx**</span><span class="sxs-lookup"><span data-stu-id="38a8c-315">**Listing 5 – Views\Home\Create.aspx**</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample5.aspx)]

> [!NOTE] 
> 
> <span data-ttu-id="38a8c-316">Il form HTML generato dalla finestra di dialogo Aggiungi visualizzazione genera un campo modulo Id.</span><span class="sxs-lookup"><span data-stu-id="38a8c-316">The HTML form generated by the Add View dialog generates an Id form field.</span></span> <span data-ttu-id="38a8c-317">Poiché la colonna Id è una colonna Identity, è possibile rimuovere non è necessario il campo del form.</span><span class="sxs-lookup"><span data-stu-id="38a8c-317">Because the Id column is an Identity column, we don't need this form field and you can safely remove it.</span></span>


<span data-ttu-id="38a8c-318">Dopo aver aggiunto la visualizzazione di creazione, è possibile aggiungere nuovi record del film al database.</span><span class="sxs-lookup"><span data-stu-id="38a8c-318">After you add the Create view, you can add new Movie records to the database.</span></span> <span data-ttu-id="38a8c-319">Eseguire l'applicazione premendo il tasto F5 e fare clic sul collegamento Crea nuovo per visualizzare il modulo nella figura 13.</span><span class="sxs-lookup"><span data-stu-id="38a8c-319">Run your application by pressing the F5 key and click the Create New link to see the form in Figure 13.</span></span> <span data-ttu-id="38a8c-320">Se è completato e inviato il form, viene creato un nuovo record di database di film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-320">If you complete and submit the form, a new movie database record is created.</span></span>

<span data-ttu-id="38a8c-321">Si noti che si ottiene automaticamente la convalida dei form.</span><span class="sxs-lookup"><span data-stu-id="38a8c-321">Notice that you get form validation automatically.</span></span> <span data-ttu-id="38a8c-322">Se non si elencano immettere una data di rilascio per un film o si immette una data di rilascio valido, viene visualizzata di nuovo il modulo e il campo Data di rilascio viene evidenziato.</span><span class="sxs-lookup"><span data-stu-id="38a8c-322">If you neglect to enter a release date for a movie, or you enter an invalid release date, then the form is redisplayed and the release date field is highlighted.</span></span>


<span data-ttu-id="38a8c-323">[![La finestra di dialogo Nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="38a8c-323">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image25.png)</span></span>

<span data-ttu-id="38a8c-324">**Figura 13**: creazione di un nuovo record di database filmato ([fare clic per visualizzare l'immagine ingrandita](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="38a8c-324">**Figure 13**: Creating a new movie database record ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image26.png))</span></span>


## <a name="editing-existing-database-records"></a><span data-ttu-id="38a8c-325">Modifica di record di Database esistenti</span><span class="sxs-lookup"><span data-stu-id="38a8c-325">Editing Existing Database Records</span></span>

<span data-ttu-id="38a8c-326">Nelle sezioni precedenti, è illustrato come è possibile elencare e creare nuovi record di database.</span><span class="sxs-lookup"><span data-stu-id="38a8c-326">In the previous sections, we discussed how you can list and create new database records.</span></span> <span data-ttu-id="38a8c-327">In questa sezione finale, trattati come è possibile modificare i record del database esistente.</span><span class="sxs-lookup"><span data-stu-id="38a8c-327">In this final section, we discuss how you can edit existing database records.</span></span>

<span data-ttu-id="38a8c-328">In primo luogo, è necessario generare il modulo di modifica.</span><span class="sxs-lookup"><span data-stu-id="38a8c-328">First, we need to generate the Edit form.</span></span> <span data-ttu-id="38a8c-329">Questo passaggio è facile, poiché Visual Studio genera il modulo di modifica per noi automaticamente.</span><span class="sxs-lookup"><span data-stu-id="38a8c-329">This step is easy since Visual Studio will generate the Edit form for us automatically.</span></span> <span data-ttu-id="38a8c-330">Aprire la classe HomeController.vb nell'editor di codice di Visual Studio ed eseguire la procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="38a8c-330">Open the HomeController.vb class in the Visual Studio code editor and follow these steps:</span></span>

1. <span data-ttu-id="38a8c-331">Il metodo Edit() nell'editor di codice e scegliere l'opzione di menu **Aggiungi visualizzazione** (vedere Figura 14).</span><span class="sxs-lookup"><span data-stu-id="38a8c-331">Right-click the Edit() method in the code editor and select the menu option **Add View** (see Figure 14).</span></span>
2. <span data-ttu-id="38a8c-332">Selezionare la casella di controllo con etichettata **creare una visualizzazione fortemente tipizzata**.</span><span class="sxs-lookup"><span data-stu-id="38a8c-332">Check the checkbox labeled **Create a strongly-typed view**.</span></span>
3. <span data-ttu-id="38a8c-333">Dal **visualizzare il contenuto** elenco a discesa selezionare il valore *modifica*.</span><span class="sxs-lookup"><span data-stu-id="38a8c-333">From the **View content** dropdown list, select the value *Edit*.</span></span>
4. <span data-ttu-id="38a8c-334">Dal **visualizzare dati classe** elenco a discesa selezionare il valore *MovieApp.Movie*.</span><span class="sxs-lookup"><span data-stu-id="38a8c-334">From the **View data class** dropdown list, select the value *MovieApp.Movie*.</span></span>
5. <span data-ttu-id="38a8c-335">Fare clic su di **Aggiungi** pulsante per creare la nuova vista.</span><span class="sxs-lookup"><span data-stu-id="38a8c-335">Click the **Add** button to create the new view.</span></span>

<span data-ttu-id="38a8c-336">Completare questi passaggi aggiunge una nuova vista denominata Edit nella cartella Views\Home.</span><span class="sxs-lookup"><span data-stu-id="38a8c-336">Completing these steps adds a new view named Edit.aspx to the Views\Home folder.</span></span> <span data-ttu-id="38a8c-337">Questa vista contiene un form HTML per la modifica di un record di film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-337">This view contains an HTML form for editing a movie record.</span></span>


<span data-ttu-id="38a8c-338">[![La finestra di dialogo Nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="38a8c-338">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image27.png)</span></span>

<span data-ttu-id="38a8c-339">**Nella figura 14**: aggiunta della visualizzazione di modifica ([fare clic per visualizzare l'immagine ingrandita](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="38a8c-339">**Figure 14**: Adding the Edit view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image28.png))</span></span>


> [!NOTE] 
> 
> <span data-ttu-id="38a8c-340">La visualizzazione di modifica contiene un campo di form HTML che corrisponde alla proprietà Id film.</span><span class="sxs-lookup"><span data-stu-id="38a8c-340">The Edit view contains an HTML form field that corresponds to the Movie Id property.</span></span> <span data-ttu-id="38a8c-341">Non si desidera modificare il valore della proprietà Id di persone, è necessario rimuovere il campo del form.</span><span class="sxs-lookup"><span data-stu-id="38a8c-341">Because you don't want people editing the value of the Id property, you should remove this form field.</span></span>


<span data-ttu-id="38a8c-342">Infine, è necessario modificare il controller Home in modo che supporti la modifica di un record di database.</span><span class="sxs-lookup"><span data-stu-id="38a8c-342">Finally, we need to modify the Home controller so that it supports editing a database record.</span></span> <span data-ttu-id="38a8c-343">La classe HomeController aggiornata è contenuta nel listato 6.</span><span class="sxs-lookup"><span data-stu-id="38a8c-343">The updated HomeController class is contained in Listing 6.</span></span>

<span data-ttu-id="38a8c-344">**Elenco 6 – Controllers\HomeController.vb (metodi di modifica)**</span><span class="sxs-lookup"><span data-stu-id="38a8c-344">**Listing 6 – Controllers\HomeController.vb (Edit methods)**</span></span>

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample6.vb)]

<span data-ttu-id="38a8c-345">Nel listato 6 è stata aggiunta logica aggiuntiva per entrambi gli overload del metodo Edit().</span><span class="sxs-lookup"><span data-stu-id="38a8c-345">In Listing 6, I've added additional logic to both overloads of the Edit() method.</span></span> <span data-ttu-id="38a8c-346">Il primo metodo Edit() restituisce il record di database filmato che corrisponde al parametro Id passato al metodo.</span><span class="sxs-lookup"><span data-stu-id="38a8c-346">The first Edit() method returns the movie database record that corresponds to the Id parameter passed to the method.</span></span> <span data-ttu-id="38a8c-347">Il secondo overload esegue gli aggiornamenti a un record di film nel database.</span><span class="sxs-lookup"><span data-stu-id="38a8c-347">The second overload performs the updates to a movie record in the database.</span></span>

<span data-ttu-id="38a8c-348">Si noti che è necessario recuperare il film originale e quindi chiamare ApplyPropertyChanges(), per aggiornare il filmato esistente nel database.</span><span class="sxs-lookup"><span data-stu-id="38a8c-348">Notice that you must retrieve the original movie, and then call ApplyPropertyChanges(), to update the existing movie in the database.</span></span>

## <a name="summary"></a><span data-ttu-id="38a8c-349">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="38a8c-349">Summary</span></span>

<span data-ttu-id="38a8c-350">Lo scopo di questa esercitazione è stata per avere un'idea dell'esperienza di creazione di un'applicazione MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="38a8c-350">The purpose of this tutorial was to give you a sense of the experience of building an ASP.NET MVC application.</span></span> <span data-ttu-id="38a8c-351">E speriamo che si sia scoperto che la compilazione di applicazione web MVC ASP.NET è molto simile all'esperienza di creazione di un'applicazione ASP o ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="38a8c-351">I hope that you discovered that building an ASP.NET MVC web application is very similar to the experience of building an Active Server Pages or ASP.NET application.</span></span>

<span data-ttu-id="38a8c-352">In questa esercitazione sono state esaminate solo le funzionalità di base del framework di MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="38a8c-352">In this tutorial, we examined only the most basic features of the ASP.NET MVC framework.</span></span> <span data-ttu-id="38a8c-353">Nelle esercitazioni future, si vengono approfonditi argomenti quali controller, le azioni del controller, visualizzazioni, visualizzare i dati e gli helper HTML.</span><span class="sxs-lookup"><span data-stu-id="38a8c-353">In future tutorials, we dive deeper into topics such as controllers, controller actions, views, view data, and HTML helpers.</span></span>

>[!div class="step-by-step"]
[<span data-ttu-id="38a8c-354">Precedente</span><span class="sxs-lookup"><span data-stu-id="38a8c-354">Previous</span></span>](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs.md)
